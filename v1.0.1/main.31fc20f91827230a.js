(self.webpackChunkR_SPACE=self.webpackChunkR_SPACE||[]).push([[179],{943:(Se,Ee,K)=>{"use strict";function $(n){return"function"==typeof n}function B(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const oe=B(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ie(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class W{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if($(i))try{i()}catch(o){t=o instanceof oe?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{k(o)}catch(s){t=t??[],s instanceof oe?t=[...t,...s.errors]:t.push(s)}}if(t)throw new oe(t)}}add(t){var e;if(t&&t!==this)if(this.closed)k(t);else{if(t instanceof W){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ie(e,t)}remove(t){const{_finalizers:e}=this;e&&ie(e,t),t instanceof W&&t._removeParent(this)}}W.EMPTY=(()=>{const n=new W;return n.closed=!0,n})();const Z=W.EMPTY;function se(n){return n instanceof W||n&&"closed"in n&&$(n.remove)&&$(n.add)&&$(n.unsubscribe)}function k(n){$(n)?n():n.unsubscribe()}const z={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},E={setTimeout(n,t,...e){const{delegate:i}=E;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=E;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function R(n){E.setTimeout(()=>{const{onUnhandledError:t}=z;if(!t)throw n;t(n)})}function H(){}const P=q("C",void 0,void 0);function q(n,t,e){return{kind:n,value:t,error:e}}let Y=null;function T(n){if(z.useDeprecatedSynchronousErrorHandling){const t=!Y;if(t&&(Y={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Y;if(Y=null,e)throw i}}else n()}class Q extends W{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,se(t)&&t.add(this)):this.destination=le}static create(t,e,i){return new me(t,e,i)}next(t){this.isStopped?ge(function V(n){return q("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ge(function j(n){return q("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ge(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const X=Function.prototype.bind;function te(n,t){return X.call(n,t)}class ne{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ve(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ve(i)}else ve(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ve(e)}}}class me extends Q{constructor(t,e,i){let r;if(super(),$(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&z.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&te(t.next,o),error:t.error&&te(t.error,o),complete:t.complete&&te(t.complete,o)}):r=t}this.destination=new ne(r)}}function ve(n){z.useDeprecatedSynchronousErrorHandling?function F(n){z.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=n)}(n):R(n)}function ge(n,t){const{onStoppedNotification:e}=z;e&&E.setTimeout(()=>e(n,t))}const le={closed:!0,next:H,error:function ye(n){throw n},complete:H},we="function"==typeof Symbol&&Symbol.observable||"@@observable";function Me(n){return n}function Ue(n){return 0===n.length?Me:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Ce=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function de(n){return n&&n instanceof Q||function it(n){return n&&$(n.next)&&$(n.error)&&$(n.complete)}(n)&&se(n)}(e)?e:new me(e,i,r);return T(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=tt(i))((r,o)=>{const s=new me({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[we](){return this}pipe(...e){return Ue(e)(this)}toPromise(e){return new(e=tt(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function tt(n){var t;return null!==(t=n??z.Promise)&&void 0!==t?t:Promise}const pe=B(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let re=(()=>{class n extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new he(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new pe}next(e){T(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){T(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){T(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Z:(this.currentObservers=null,o.push(e),new W(()=>{this.currentObservers=null,ie(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Ce;return e.source=this,e}}return n.create=(t,e)=>new he(t,e),n})();class he extends re{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Z}}function St(n){return $(n?.lift)}function Ye(n){return t=>{if(St(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(n,t,e,i,r){return new st(n,t,e,i,r)}class st extends Q{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function He(n,t){return Ye((e,i)=>{let r=0;e.subscribe(ot(i,o=>{i.next(n.call(t,o,r++))}))})}function Gt(n){return this instanceof Gt?(this.v=n,this):new Gt(n)}function aa(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Yt(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const hs=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function da(n){return $(n?.then)}function fs(n){return $(n[we])}function ua(n){return Symbol.asyncIterator&&$(n?.[Symbol.asyncIterator])}function ps(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const tn=function wi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ms(n){return $(n?.[tn])}function ha(n){return function ar(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(b){return function(_){return Promise.resolve(_).then(b,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(b,_){i[b]&&(r[b]=function(w){return new Promise(function(C,M){o.push([b,w,C,M])>1||l(b,w)})},_&&(r[b]=_(r[b])))}function l(b,_){try{!function c(b){b.value instanceof Gt?Promise.resolve(b.value.v).then(d,u):g(o[0][2],b)}(i[b](_))}catch(w){g(o[0][3],w)}}function d(b){l("next",b)}function u(b){l("throw",b)}function g(b,_){b(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Gt(e.read());if(r)return yield Gt(void 0);yield yield Gt(i)}}finally{e.releaseLock()}})}function Ld(n){return $(n?.getReader)}function Li(n){if(n instanceof Ce)return n;if(null!=n){if(fs(n))return function op(n){return new Ce(t=>{const e=n[we]();if($(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(hs(n))return function Vt(n){return new Ce(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(da(n))return function sp(n){return new Ce(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,R)})}(n);if(ua(n))return Nd(n);if(ms(n))return function ap(n){return new Ce(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Ld(n))return function lp(n){return Nd(ha(n))}(n)}throw ps(n)}function Nd(n){return new Ce(t=>{(function cp(n,t){var e,i,r,o;return function nt(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(u){s(u)}}function l(d){try{c(i.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(d.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=aa(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function cr(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Zt(n,t,e=1/0){return $(t)?Zt((i,r)=>He((o,s)=>t(i,o,r,s))(Li(n(i,r))),e):("number"==typeof t&&(e=t),Ye((i,r)=>function Bl(n,t,e,i,r,o,s,a){const l=[];let c=0,d=0,u=!1;const g=()=>{u&&!l.length&&!c&&t.complete()},b=w=>c<i?_(w):l.push(w),_=w=>{o&&t.next(w),c++;let C=!1;Li(e(w,d++)).subscribe(ot(t,M=>{r?.(M),o?b(M):t.next(M)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){const M=l.shift();s?cr(t,s,()=>_(M)):_(M)}g()}catch(M){t.error(M)}}))};return n.subscribe(ot(t,b,()=>{u=!0,g()})),()=>{a?.()}}(i,r,n,e)))}function Kr(n=1/0){return Zt(Me,n)}const Gi=new Ce(n=>n.complete());function Bd(n){return n&&$(n.schedule)}function Vl(n){return n[n.length-1]}function zl(n){return $(Vl(n))?n.pop():void 0}function Mo(n){return Bd(Vl(n))?n.pop():void 0}function Vd(n,t=0){return Ye((e,i)=>{e.subscribe(ot(i,r=>cr(i,n,()=>i.next(r),t),()=>cr(i,n,()=>i.complete(),t),r=>cr(i,n,()=>i.error(r),t)))})}function Hl(n,t=0){return Ye((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Ul(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ce(e=>{cr(e,t,()=>{const i=n[Symbol.asyncIterator]();cr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function ei(n,t){return t?function jd(n,t){if(null!=n){if(fs(n))return function hp(n,t){return Li(n).pipe(Hl(t),Vd(t))}(n,t);if(hs(n))return function fp(n,t){return new Ce(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(da(n))return function zd(n,t){return Li(n).pipe(Hl(t),Vd(t))}(n,t);if(ua(n))return Ul(n,t);if(ms(n))return function jl(n,t){return new Ce(e=>{let i;return cr(e,t,()=>{i=n[tn](),cr(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>$(i?.return)&&i.return()})}(n,t);if(Ld(n))return function Hd(n,t){return Ul(ha(n),t)}(n,t)}throw ps(n)}(n,t):Li(n)}function fa(...n){const t=Mo(n),e=function up(n,t){return"number"==typeof Vl(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Li(i[0]):Kr(e)(ei(i,t)):Gi}function Do(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new me({next:()=>{i.unsubscribe(),n()}});return Li(t(...e)).subscribe(i)}function At(n){for(let t in n)if(n[t]===At)return t;throw Error("Could not find renamed property on target object.")}function So(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Nt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Nt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function $l(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const pp=At({__forward_ref__:At});function zt(n){return n.__forward_ref__=zt,n.toString=function(){return Nt(this())},n}function Ke(n){return Wl(n)?n():n}function Wl(n){return"function"==typeof n&&n.hasOwnProperty(pp)&&n.__forward_ref__===zt}function Gl(n){return n&&!!n.\u0275providers}const pa="https://g.co/ng/security#xss";class ae extends Error{constructor(t,e){super(ma(t,e)),this.code=t}}function ma(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}function rt(n){return"string"==typeof n?n:null==n?"":String(n)}function gs(n,t){throw new ae(-201,!1)}function mn(n,t){null==n&&function Ot(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function xe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ga(n){return Gd(n,ba)||Gd(n,Yd)}function Gd(n,t){return n.hasOwnProperty(t)?n[t]:null}function To(n){return n&&(n.hasOwnProperty(Yl)||n.hasOwnProperty(Kd))?n[Yl]:null}const ba=At({\u0275prov:At}),Yl=At({\u0275inj:At}),Yd=At({ngInjectableDef:At}),Kd=At({ngInjectorDef:At});var Ve=(()=>((Ve=Ve||{})[Ve.Default=0]="Default",Ve[Ve.Host=1]="Host",Ve[Ve.Self=2]="Self",Ve[Ve.SkipSelf=4]="SkipSelf",Ve[Ve.Optional=8]="Optional",Ve))();let Kl;function gn(n){const t=Kl;return Kl=n,t}function Xd(n,t,e){const i=ga(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Ve.Optional?null:void 0!==t?t:void gs(Nt(n))}const jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_s={},ko="__NG_DI_FLAG__",ys="ngTempTokenPath",yp="ngTokenPath",xp=/\n/gm,wp="\u0275",Xl="__source";let xs;function Sr(n){const t=xs;return xs=n,t}function Zd(n,t=Ve.Default){if(void 0===xs)throw new ae(-203,!1);return null===xs?Xd(n,void 0,t):xs.get(n,t&Ve.Optional?null:void 0,t)}function G(n,t=Ve.Default){return(function _p(){return Kl}()||Zd)(Ke(n),t)}function Ze(n,t=Ve.Default){return G(n,_a(t))}function _a(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ya(n){const t=[];for(let e=0;e<n.length;e++){const i=Ke(n[e]);if(Array.isArray(i)){if(0===i.length)throw new ae(900,!1);let r,o=Ve.Default;for(let s=0;s<i.length;s++){const a=i[s],l=Qd(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(G(r,o))}else t.push(G(i))}return t}function Ao(n,t){return n[ko]=t,n.prototype[ko]=t,n}function Qd(n){return n[ko]}function Un(n){return{toString:n}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),bn=(()=>{return(n=bn||(bn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",bn;var n})();const $n={},vt=[],xa=At({\u0275cmp:At}),Zl=At({\u0275dir:At}),Ql=At({\u0275pipe:At}),Jl=At({\u0275mod:At}),Wn=At({\u0275fac:At}),Oo=At({__NG_ELEMENT_ID__:At});let Cp=0;function Qe(n){return Un(()=>{const t=ou(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||bn.Emulated,id:"c"+Cp++,styles:n.styles||vt,_:null,schemas:n.schemas||null,tView:null};su(e);const i=n.dependencies;return e.directiveDefs=wa(i,!1),e.pipeDefs=wa(i,!0),e})}function tu(n){return Pt(n)||Oi(n)}function iu(n){return null!==n}function _t(n){return Un(()=>({type:n.type,bootstrap:n.bootstrap||vt,declarations:n.declarations||vt,imports:n.imports||vt,exports:n.exports||vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ru(n,t){if(null==n)return $n;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function Be(n){return Un(()=>{const t=ou(n);return su(t),t})}function Ai(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Pt(n){return n[xa]||null}function Oi(n){return n[Zl]||null}function qi(n){return n[Ql]||null}function Pi(n,t){const e=n[Jl]||null;if(!e&&!0===t)throw new Error(`Type ${Nt(n)} does not have '\u0275mod' property.`);return e}function ou(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||vt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ru(n.inputs,t),outputs:ru(n.outputs)}}function su(n){n.features?.forEach(t=>t(n))}function wa(n,t){if(!n)return null;const e=t?qi:tu;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(iu)}const dr=0,Pe=1,dt=2,Qt=3,Mn=4,Xr=5,Ci=6,Zr=7,ti=8,Ca=9,Ea=10,ut=11,ws=12,Cs=13,au=14,Ro=15,Ni=16,Ma=17,Es=18,Gn=19,Ms=20,ec=21,Ut=22,tc=1,lu=2,Da=7,Sa=8,Fo=9,Bi=10;function ui(n){return Array.isArray(n)&&"object"==typeof n[tc]}function vn(n){return Array.isArray(n)&&!0===n[tc]}function ic(n){return 0!=(4&n.flags)}function Tr(n){return n.componentOffset>-1}function Ta(n){return 1==(1&n.flags)}function Dn(n){return!!n.template}function Mp(n){return 0!=(256&n[dt])}function J(n,t){return n.hasOwnProperty(Wn)?n[Wn]:null}class Te{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function je(){return Rt}function Rt(n){return n.type.prototype.ngOnChanges&&(n.setInput=Io),Kt}function Kt(){const n=Zv(this),t=n?.current;if(t){const e=n.previous;if(e===$n)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Io(n,t,e,i){const r=this.declaredInputs[e],o=Zv(n)||function aT(n,t){return n[ka]=t}(n,{previous:$n,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new Te(l&&l.currentValue,t,a===$n),n[i]=t}je.ngInherit=!0;const ka="__ngSimpleChanges__";function Zv(n){return n[ka]||null}const qn=function(n,t,e){},Qv="svg";function Vi(n){for(;Array.isArray(n);)n=n[dr];return n}function cu(n,t){return Vi(t[n])}function Sn(n,t){return Vi(t[n.index])}function e_(n,t){return n.data[t]}function Aa(n,t){return n[t]}function _n(n,t){const e=t[n];return ui(e)?e:e[dr]}function du(n){return 64==(64&n[dt])}function Lo(n,t){return null==t?null:n[t]}function t_(n){n[Es]=0}function Ap(n,t){n[Xr]+=t;let e=n,i=n[Qt];for(;null!==i&&(1===t&&1===e[Xr]||-1===t&&0===e[Xr]);)i[Xr]+=t,e=i,i=i[Qt]}const at={lFrame:u_(null),bindingsEnabled:!0};function n_(){return at.bindingsEnabled}function fe(){return at.lFrame.lView}function Mt(){return at.lFrame.tView}function $e(n){return at.lFrame.contextLView=n,n[ti]}function We(n){return at.lFrame.contextLView=null,n}function zi(){let n=r_();for(;null!==n&&64===n.type;)n=n.parent;return n}function r_(){return at.lFrame.currentTNode}function kr(n,t){const e=at.lFrame;e.currentTNode=n,e.isParent=t}function Op(){return at.lFrame.isParent}function Pp(){at.lFrame.isParent=!1}function rn(){const n=at.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Oa(){return at.lFrame.bindingIndex++}function Jr(n){const t=at.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function yT(n,t){const e=at.lFrame;e.bindingIndex=e.bindingRootIndex=n,Rp(t)}function Rp(n){at.lFrame.currentDirectiveIndex=n}function Fp(n){const t=at.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function l_(){return at.lFrame.currentQueryIndex}function Ip(n){at.lFrame.currentQueryIndex=n}function wT(n){const t=n[Pe];return 2===t.type?t.declTNode:1===t.type?n[Ci]:null}function c_(n,t,e){if(e&Ve.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&Ve.Host||(r=wT(o),null===r||(o=o[Ro],10&r.type))););if(null===r)return!1;t=r,n=o}const i=at.lFrame=d_();return i.currentTNode=t,i.lView=n,!0}function Lp(n){const t=d_(),e=n[Pe];at.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function d_(){const n=at.lFrame,t=null===n?null:n.child;return null===t?u_(n):t}function u_(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function h_(){const n=at.lFrame;return at.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const f_=h_;function Np(){const n=h_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function on(){return at.lFrame.selectedIndex}function Ss(n){at.lFrame.selectedIndex=n}function ii(){const n=at.lFrame;return e_(n.tView,n.selectedIndex)}function ke(){at.lFrame.currentNamespace=Qv}function Re(){!function DT(){at.lFrame.currentNamespace=null}()}function uu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks??(n.contentHooks=[])).push(e,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks??(n.viewHooks=[])).push(e,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(e,c)),null!=d&&(n.destroyHooks??(n.destroyHooks=[])).push(e,d)}}function hu(n,t,e){p_(n,t,3,e)}function fu(n,t,e,i){(3&n[dt])===e&&p_(n,t,e,i)}function Bp(n,t){let e=n[dt];(3&e)===t&&(e&=2047,e+=1,n[dt]=e)}function p_(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Es]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Es]+=65536),(a<o||-1==o)&&(kT(n,e,t,l),n[Es]=(4294901760&n[Es])+l+2),l++}function kT(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[dt]>>11<n[Es]>>16&&(3&n[dt])===t){n[dt]+=2048,qn(4,a,o);try{o.call(a)}finally{qn(5,a,o)}}}else{qn(4,a,o);try{o.call(a)}finally{qn(5,a,o)}}}const Pa=-1;class oc{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function zp(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];g_(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function m_(n){return 3===n||4===n||6===n}function g_(n){return 64===n.charCodeAt(0)}function sc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||b_(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function b_(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function v_(n){return n!==Pa}function pu(n){return 32767&n}function mu(n,t){let e=function RT(n){return n>>16}(n),i=t;for(;e>0;)i=i[Ro],e--;return i}let Hp=!0;function gu(n){const t=Hp;return Hp=n,t}const __=255,y_=5;let FT=0;const Ar={};function bu(n,t){const e=x_(n,t);if(-1!==e)return e;const i=t[Pe];i.firstCreatePass&&(n.injectorIndex=t.length,jp(i.data,n),jp(t,null),jp(i.blueprint,null));const r=Up(n,t),o=n.injectorIndex;if(v_(r)){const s=pu(r),a=mu(r,t),l=a[Pe].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function jp(n,t){n.push(0,0,0,0,0,0,0,0,t)}function x_(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Up(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=T_(r),null===i)return Pa;if(e++,r=r[Ro],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Pa}function $p(n,t,e){!function IT(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Oo)&&(i=e[Oo]),null==i&&(i=e[Oo]=FT++);const r=i&__;t.data[n+(r>>y_)]|=1<<r}(n,t,e)}function w_(n,t,e){if(e&Ve.Optional||void 0!==n)return n;gs()}function C_(n,t,e,i){if(e&Ve.Optional&&void 0===i&&(i=null),!(e&(Ve.Self|Ve.Host))){const r=n[Ca],o=gn(void 0);try{return r?r.get(t,i,e&Ve.Optional):Xd(t,i,e&Ve.Optional)}finally{gn(o)}}return w_(i,0,e)}function E_(n,t,e,i=Ve.Default,r){if(null!==n){if(1024&t[dt]){const s=function zT(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&1024&s[dt]&&!(256&s[dt]);){const a=M_(o,s,e,i|Ve.Self,Ar);if(a!==Ar)return a;let l=o.parent;if(!l){const c=s[ec];if(c){const d=c.get(e,Ar,i);if(d!==Ar)return d}l=T_(s),s=s[Ro]}o=l}return r}(n,t,e,i,Ar);if(s!==Ar)return s}const o=M_(n,t,e,i,Ar);if(o!==Ar)return o}return C_(t,e,i,r)}function M_(n,t,e,i,r){const o=function BT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Oo)?n[Oo]:void 0;return"number"==typeof t?t>=0?t&__:VT:t}(e);if("function"==typeof o){if(!c_(t,n,i))return i&Ve.Host?w_(r,0,i):C_(t,e,i,r);try{const s=o(i);if(null!=s||i&Ve.Optional)return s;gs()}finally{f_()}}else if("number"==typeof o){let s=null,a=x_(n,t),l=Pa,c=i&Ve.Host?t[Ni][Ci]:null;for((-1===a||i&Ve.SkipSelf)&&(l=-1===a?Up(n,t):t[a+8],l!==Pa&&S_(i,!1)?(s=t[Pe],a=pu(l),t=mu(l,t)):a=-1);-1!==a;){const d=t[Pe];if(D_(o,a,d.data)){const u=NT(a,t,e,s,i,c);if(u!==Ar)return u}l=t[a+8],l!==Pa&&S_(i,t[Pe].data[a+8]===c)&&D_(o,a,t)?(s=d,a=pu(l),t=mu(l,t)):a=-1}}return r}function NT(n,t,e,i,r,o){const s=t[Pe],a=s.data[n+8],d=vu(a,s,e,null==i?Tr(a)&&Hp:i!=s&&0!=(3&a.type),r&Ve.Host&&o===a);return null!==d?Ts(t,s,d,a):Ar}function vu(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,d=o>>20,g=r?a+d:n.directiveEnd;for(let b=i?a:a+d;b<g;b++){const _=s[b];if(b<l&&e===_||b>=l&&_.type===e)return b}if(r){const b=s[l];if(b&&Dn(b)&&b.type===e)return l}return null}function Ts(n,t,e,i){let r=n[e];const o=t.data;if(function AT(n){return n instanceof oc}(r)){const s=r;s.resolving&&function $d(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new ae(-200,`Circular dependency in DI detected for ${n}${e}`)}(function wt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():rt(n)}(o[e]));const a=gu(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?gn(s.injectImpl):null;c_(n,i,Ve.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function TT(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Rt(t);(e.preOrderHooks??(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks??(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&gn(l),gu(a),s.resolving=!1,f_()}}return r}function D_(n,t,e){return!!(e[t+(n>>y_)]&1<<n)}function S_(n,t){return!(n&Ve.Self||n&Ve.Host&&t)}class Ra{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return E_(this._tNode,this._lView,t,_a(i),e)}}function VT(){return new Ra(zi(),fe())}function Ri(n){return Un(()=>{const t=n.prototype.constructor,e=t[Wn]||Wp(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Wn]||Wp(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Wp(n){return Wl(n)?()=>{const t=Wp(Ke(n));return t&&t()}:J(n)}function T_(n){const t=n[Pe],e=t.type;return 2===e?t.declTNode:1===e?n[Ci]:null}function ac(n){return function LT(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(m_(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(zi(),n)}const Ia="__parameters__";function Na(n,t,e){return Un(()=>{const i=function Gp(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,d){const u=l.hasOwnProperty(Ia)?l[Ia]:Object.defineProperty(l,Ia,{value:[]})[Ia];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class be{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=xe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ks(n,t){n.forEach(e=>Array.isArray(e)?ks(e,t):t(e))}function A_(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function _u(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function dc(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Tn(n,t,e){let i=Ba(n,t);return i>=0?n[1|i]=e:(i=~i,function $T(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Yp(n,t){const e=Ba(n,t);if(e>=0)return n[1|e]}function Ba(n,t){return function O_(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const xu=Ao(Na("Inject",n=>({token:n})),-1),eo=Ao(Na("Optional"),8),Va=Ao(Na("SkipSelf"),4);var yn=(()=>((yn=yn||{})[yn.Important=1]="Important",yn[yn.DashCase=2]="DashCase",yn))();const Jp=new Map;let hk=0;const tm="__ngContext__";function Yi(n,t){ui(t)?(n[tm]=t[Ms],function pk(n){Jp.set(n[Ms],n)}(t)):n[tm]=t}let im;function nm(n,t){return im(n,t)}function pc(n){const t=n[Qt];return vn(t)?t[Qt]:t}function rm(n){return Z_(n[Cs])}function om(n){return Z_(n[Mn])}function Z_(n){for(;null!==n&&!vn(n);)n=n[Mn];return n}function Ha(n,t,e,i,r){if(null!=i){let o,s=!1;vn(i)?o=i:ui(i)&&(s=!0,i=i[dr]);const a=Vi(i);0===n&&null!==e?null==r?ny(t,e,a):As(t,e,a,r||null,!0):1===n&&null!==e?As(t,e,a,r||null,!0):2===n?function hm(n,t,e){const i=Eu(n,t);i&&function Fk(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function Nk(n,t,e,i,r){const o=e[Da];o!==Vi(e)&&Ha(t,n,i,o,r);for(let a=Bi;a<e.length;a++){const l=e[a];mc(l[Pe],l,n,t,i,o)}}(t,n,o,e,r)}}function am(n,t,e){return n.createElement(t,e)}function J_(n,t){const e=n[Fo],i=e.indexOf(t),r=t[Qt];512&t[dt]&&(t[dt]&=-513,Ap(r,-1)),e.splice(i,1)}function lm(n,t){if(n.length<=Bi)return;const e=Bi+t,i=n[e];if(i){const r=i[Ma];null!==r&&r!==n&&J_(r,i),t>0&&(n[e-1][Mn]=i[Mn]);const o=_u(n,Bi+t);!function Dk(n,t){mc(n,t,t[ut],2,null,null),t[dr]=null,t[Ci]=null}(i[Pe],i);const s=o[Gn];null!==s&&s.detachView(o[Pe]),i[Qt]=null,i[Mn]=null,i[dt]&=-65}return i}function ey(n,t){if(!(128&t[dt])){const e=t[ut];e.destroyNode&&mc(n,t,e,3,null,null),function kk(n){let t=n[Cs];if(!t)return cm(n[Pe],n);for(;t;){let e=null;if(ui(t))e=t[Cs];else{const i=t[Bi];i&&(e=i)}if(!e){for(;t&&!t[Mn]&&t!==n;)ui(t)&&cm(t[Pe],t),t=t[Qt];null===t&&(t=n),ui(t)&&cm(t[Pe],t),e=t&&t[Mn]}t=e}}(t)}}function cm(n,t){if(!(128&t[dt])){t[dt]&=-65,t[dt]|=128,function Rk(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof oc)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];qn(4,a,l);try{l.call(a)}finally{qn(5,a,l)}}else{qn(4,r,o);try{o.call(r)}finally{qn(5,r,o)}}}}}(n,t),function Pk(n,t){const e=n.cleanup,i=t[Zr];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[r=s]():i[r=-s].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();t[Zr]=null}}(n,t),1===t[Pe].type&&t[ut].destroy();const e=t[Ma];if(null!==e&&vn(t[Qt])){e!==t[Qt]&&J_(e,t);const i=t[Gn];null!==i&&i.detachView(n)}!function mk(n){Jp.delete(n[Ms])}(t)}}function ty(n,t,e){return function iy(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[dr];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===bn.None||o===bn.Emulated)return null}return Sn(i,e)}}(n,t.parent,e)}function As(n,t,e,i,r){n.insertBefore(t,e,i,r)}function ny(n,t,e){n.appendChild(t,e)}function ry(n,t,e,i,r){null!==i?As(n,t,e,i,r):ny(n,t,e)}function Eu(n,t){return n.parentNode(t)}function oy(n,t,e){return ay(n,t,e)}let dm,Su,mm,Tu,ay=function sy(n,t,e){return 40&n.type?Sn(n,e):null};function Mu(n,t,e,i){const r=ty(n,i,t),o=t[ut],a=oy(i.parent||t[Ci],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)ry(o,r,e[l],a,!1);else ry(o,r,e,a,!1);void 0!==dm&&dm(o,i,t,e,r)}function Du(n,t){if(null!==t){const e=t.type;if(3&e)return Sn(t,n);if(4&e)return um(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Du(n,i);{const r=n[t.index];return vn(r)?um(-1,r):Vi(r)}}if(32&e)return nm(t,n)()||Vi(n[t.index]);{const i=cy(n,t);return null!==i?Array.isArray(i)?i[0]:Du(pc(n[Ni]),i):Du(n,t.next)}}return null}function cy(n,t){return null!==t?n[Ni][Ci].projection[t.projection]:null}function um(n,t){const e=Bi+n+1;if(e<t.length){const i=t[e],r=i[Pe].firstChild;if(null!==r)return Du(i,r)}return t[Da]}function fm(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&Yi(Vi(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)fm(n,t,e.child,i,r,o,!1),Ha(t,n,r,a,o);else if(32&l){const c=nm(e,i);let d;for(;d=c();)Ha(t,n,r,d,o);Ha(t,n,r,a,o)}else 16&l?dy(n,t,i,e,r,o):Ha(t,n,r,a,o);e=s?e.projectionNext:e.next}}function mc(n,t,e,i,r,o){fm(e,i,n.firstChild,t,r,o,!1)}function dy(n,t,e,i,r,o){const s=e[Ni],l=s[Ci].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ha(t,n,r,l[c],o);else fm(n,t,l,s[Qt],r,o,!0)}function uy(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function hy(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&zp(n,t,i),null!==r&&uy(n,t,r),null!==o&&function Vk(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function ja(n){return function pm(){if(void 0===Su&&(Su=null,jt.trustedTypes))try{Su=jt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Su}()?.createHTML(n)||n}function gm(){if(void 0===Tu&&(Tu=null,jt.trustedTypes))try{Tu=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Tu}function py(n){return gm()?.createHTML(n)||n}function gy(n){return gm()?.createScriptURL(n)||n}class Os{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pa})`}}class $k extends Os{getTypeName(){return"HTML"}}class Wk extends Os{getTypeName(){return"Style"}}class Gk extends Os{getTypeName(){return"Script"}}class qk extends Os{getTypeName(){return"URL"}}class Yk extends Os{getTypeName(){return"ResourceURL"}}function kn(n){return n instanceof Os?n.changingThisBreaksApplicationSecurity:n}function Or(n,t){const e=function Kk(n){return n instanceof Os&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${pa})`)}return e===t}class tA{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(ja(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class iA{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=ja(t),e}}const rA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ku(n){return(n=String(n)).match(rA)?n:"unsafe:"+n}function to(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function gc(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const vy=to("area,br,col,hr,img,wbr"),_y=to("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yy=to("rp,rt"),bm=gc(vy,gc(_y,to("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gc(yy,to("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gc(yy,_y)),vm=to("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xy=gc(vm,to("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),to("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oA=to("script,style,template");class sA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!bm.hasOwnProperty(e))return this.sanitizedSomething=!0,!oA.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!xy.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;vm[a]&&(l=ku(l)),this.buf.push(" ",s,'="',wy(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();bm.hasOwnProperty(e)&&!vy.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(wy(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const aA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lA=/([^\#-~ |!])/g;function wy(n){return n.replace(/&/g,"&amp;").replace(aA,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lA,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Au;function Cy(n,t){let e=null;try{Au=Au||function by(n){const t=new iA(n);return function nA(){try{return!!(new window.DOMParser).parseFromString(ja(""),"text/html")}catch{return!1}}()?new tA(t):t}(n);let i=t?String(t):"";e=Au.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Au.getInertBodyElement(i)}while(i!==o);return ja((new sA).sanitizeChildren(_m(e)||e))}finally{if(e){const i=_m(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function _m(n){return"content"in n&&function cA(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ft=(()=>((Ft=Ft||{})[Ft.NONE=0]="NONE",Ft[Ft.HTML=1]="HTML",Ft[Ft.STYLE=2]="STYLE",Ft[Ft.SCRIPT=3]="SCRIPT",Ft[Ft.URL=4]="URL",Ft[Ft.RESOURCE_URL=5]="RESOURCE_URL",Ft))();function ym(n){const t=bc();return t?py(t.sanitize(Ft.HTML,n)||""):Or(n,"HTML")?py(kn(n)):Cy(function fy(){return void 0!==mm?mm:typeof document<"u"?document:void 0}(),rt(n))}function Ey(n){const t=bc();return t?t.sanitize(Ft.URL,n)||"":Or(n,"URL")?kn(n):ku(rt(n))}function My(n){const t=bc();if(t)return gy(t.sanitize(Ft.RESOURCE_URL,n)||"");if(Or(n,"ResourceURL"))return gy(kn(n));throw new ae(904,!1)}function bc(){const n=fe();return n&&n[ws]}const Ou=new be("ENVIRONMENT_INITIALIZER"),Sy=new be("INJECTOR",-1),Ty=new be("INJECTOR_DEF_TYPES");class ky{get(t,e=_s){if(e===_s){const i=new Error(`NullInjectorError: No provider for ${Nt(t)}!`);throw i.name="NullInjectorError",i}return e}}function gA(...n){return{\u0275providers:Ay(0,n),\u0275fromNgModule:!0}}function Ay(n,...t){const e=[],i=new Set;let r;return ks(t,o=>{const s=o;xm(s,e,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&Oy(r,e),e}function Oy(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];wm(r,o=>{t.push(o)})}}function xm(n,t,e,i){if(!(n=Ke(n)))return!1;let r=null,o=To(n);const s=!o&&Pt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=To(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)xm(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{ks(o.imports,d=>{xm(d,t,e,i)&&(c||(c=[]),c.push(d))})}finally{}void 0!==c&&Oy(c,t)}if(!a){const c=J(r)||(()=>new r);t.push({provide:r,useFactory:c,deps:vt},{provide:Ty,useValue:r,multi:!0},{provide:Ou,useValue:()=>G(r),multi:!0})}const l=o.providers;null==l||a||wm(l,d=>{t.push(d)})}}return r!==n&&void 0!==n.providers}function wm(n,t){for(let e of n)Gl(e)&&(e=e.\u0275providers),Array.isArray(e)?wm(e,t):t(e)}const bA=At({provide:String,useValue:At});function Cm(n){return null!==n&&"object"==typeof n&&bA in n}function Ps(n){return"function"==typeof n}const Em=new be("Set Injector scope."),Pu={},_A={};let Mm;function Ru(){return void 0===Mm&&(Mm=new ky),Mm}class Pr{}class Fy extends Pr{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sm(t,s=>this.processProvider(s)),this.records.set(Sy,Ua(void 0,this)),r.has("environment")&&this.records.set(Pr,Ua(void 0,this));const o=this.records.get(Em);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ty.multi,vt,Ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Sr(this),i=gn(void 0);try{return t()}finally{Sr(e),gn(i)}}get(t,e=_s,i=Ve.Default){this.assertNotDestroyed(),i=_a(i);const r=Sr(this),o=gn(void 0);try{if(!(i&Ve.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function EA(n){return"function"==typeof n||"object"==typeof n&&n instanceof be}(t)&&ga(t);a=l&&this.injectableDefInScope(l)?Ua(Dm(t),Pu):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Ve.Self?Ru():this.parent).get(t,e=i&Ve.Optional&&e===_s?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[ys]=s[ys]||[]).unshift(Nt(t)),r)throw s;return function Jd(n,t,e,i){const r=n[ys];throw t[Xl]&&r.unshift(t[Xl]),n.message=function eu(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==wp?n.slice(2):n;let r=Nt(t);if(Array.isArray(t))r=t.map(Nt).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Nt(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(xp,"\n  ")}`}("\n"+n.message,r,e,i),n[yp]=r,n[ys]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{gn(o),Sr(r)}}resolveInjectorInitializers(){const t=Sr(this),e=gn(void 0);try{const i=this.get(Ou.multi,vt,Ve.Self);for(const r of i)r()}finally{Sr(t),gn(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Nt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(t){let e=Ps(t=Ke(t))?t:Ke(t&&t.provide);const i=function xA(n){return Cm(n)?Ua(void 0,n.useValue):Ua(Iy(n),Pu)}(t);if(Ps(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Ua(void 0,Pu,!0),r.factory=()=>ya(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Pu&&(e.value=_A,e.value=e.factory()),"object"==typeof e.value&&e.value&&function CA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Ke(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Dm(n){const t=ga(n),e=null!==t?t.factory:J(n);if(null!==e)return e;if(n instanceof be)throw new ae(204,!1);if(n instanceof Function)return function yA(n){const t=n.length;if(t>0)throw dc(t,"?"),new ae(204,!1);const e=function qd(n){return n&&(n[ba]||n[Yd])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new ae(204,!1)}function Iy(n,t,e){let i;if(Ps(n)){const r=Ke(n);return J(r)||Dm(r)}if(Cm(n))i=()=>Ke(n.useValue);else if(function Ry(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...ya(n.deps||[]));else if(function Py(n){return!(!n||!n.useExisting)}(n))i=()=>G(Ke(n.useExisting));else{const r=Ke(n&&(n.useClass||n.provide));if(!function wA(n){return!!n.deps}(n))return J(r)||Dm(r);i=()=>new r(...ya(n.deps))}return i}function Ua(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Sm(n,t){for(const e of n)Array.isArray(e)?Sm(e,t):e&&Gl(e)?Sm(e.\u0275providers,t):t(e)}class MA{}class Ly{}class SA{resolveComponentFactory(t){throw function DA(n){const t=Error(`No component factory found for ${Nt(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let No=(()=>{class n{}return n.NULL=new SA,n})();function TA(){return $a(zi(),fe())}function $a(n,t){return new It(Sn(n,t))}let It=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=TA,n})();function kA(n){return n instanceof It?n.nativeElement:n}class vc{}let io=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function AA(){const n=fe(),e=_n(zi().index,n);return(ui(e)?e:n)[ut]}(),n})(),OA=(()=>{class n{}return n.\u0275prov=xe({token:n,providedIn:"root",factory:()=>null}),n})();class Rs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const PA=new Rs("15.2.10"),Tm={},km="ngOriginalError";function Am(n){return n[km]}class Bo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Am(t);for(;e&&Am(e);)e=Am(e);return e||null}}function Fu(n){return n.ownerDocument}function no(n){return n instanceof Function?n():n}function Vy(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const zy="ng-template";function jA(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==Vy(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Hy(n){return 4===n.type&&n.value!==zy}function UA(n,t,e){return t===(4!==n.type||e?n.value:zy)}function $A(n,t,e){let i=4;const r=n.attrs||[],o=function qA(n){for(let t=0;t<n.length;t++)if(m_(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!UA(n,l,e)||""===l&&1===t.length){if(hr(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!jA(n.attrs,c,e)){if(hr(i))return!1;s=!0}continue}const u=WA(8&i?"class":l,r,Hy(n),e);if(-1===u){if(hr(i))return!1;s=!0;continue}if(""!==c){let g;g=u>o?"":r[u+1].toLowerCase();const b=8&i?g:null;if(b&&-1!==Vy(b,c,0)||2&i&&c!==g){if(hr(i))return!1;s=!0}}}}else{if(!s&&!hr(i)&&!hr(l))return!1;if(s&&hr(l))continue;s=!1,i=l|1&i}}return hr(i)||s}function hr(n){return 0==(1&n)}function WA(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function YA(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function jy(n,t,e=!1){for(let i=0;i<t.length;i++)if($A(n,t[i],e))return!0;return!1}function KA(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Uy(n,t){return n?":not("+t.trim()+")":t}function XA(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!hr(s)&&(t+=Uy(o,r),r=""),i=s,o=o||!hr(i);e++}return""!==r&&(t+=Uy(o,r)),t}const lt={};function x(n){$y(Mt(),fe(),on()+n,!1)}function $y(n,t,e,i){if(!i)if(3==(3&t[dt])){const o=n.preOrderCheckHooks;null!==o&&hu(t,o,e)}else{const o=n.preOrderHooks;null!==o&&fu(t,o,0,e)}Ss(e)}function Yy(n,t=null,e=null,i){const r=Ky(n,t,e,i);return r.resolveInjectorInitializers(),r}function Ky(n,t=null,e=null,i,r=new Set){const o=[e||vt,gA(n)];return i=i||("object"==typeof n?void 0:Nt(n)),new Fy(o,t||Ru(),i||null,r)}let Mi=(()=>{class n{static create(e,i){if(Array.isArray(e))return Yy({name:""},i,e,"");{const r=e.name??"";return Yy({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=_s,n.NULL=new ky,n.\u0275prov=xe({token:n,providedIn:"any",factory:()=>G(Sy)}),n.__NG_ELEMENT_ID__=-1,n})();function O(n,t=Ve.Default){const e=fe();return null===e?G(n,t):E_(zi(),e,Ke(n),t)}function Im(){throw new Error("invalid")}function ix(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];Ip(e[i]),s.contentQueries(2,t[o],o)}}}function Lu(n,t,e,i,r,o,s,a,l,c,d){const u=t.blueprint.slice();return u[dr]=r,u[dt]=76|i,(null!==d||n&&1024&n[dt])&&(u[dt]|=1024),t_(u),u[Qt]=u[Ro]=n,u[ti]=e,u[Ea]=s||n&&n[Ea],u[ut]=a||n&&n[ut],u[ws]=l||n&&n[ws]||null,u[Ca]=c||n&&n[Ca]||null,u[Ci]=o,u[Ms]=function fk(){return hk++}(),u[ec]=d,u[Ni]=2==t.type?n[Ni]:u,u}function qa(n,t,e,i,r){let o=n.data[t];if(null===o)o=function Lm(n,t,e,i,r){const o=r_(),s=Op(),l=n.data[t]=function wO(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,t,e,i,r),function _T(){return at.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function rc(){const n=at.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return kr(o,!0),o}function _c(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Nm(n,t,e){Lp(t);try{const i=n.viewQuery;null!==i&&Gm(1,i,e);const r=n.template;null!==r&&nx(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ix(n,t),n.staticViewQueries&&Gm(2,n.viewQuery,e);const o=n.components;null!==o&&function _O(n,t){for(let e=0;e<t.length;e++)jO(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[dt]&=-5,Np()}}function Nu(n,t,e,i){const r=t[dt];if(128!=(128&r)){Lp(t);try{t_(t),function s_(n){return at.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&nx(n,t,e,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&hu(t,c,null)}else{const c=n.preOrderHooks;null!==c&&fu(t,c,0,null),Bp(t,0)}if(function zO(n){for(let t=rm(n);null!==t;t=om(t)){if(!t[lu])continue;const e=t[Fo];for(let i=0;i<e.length;i++){const r=e[i];512&r[dt]||Ap(r[Qt],1),r[dt]|=512}}}(t),function VO(n){for(let t=rm(n);null!==t;t=om(t))for(let e=Bi;e<t.length;e++){const i=t[e],r=i[Pe];du(i)&&Nu(r,i,r.template,i[ti])}}(t),null!==n.contentQueries&&ix(n,t),s){const c=n.contentCheckHooks;null!==c&&hu(t,c)}else{const c=n.contentHooks;null!==c&&fu(t,c,1),Bp(t,1)}!function bO(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Ss(~r);else{const o=r,s=e[++i],a=e[++i];yT(s,o),a(2,t[o])}}}finally{Ss(-1)}}(n,t);const a=n.components;null!==a&&function vO(n,t){for(let e=0;e<t.length;e++)HO(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Gm(2,l,i),s){const c=n.viewCheckHooks;null!==c&&hu(t,c)}else{const c=n.viewHooks;null!==c&&fu(t,c,2),Bp(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[dt]&=-41,512&t[dt]&&(t[dt]&=-513,Ap(t[Qt],-1))}finally{Np()}}}function nx(n,t,e,i,r){const o=on(),s=2&i;try{Ss(-1),s&&t.length>Ut&&$y(n,t,Ut,!1),qn(s?2:0,r),e(i,r)}finally{Ss(o),qn(s?3:1,r)}}function Bm(n,t,e){if(ic(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function Vm(n,t,e){n_()&&(function kO(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;Tr(e)&&function LO(n,t,e){const i=Sn(t,n),r=rx(e),o=n[Ea],s=Bu(n,Lu(n,r,null,e.onPush?32:16,i,t,o,o.createRenderer(i,e),null,null,null));n[t.index]=s}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||bu(e,t),Yi(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Ts(t,n,a,e);Yi(c,t),null!==s&&NO(0,a-r,c,l,0,s),Dn(l)&&(_n(e.index,t)[ti]=Ts(t,n,a,e))}}(n,t,e,Sn(e,t)),64==(64&e.flags)&&cx(n,t,e))}function zm(n,t,e=Sn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function rx(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Hm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Hm(n,t,e,i,r,o,s,a,l,c){const d=Ut+i,u=d+r,g=function yO(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:lt);return e}(d,u),b="function"==typeof c?c():c;return g[Pe]={type:n,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1}}function ox(n,t,e,i){const r=ux(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&hx(n).push(i,r.length-1))}function sx(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?ax(e,t,r,o):i.hasOwnProperty(r)&&ax(e,t,i[r],o)}return e}function ax(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function An(n,t,e,i,r,o,s,a){const l=Sn(t,e);let d,c=t.inputs;!a&&null!=c&&(d=c[i])?(qm(n,e,d,i,r),Tr(t)&&function MO(n,t){const e=_n(t,n);16&e[dt]||(e[dt]|=32)}(e,t.index)):3&t.type&&(i=function EO(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function jm(n,t,e,i){if(n_()){const r=null===i?null:{"":-1},o=function OO(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(jy(t,s.selectors,!1))if(i||(i=[]),Dn(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),Um(n,t,a.length)}else i.unshift(s),Um(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&lx(n,t,e,s,r,a),r&&function PO(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new ae(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=sc(e.mergedAttrs,e.attrs)}function lx(n,t,e,i,r,o){for(let c=0;c<i.length;c++)$p(bu(e,t),n,i[c].type);!function FO(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const d=i[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=_c(n,t,i.length,null);for(let c=0;c<i.length;c++){const d=i[c];e.mergedAttrs=sc(e.mergedAttrs,d.hostAttrs),IO(n,e,t,l,d),RO(l,d,r),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const u=d.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e.index),s=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e.index),a=!0),l++}!function CO(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let l=null,c=null;for(let d=t.directiveStart;d<r;d++){const u=o[d],g=e?e.get(u):null,_=g?g.outputs:null;l=sx(u.inputs,d,l,g?g.inputs:null),c=sx(u.outputs,d,c,_);const w=null===l||null===s||Hy(t)?null:BO(l,d,s);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,o)}function cx(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function xT(){return at.lFrame.currentDirectiveIndex}();try{Ss(o);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];Rp(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&AO(l,c)}}finally{Ss(-1),Rp(s)}}function AO(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Um(n,t,e){t.componentOffset=e,(n.components??(n.components=[])).push(t.index)}function RO(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Dn(t)&&(e[""]=n)}}function IO(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=J(r.type)),s=new oc(o,Dn(r),O);n.blueprint[i]=s,e[i]=s,function SO(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function TO(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,_c(n,e,r.hostVars,lt),r)}function Rr(n,t,e,i,r,o){const s=Sn(n,t);!function $m(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?rt(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[ut],s,o,n.value,e,i,r)}function NO(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],d=s[l++],u=s[l++];null!==a?i.setInput(e,u,c,d):e[d]=u}}}function BO(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function dx(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null]}function HO(n,t){const e=_n(t,n);if(du(e)){const i=e[Pe];48&e[dt]?Nu(i,e,i.template,e[ti]):e[Xr]>0&&Wm(e)}}function Wm(n){for(let i=rm(n);null!==i;i=om(i))for(let r=Bi;r<i.length;r++){const o=i[r];if(du(o))if(512&o[dt]){const s=o[Pe];Nu(s,o,s.template,o[ti])}else o[Xr]>0&&Wm(o)}const e=n[Pe].components;if(null!==e)for(let i=0;i<e.length;i++){const r=_n(e[i],n);du(r)&&r[Xr]>0&&Wm(r)}}function jO(n,t){const e=_n(t,n),i=e[Pe];(function UO(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Nm(i,e,e[ti])}function Bu(n,t){return n[Cs]?n[au][Mn]=t:n[Cs]=t,n[au]=t,t}function Vu(n){for(;n;){n[dt]|=32;const t=pc(n);if(Mp(n)&&!t)return n;n=t}return null}function zu(n,t,e,i=!0){const r=t[Ea];r.begin&&r.begin();try{Nu(n,t,n.template,e)}catch(s){throw i&&px(t,s),s}finally{r.end&&r.end()}}function Gm(n,t,e){Ip(0),t(n,e)}function ux(n){return n[Zr]||(n[Zr]=[])}function hx(n){return n.cleanup||(n.cleanup=[])}function px(n,t){const e=n[Ca],i=e?e.get(Bo,null):null;i&&i.handleError(t)}function qm(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function ro(n,t,e){const i=cu(t,n);!function Q_(n,t,e){n.setValue(t,e)}(n[ut],i,e)}function Hu(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=$l(r,a):2==o&&(i=$l(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function ju(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(Vi(o)),vn(o))for(let a=Bi;a<o.length;a++){const l=o[a],c=l[Pe].firstChild;null!==c&&ju(l[Pe],l,c,i)}const s=e.type;if(8&s)ju(n,t,e.child,i);else if(32&s){const a=nm(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=cy(t,e);if(Array.isArray(a))i.push(...a);else{const l=pc(t[Ni]);ju(l[Pe],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class yc{get rootNodes(){const t=this._lView,e=t[Pe];return ju(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ti]}set context(t){this._lView[ti]=t}get destroyed(){return 128==(128&this._lView[dt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Qt];if(vn(t)){const e=t[Sa],i=e?e.indexOf(this):-1;i>-1&&(lm(t,i),_u(e,i))}this._attachedToViewContainer=!1}ey(this._lView[Pe],this._lView)}onDestroy(t){ox(this._lView[Pe],this._lView,null,t)}markForCheck(){Vu(this._cdRefInjectingView||this._lView)}detach(){this._lView[dt]&=-65}reattach(){this._lView[dt]|=64}detectChanges(){zu(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tk(n,t){mc(n,t,t[ut],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=t}}class $O extends yc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;zu(t[Pe],t,t[ti],!1)}checkNoChanges(){}get context(){return null}}class mx extends No{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Pt(t);return new xc(e,this.ngModule)}}function gx(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class GO{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=_a(i);const r=this.injector.get(t,Tm,i);return r!==Tm||e===Tm?r:this.parentInjector.get(t,e,i)}}class xc extends Ly{get inputs(){return gx(this.componentDef.inputs)}get outputs(){return gx(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function ZA(n){return n.map(XA).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof Pr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new GO(t,o):t,a=s.get(vc,null);if(null===a)throw new ae(407,!1);const l=s.get(OA,null),c=a.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",u=i?function xO(n,t,e){return n.selectRootElement(t,e===bn.ShadowDom)}(c,i,this.componentDef.encapsulation):am(c,d,function WO(n){const t=n.toLowerCase();return"svg"===t?Qv:"math"===t?"math":null}(d)),g=this.componentDef.onPush?288:272,b=Hm(0,null,null,1,0,null,null,null,null,null),_=Lu(null,b,null,g,null,null,a,c,l,s,null);let w,C;Lp(_);try{const M=this.componentDef;let L,N=null;M.findHostDirectiveDefs?(L=[],N=new Map,M.findHostDirectiveDefs(M,L,N),L.push(M)):L=[M];const ce=function YO(n,t){const e=n[Pe],i=Ut;return n[i]=t,qa(e,i,2,"#host",null)}(_,u),De=function KO(n,t,e,i,r,o,s,a){const l=r[Pe];!function XO(n,t,e,i){for(const r of n)t.mergedAttrs=sc(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Hu(t,t.mergedAttrs,!0),null!==e&&hy(i,e,t))}(i,n,t,s);const c=o.createRenderer(t,e),d=Lu(r,rx(e),null,e.onPush?32:16,r[n.index],n,o,c,a||null,null,null);return l.firstCreatePass&&Um(l,n,i.length-1),Bu(r,d),r[n.index]=d}(ce,u,M,L,_,a,c);C=e_(b,Ut),u&&function QO(n,t,e,i){if(i)zp(n,e,["ng-version",PA.full]);else{const{attrs:r,classes:o}=function QA(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!hr(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&zp(n,e,r),o&&o.length>0&&uy(n,e,o.join(" "))}}(c,M,u,i),void 0!==e&&function JO(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(C,this.ngContentSelectors,e),w=function ZO(n,t,e,i,r,o){const s=zi(),a=r[Pe],l=Sn(s,r);lx(a,r,s,e,null,i);for(let d=0;d<e.length;d++)Yi(Ts(r,a,s.directiveStart+d,s),r);cx(a,r,s),l&&Yi(l,r);const c=Ts(r,a,s.directiveStart+s.componentOffset,s);if(n[ti]=r[ti]=c,null!==o)for(const d of o)d(c,t);return Bm(a,s,n),c}(De,M,L,N,_,[eP]),Nm(b,_,null)}finally{Np()}return new qO(this.componentType,w,$a(C,_),_,C)}}class qO extends MA{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new $O(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const o=this._rootLView;qm(o[Pe],o,r,t,e),Vu(_n(this._tNode.index,o))}}get injector(){return new Ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function eP(){const n=zi();uu(fe()[Pe],n)}function yt(n){let t=function bx(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Dn(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ae(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=Ym(n.inputs),s.declaredInputs=Ym(n.declaredInputs),s.outputs=Ym(n.outputs);const a=r.hostBindings;a&&rP(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&iP(n,l),c&&nP(n,c),So(n.inputs,r.inputs),So(n.declaredInputs,r.declaredInputs),So(n.outputs,r.outputs),Dn(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===yt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function tP(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=sc(r.hostAttrs,e=sc(e,r.hostAttrs))}}(i)}function Ym(n){return n===$n?{}:n===vt?[]:n}function iP(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function nP(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function rP(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function Uu(n){return!!Km(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Km(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fr(n,t,e){return n[t]=e}function Ki(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Fs(n,t,e,i){const r=Ki(n,t,e);return Ki(n,t+1,i)||r}function $u(n,t,e,i,r){const o=Fs(n,t,e,i);return Ki(n,t+2,r)||o}function Di(n,t,e,i){const r=fe();return Ki(r,Oa(),t)&&(Mt(),Rr(ii(),r,n,t,e,i)),Di}function Ka(n,t,e,i){return Ki(n,Oa(),e)?t+rt(e)+i:lt}function Za(n,t,e,i,r,o,s,a){const c=$u(n,function Qr(){return at.lFrame.bindingIndex}(),e,r,s);return Jr(3),c?t+rt(e)+i+rt(r)+o+rt(s)+a:lt}function U(n,t,e,i,r,o,s,a){const l=fe(),c=Mt(),d=n+Ut,u=c.firstCreatePass?function pP(n,t,e,i,r,o,s,a,l){const c=t.consts,d=qa(t,n,4,s||null,Lo(c,a));jm(t,e,d,Lo(c,l)),uu(t,d);const u=d.tView=Hm(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,e,i,r,o,s):c.data[d];kr(u,!1);const g=l[ut].createComment("");Mu(c,l,g,u),Yi(g,l),Bu(l,l[d]=dx(g,l,g,u)),Ta(u)&&Vm(c,l,u),null!=s&&zm(l,u,a)}function Xm(n){return Aa(function vT(){return at.lFrame.contextLView}(),Ut+n)}function D(n,t,e){const i=fe();return Ki(i,Oa(),t)&&An(Mt(),ii(),i,n,t,i[ut],e,!1),D}function Zm(n,t,e,i,r){const s=r?"class":"style";qm(n,e,t.inputs[s],s,i)}function f(n,t,e,i){const r=fe(),o=Mt(),s=Ut+n,a=r[ut],l=o.firstCreatePass?function gP(n,t,e,i,r,o){const s=t.consts,l=qa(t,n,2,i,Lo(s,r));return jm(t,e,l,Lo(s,o)),null!==l.attrs&&Hu(l,l.attrs,!1),null!==l.mergedAttrs&&Hu(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,e,i):o.data[s],c=r[s]=am(a,t,function ST(){return at.lFrame.currentNamespace}()),d=Ta(l);return kr(l,!0),hy(a,c,l),32!=(32&l.flags)&&Mu(o,r,c,l),0===function fT(){return at.lFrame.elementDepthCount}()&&Yi(c,r),function pT(){at.lFrame.elementDepthCount++}(),d&&(Vm(o,r,l),Bm(o,l,r)),null!==i&&zm(r,l),f}function p(){let n=zi();Op()?Pp():(n=n.parent,kr(n,!1));const t=n;!function mT(){at.lFrame.elementDepthCount--}();const e=Mt();return e.firstCreatePass&&(uu(e,n),ic(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function OT(n){return 0!=(8&n.flags)}(t)&&Zm(e,t,fe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function PT(n){return 0!=(16&n.flags)}(t)&&Zm(e,t,fe(),t.stylesWithoutHost,!1),p}function I(n,t,e,i){return f(n,t,e,i),p(),I}function Ir(n,t,e){const i=fe(),r=Mt(),o=n+Ut,s=r.firstCreatePass?function bP(n,t,e,i,r){const o=t.consts,s=Lo(o,i),a=qa(t,n,8,"ng-container",s);return null!==s&&Hu(a,s,!0),jm(t,e,a,Lo(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];kr(s,!0);const a=i[o]=i[ut].createComment("");return Mu(r,i,a,s),Yi(a,i),Ta(s)&&(Vm(r,i,s),Bm(r,s,i)),null!=e&&zm(i,s),Ir}function Lr(){let n=zi();const t=Mt();return Op()?Pp():(n=n.parent,kr(n,!1)),t.firstCreatePass&&(uu(t,n),ic(n)&&t.queries.elementEnd(n)),Lr}function Tt(){return fe()}function Cc(n){return!!n&&"function"==typeof n.then}function Ox(n){return!!n&&"function"==typeof n.subscribe}const Qm=Ox;function ee(n,t,e,i){const r=fe(),o=Mt(),s=zi();return function Rx(n,t,e,i,r,o,s){const a=Ta(i),c=n.firstCreatePass&&hx(n),d=t[ti],u=ux(t);let g=!0;if(3&i.type||s){const w=Sn(i,t),C=s?s(w):w,M=u.length,L=s?ce=>s(Vi(ce[i.index])):i.index;let N=null;if(!s&&a&&(N=function vP(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[Zr],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=o,N.__ngLastListenerFn__=o,g=!1;else{o=Ix(i,t,d,o,!1);const ce=e.listen(C,r,o);u.push(o,ce),c&&c.push(r,L,M,M+1)}}else o=Ix(i,t,d,o,!1);const b=i.outputs;let _;if(g&&null!==b&&(_=b[r])){const w=_.length;if(w)for(let C=0;C<w;C+=2){const De=t[_[C]][_[C+1]].subscribe(o),ze=u.length;u.push(o,De),c&&c.push(r,i.index,ze,-(ze+1))}}}(o,r,r[ut],s,n,t,i),ee}function Fx(n,t,e,i){try{return qn(6,t,e),!1!==e(i)}catch(r){return px(n,r),!1}finally{qn(7,t,e)}}function Ix(n,t,e,i,r){return function o(s){if(s===Function)return i;Vu(n.componentOffset>-1?_n(n.index,t):t);let l=Fx(t,e,i,s),c=o.__ngNextListenerFn__;for(;c;)l=Fx(t,e,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function ue(n=1){return function CT(n){return(at.lFrame.contextLView=function ET(n,t){for(;n>0;)t=t[Ro],n--;return t}(n,at.lFrame.contextLView))[ti]}(n)}function _P(n,t){let e=null;const i=function GA(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?jy(n,o,!0):KA(i,o))return r}else e=r}return e}function Wu(n){const t=fe()[Ni][Ci];if(!t.projection){const i=t.projection=dc(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?_P(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Vo(n,t=0,e){const i=fe(),r=Mt(),o=qa(r,Ut+n,16,null,e||null);null===o.projection&&(o.projection=t),Pp(),32!=(32&o.flags)&&function Lk(n,t,e){dy(t[ut],0,t,e,ty(n,e,t),oy(e.parent||t[Ci],e,t))}(r,i,o)}function Gu(n,t){return n<<17|t<<2}function zo(n){return n>>17&32767}function eg(n){return 2|n}function Is(n){return(131068&n)>>2}function tg(n,t){return-131069&n|t<<2}function ig(n){return 1|n}function Wx(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?zo(o):Is(o),l=!1;for(;0!==a&&(!1===l||s);){const d=n[a+1];MP(n[a],t)&&(l=!0,n[a+1]=i?ig(d):eg(d)),a=i?zo(d):Is(d)}l&&(n[e+1]=i?eg(o):ig(o))}function MP(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Ba(n,t)>=0}const Si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Gx(n){return n.substring(Si.key,Si.keyEnd)}function qx(n,t){const e=Si.textEnd;return e===t?-1:(t=Si.keyEnd=function kP(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Si.key=t,e),nl(n,t,e))}function nl(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function sn(n,t,e){return fr(n,t,e,!1),sn}function Fe(n,t){return fr(n,t,null,!0),Fe}function oo(n){pr(BP,Br,n,!0)}function Br(n,t){for(let e=function SP(n){return function Kx(n){Si.key=0,Si.keyEnd=0,Si.value=0,Si.valueEnd=0,Si.textEnd=n.length}(n),qx(n,nl(n,0,Si.textEnd))}(t);e>=0;e=qx(t,e))Tn(n,Gx(t),!0)}function fr(n,t,e,i){const r=fe(),o=Mt(),s=Jr(2);o.firstUpdatePass&&Jx(o,n,s,i),t!==lt&&Ki(r,s,t)&&tw(o,o.data[on()],r,r[ut],n,r[s+1]=function zP(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Nt(kn(n)))),n}(t,e),i,s)}function pr(n,t,e,i){const r=Mt(),o=Jr(2);r.firstUpdatePass&&Jx(r,null,o,i);const s=fe();if(e!==lt&&Ki(s,o,e)){const a=r.data[on()];if(nw(a,i)&&!Qx(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=$l(l,e||"")),Zm(r,a,s,e,i)}else!function VP(n,t,e,i,r,o,s,a){r===lt&&(r=vt);let l=0,c=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;null!==d||null!==u;){const g=l<r.length?r[l+1]:void 0,b=c<o.length?o[c+1]:void 0;let w,_=null;d===u?(l+=2,c+=2,g!==b&&(_=u,w=b)):null===u||null!==d&&d<u?(l+=2,_=d):(c+=2,_=u,w=b),null!==_&&tw(n,t,e,i,_,w,s,a),d=l<r.length?r[l]:null,u=c<o.length?o[c]:null}}(r,a,s,s[ut],s[o+1],s[o+1]=function NP(n,t,e){if(null==e||""===e)return vt;const i=[],r=kn(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function Qx(n,t){return t>=n.expandoStartIndex}function Jx(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[on()],s=Qx(n,e);nw(o,i)&&null===t&&!s&&(t=!1),t=function RP(n,t,e,i){const r=Fp(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Ec(e=ng(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=ng(r,n,t,e,i),null===o){let l=function FP(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Is(i))return n[zo(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=ng(null,n,t,l[1],i),l=Ec(l,t.attrs,i),function IP(n,t,e,i){n[zo(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function LP(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Ec(i,n[o].hostAttrs,e);return Ec(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function CP(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=zo(s),l=Is(s);n[i]=e;let d,c=!1;if(Array.isArray(e)?(d=e[1],(null===d||Ba(e,d)>0)&&(c=!0)):d=e,r)if(0!==l){const g=zo(n[a+1]);n[i+1]=Gu(g,a),0!==g&&(n[g+1]=tg(n[g+1],i)),n[a+1]=function xP(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Gu(a,0),0!==a&&(n[a+1]=tg(n[a+1],i)),a=i;else n[i+1]=Gu(l,0),0===a?a=i:n[l+1]=tg(n[l+1],i),l=i;c&&(n[i+1]=eg(n[i+1])),Wx(n,d,i,!0),Wx(n,d,i,!1),function EP(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Ba(o,t)>=0&&(e[i+1]=ig(e[i+1]))}(t,d,n,i,o),s=Gu(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function ng(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Ec(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Ec(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Tn(n,s,!!e||t[++o]))}return void 0===n?null:n}function BP(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Tn(n,i,e)}function tw(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],d=function wP(n){return 1==(1&n)}(c)?iw(l,t,e,r,Is(c),s):void 0;qu(d)||(qu(o)||function yP(n){return 2==(2&n)}(c)&&(o=iw(l,null,e,r,a,s)),function Bk(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:yn.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=yn.Important),n.setStyle(e,i,r,o))}}(i,s,cu(on(),e),r,o))}function iw(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),d=c?l[1]:l,u=null===d;let g=e[r+1];g===lt&&(g=u?vt:void 0);let b=u?Yp(g,i):d===i?g:void 0;if(c&&!qu(b)&&(b=Yp(l,i)),qu(b)&&(a=b,s))return a;const _=n[r+1];r=s?zo(_):Is(_)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Yp(l,i))}return a}function qu(n){return void 0!==n}function nw(n,t){return 0!=(n.flags&(t?8:16))}function v(n,t=""){const e=fe(),i=Mt(),r=n+Ut,o=i.firstCreatePass?qa(i,r,1,t,null):i.data[r],s=e[r]=function sm(n,t){return n.createText(t)}(e[ut],t);Mu(i,e,s,o),kr(o,!1)}function Ae(n){return Ge("",n,""),Ae}function Ge(n,t,e){const i=fe(),r=Ka(i,n,t,e);return r!==lt&&ro(i,on(),r),Ge}function rg(n,t,e,i,r,o,s){const a=fe(),l=Za(a,n,t,e,i,r,o,s);return l!==lt&&ro(a,on(),l),rg}function og(n,t,e){const i=fe();return Ki(i,Oa(),t)&&An(Mt(),ii(),i,n,t,i[ut],e,!0),og}function sg(n,t,e){const i=fe();if(Ki(i,Oa(),t)){const o=Mt(),s=ii();An(o,s,i,n,t,function fx(n,t,e){return(null===n||Dn(n))&&(e=function cT(n){for(;Array.isArray(n);){if("object"==typeof n[tc])return n;n=n[dr]}return null}(e[t.index])),e[ut]}(Fp(o.data),s,i),e,!0)}return sg}const Ls=void 0;var oR=["en",[["a","p"],["AM","PM"],Ls],[["AM","PM"],Ls,Ls],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ls,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ls,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ls,"{1} 'at' {0}",Ls],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rR(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let rl={};function an(n){const t=function sR(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=ww(t);if(e)return e;const i=t.split("-")[0];if(e=ww(i),e)return e;if("en"===i)return oR;throw new ae(701,!1)}function ww(n){return n in rl||(rl[n]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[n]),rl[n]}var Oe=(()=>((Oe=Oe||{})[Oe.LocaleId=0]="LocaleId",Oe[Oe.DayPeriodsFormat=1]="DayPeriodsFormat",Oe[Oe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Oe[Oe.DaysFormat=3]="DaysFormat",Oe[Oe.DaysStandalone=4]="DaysStandalone",Oe[Oe.MonthsFormat=5]="MonthsFormat",Oe[Oe.MonthsStandalone=6]="MonthsStandalone",Oe[Oe.Eras=7]="Eras",Oe[Oe.FirstDayOfWeek=8]="FirstDayOfWeek",Oe[Oe.WeekendRange=9]="WeekendRange",Oe[Oe.DateFormat=10]="DateFormat",Oe[Oe.TimeFormat=11]="TimeFormat",Oe[Oe.DateTimeFormat=12]="DateTimeFormat",Oe[Oe.NumberSymbols=13]="NumberSymbols",Oe[Oe.NumberFormats=14]="NumberFormats",Oe[Oe.CurrencyCode=15]="CurrencyCode",Oe[Oe.CurrencySymbol=16]="CurrencySymbol",Oe[Oe.CurrencyName=17]="CurrencyName",Oe[Oe.Currencies=18]="Currencies",Oe[Oe.Directionality=19]="Directionality",Oe[Oe.PluralCase=20]="PluralCase",Oe[Oe.ExtraData=21]="ExtraData",Oe))();const ol="en-US";let Cw=ol;function cg(n,t,e,i,r){if(n=Ke(n),Array.isArray(n))for(let o=0;o<n.length;o++)cg(n[o],t,e,i,r);else{const o=Mt(),s=fe();let a=Ps(n)?n:Ke(n.provide),l=Iy(n);const c=zi(),d=1048575&c.providerIndexes,u=c.directiveStart,g=c.providerIndexes>>20;if(Ps(n)||!n.multi){const b=new oc(l,r,O),_=ug(a,t,r?d:d+g,u);-1===_?($p(bu(c,s),o,a),dg(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(b),s.push(b)):(e[_]=b,s[_]=b)}else{const b=ug(a,t,d+g,u),_=ug(a,t,d,d+g),C=_>=0&&e[_];if(r&&!C||!r&&!(b>=0&&e[b])){$p(bu(c,s),o,a);const M=function nF(n,t,e,i,r){const o=new oc(n,e,O);return o.multi=[],o.index=t,o.componentProviders=0,Yw(o,r,i&&!e),o}(r?iF:tF,e.length,r,i,l);!r&&C&&(e[_].providerFactory=M),dg(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(M),s.push(M)}else dg(o,n,b>-1?b:_,Yw(e[r?_:b],l,!r&&i));!r&&i&&C&&e[_].componentProviders++}}}function dg(n,t,e,i){const r=Ps(t),o=function vA(n){return!!n.useClass}(t);if(r||o){const l=(o?Ke(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const d=c.indexOf(e);-1===d?c.push(e,[i,l]):c[d+1].push(i,l)}else c.push(e,l)}}}function Yw(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ug(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function tF(n,t,e,i){return hg(this.multi,[])}function iF(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ts(e,e[Pe],this.providerFactory.index,i);o=a.slice(0,s),hg(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],hg(r,o);return o}function hg(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Bt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function eF(n,t,e){const i=Mt();if(i.firstCreatePass){const r=Dn(n);cg(e,i.data,i.blueprint,r,!0),cg(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class sl{}class Kw{}class Xw extends sl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mx(this);const i=Pi(t);this._bootstrapComponents=no(i.bootstrap),this._r3Injector=Ky(t,e,[{provide:sl,useValue:this},{provide:No,useValue:this.componentFactoryResolver}],Nt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fg extends Kw{constructor(t){super(),this.moduleType=t}create(t){return new Xw(this.moduleType,t)}}class oF extends sl{constructor(t,e,i){super(),this.componentFactoryResolver=new mx(this),this.instance=null;const r=new Fy([...t,{provide:sl,useValue:this},{provide:No,useValue:this.componentFactoryResolver}],e||Ru(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Qu(n,t,e=null){return new oF(n,t,e).injector}let sF=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=Ay(0,e.type),r=i.length>0?Qu([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=xe({token:n,providedIn:"environment",factory:()=>new n(G(Pr))}),n})();function pg(n){n.getStandaloneInjector=t=>t.get(sF).getOrCreateStandaloneInjector(n)}function gg(n,t,e){const i=rn()+n,r=fe();return r[i]===lt?Fr(r,i,e?t.call(e):t()):function wc(n,t){return n[t]}(r,i)}function nC(n,t,e,i,r,o){return function sC(n,t,e,i,r,o,s,a){const l=t+e;return $u(n,l,r,o,s)?Fr(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):Ac(n,l+3)}(fe(),rn(),n,t,e,i,r,o)}function Ac(n,t){const e=n[t];return e===lt?void 0:e}function mr(n,t){const e=Mt();let i;const r=n+Ut;e.firstCreatePass?(i=function CF(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=J(i.type)),s=gn(O);try{const a=gu(!1),l=o();return gu(a),function mP(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,fe(),r,l),l}finally{gn(s)}}function Ns(n,t,e){const i=n+Ut,r=fe(),o=Aa(r,i);return Pc(r,i)?function rC(n,t,e,i,r,o){const s=t+e;return Ki(n,s,r)?Fr(n,s+1,o?i.call(o,r):i(r)):Ac(n,s+1)}(r,rn(),t,o.transform,e,o):o.transform(e)}function Oc(n,t,e,i){const r=n+Ut,o=fe(),s=Aa(o,r);return Pc(o,r)?function oC(n,t,e,i,r,o,s){const a=t+e;return Fs(n,a,r,o)?Fr(n,a+2,s?i.call(s,r,o):i(r,o)):Ac(n,a+2)}(o,rn(),t,s.transform,e,i,s):s.transform(e,i)}function Pc(n,t){return n[Pe].data[t].pure}function bg(n){return t=>{setTimeout(n,void 0,t)}}const xt=class SF extends re{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=bg(o),r&&(r=bg(r)),s&&(s=bg(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof W&&t.add(a),a}};function TF(){return this._results[Symbol.iterator]()}class al{get changes(){return this._changes||(this._changes=new xt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=al.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=TF)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Yn(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function jT(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gr=(()=>{class n{}return n.__NG_ELEMENT_ID__=OF,n})();const kF=gr,AF=class extends kF{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tView,r=Lu(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[Ma]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Gn];return null!==s&&(r[Gn]=s.createEmbeddedView(i)),Nm(i,r,t),new yc(r)}};function OF(){return Ju(zi(),fe())}function Ju(n,t){return 4&n.type?new AF(t,n,$a(n,t)):null}let On=(()=>{class n{}return n.__NG_ELEMENT_ID__=PF,n})();function PF(){return uC(zi(),fe())}const RF=On,cC=class extends RF{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return $a(this._hostTNode,this._hostLView)}get injector(){return new Ra(this._hostTNode,this._hostLView)}get parentInjector(){const t=Up(this._hostTNode,this._hostLView);if(v_(t)){const e=mu(t,this._hostLView),i=pu(t);return new Ra(e[Pe].data[i+8],e)}return new Ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=dC(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Bi}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=t.createEmbeddedView(e||{},o);return this.insert(s,r),s}createComponent(t,e,i,r,o){const s=t&&!function cc(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const u=e||{};a=u.index,i=u.injector,r=u.projectableNodes,o=u.environmentInjector||u.ngModuleRef}const l=s?t:new xc(Pt(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const g=(s?c:this.parentInjector).get(Pr,null);g&&(o=g)}const d=l.create(c,r,void 0,o);return this.insert(d.hostView,a),d}insert(t,e){const i=t._lView,r=i[Pe];if(function hT(n){return vn(n[Qt])}(i)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const u=i[Qt],g=new cC(u,u[Ci],u[Qt]);g.detach(g.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function Ak(n,t,e,i){const r=Bi+i,o=e.length;i>0&&(e[r-1][Mn]=t),i<o-Bi?(t[Mn]=e[r],A_(e,Bi+i,t)):(e.push(t),t[Mn]=null),t[Qt]=e;const s=t[Ma];null!==s&&e!==s&&function Ok(n,t){const e=n[Fo];t[Ni]!==t[Qt][Qt][Ni]&&(n[lu]=!0),null===e?n[Fo]=[t]:e.push(t)}(s,t);const a=t[Gn];null!==a&&a.insertView(n),t[dt]|=64}(r,i,s,o);const a=um(o,s),l=i[ut],c=Eu(l,s[Da]);return null!==c&&function Sk(n,t,e,i,r,o){i[dr]=r,i[Ci]=t,mc(n,i,e,1,r,o)}(r,s[Ci],l,i,c,a),t.attachToViewContainerRef(),A_(vg(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=dC(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=lm(this._lContainer,e);i&&(_u(vg(this._lContainer),e),ey(i[Pe],i))}detach(t){const e=this._adjustIndex(t,-1),i=lm(this._lContainer,e);return i&&null!=_u(vg(this._lContainer),e)?new yc(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function dC(n){return n[Sa]}function vg(n){return n[Sa]||(n[Sa]=[])}function uC(n,t){let e;const i=t[n.index];if(vn(i))e=i;else{let r;if(8&n.type)r=Vi(i);else{const o=t[ut];r=o.createComment("");const s=Sn(n,t);As(o,Eu(o,s),r,function Ik(n,t){return n.nextSibling(t)}(o,s),!1)}t[n.index]=e=dx(i,t,r,n),Bu(t,e)}return new cC(e,n,t)}class _g{constructor(t){this.queryList=t,this.matches=null}clone(){return new _g(this.queryList)}setDirty(){this.queryList.setDirty()}}class yg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new yg(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==gC(t,e).matches&&this.queries[e].setDirty()}}class hC{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class xg{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new xg(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class wg{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new wg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,FF(e,o)),this.matchTNodeWithReadOption(t,e,vu(e,t,o,!1,!1))}else i===gr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,vu(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===It||r===On||r===gr&&4&e.type)this.addMatch(e.index,-2);else{const o=vu(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function FF(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function LF(n,t,e,i){return-1===e?function IF(n,t){return 11&n.type?$a(n,t):4&n.type?Ju(n,t):null}(t,n):-2===e?function NF(n,t,e){return e===It?$a(t,n):e===gr?Ju(t,n):e===On?uC(t,n):void 0}(n,t,i):Ts(n,n[Pe],e,t)}function fC(n,t,e,i){const r=t[Gn].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:LF(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function Cg(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=fC(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],d=t[-l];for(let u=Bi;u<d.length;u++){const g=d[u];g[Ma]===g[Qt]&&Cg(g[Pe],g,c,i)}if(null!==d[Fo]){const u=d[Fo];for(let g=0;g<u.length;g++){const b=u[g];Cg(b[Pe],b,c,i)}}}}}return i}function ln(n){const t=fe(),e=Mt(),i=l_();Ip(i+1);const r=gC(e,i);if(n.dirty&&function uT(n){return 4==(4&n[dt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Cg(e,t,i,[]):fC(e,t,r,i);n.reset(o,kA),n.notifyOnChanges()}return!0}return!1}function Xn(n,t,e){const i=Mt();i.firstCreatePass&&(mC(i,new hC(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),pC(i,fe(),t)}function eh(n,t,e,i){const r=Mt();if(r.firstCreatePass){const o=zi();mC(r,new hC(t,e,i),o.index),function VF(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}pC(r,fe(),e)}function cn(){return function BF(n,t){return n[Gn].queries[t].queryList}(fe(),l_())}function pC(n,t,e){const i=new al(4==(4&e));ox(n,t,i,i.destroy),null===t[Gn]&&(t[Gn]=new yg),t[Gn].queries.push(new _g(i))}function mC(n,t,e){null===n.queries&&(n.queries=new xg),n.queries.track(new wg(t,e))}function gC(n,t){return n.queries.getByIndex(t)}function Eg(n,t){return Ju(n,t)}function ih(...n){}const nh=new be("Application Initializer");let rh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=ih,this.reject=ih,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Cc(o))e.push(o);else if(Qm(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(G(nh,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fc=new be("AppId",{providedIn:"root",factory:function FC(){return`${Ag()}${Ag()}${Ag()}`}});function Ag(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const IC=new be("Platform Initializer"),oh=new be("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bs=new be("AnimationModuleType");let oI=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Vr=new be("LocaleId",{providedIn:"root",factory:()=>Ze(Vr,Ve.Optional|Ve.SkipSelf)||function sI(){return typeof $localize<"u"&&$localize.locale||ol}()});class lI{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let LC=(()=>{class n{compileModuleSync(e){return new fg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=no(Pi(e).declarations).reduce((s,a)=>{const l=Pt(a);return l&&s.push(new xc(l)),s},[]);return new lI(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uI=(()=>Promise.resolve(0))();function Og(n){typeof Zone>"u"?uI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ft{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xt(!1),this.onMicrotaskEmpty=new xt(!1),this.onStable=new xt(!1),this.onError=new xt(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function hI(){let n=jt.requestAnimationFrame,t=jt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function mI(n){const t=()=>{!function pI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(jt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Rg(n),n.isCheckStableRunning=!0,Pg(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Rg(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return VC(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),zC(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return VC(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),zC(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Rg(n),Pg(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ft.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(ft.isInAngularZone())throw new ae(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,fI,ih,ih);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const fI={};function Pg(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Rg(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function VC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zC(n){n._nesting--,Pg(n)}class gI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xt,this.onMicrotaskEmpty=new xt,this.onStable=new xt,this.onError=new xt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const HC=new be(""),sh=new be("");let Lg,Fg=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lg||(function bI(n){Lg=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),Og(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Og(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(G(ft),G(Ig),G(sh))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),Ig=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Lg?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const so=!1;let Ho=null;const jC=new be("AllowMultipleToken"),Ng=new be("PlatformDestroyListeners"),UC=new be("appBootstrapListener");class $C{constructor(t,e){this.name=t,this.token=e}}function GC(n,t,e=[]){const i=`Platform: ${t}`,r=new be(i);return(o=[])=>{let s=Bg();if(!s||s.injector.get(jC,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function yI(n){if(Ho&&!Ho.get(jC,!1))throw new ae(400,!1);Ho=n;const t=n.get(YC);(function WC(n){const t=n.get(IC,null);t&&t.forEach(e=>e())})(n)}(function qC(n=[],t){return Mi.create({name:t,providers:[{provide:Em,useValue:"platform"},{provide:Ng,useValue:new Set([()=>Ho=null])},...n]})}(a,i))}return function wI(n){const t=Bg();if(!t)throw new ae(401,!1);return t}()}}function Bg(){return Ho?.get(YC)??null}let YC=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function XC(n,t){let e;return e="noop"===n?new gI:("zone.js"===n?void 0:n)||new ft(t),e}(i?.ngZone,function KC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:ft,useValue:r}];return r.run(()=>{const s=Mi.create({providers:o,parent:this.injector,name:e.moduleType.name}),a=e.create(s),l=a.injector.get(Bo,null);if(!l)throw new ae(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:d=>{l.handleError(d)}});a.onDestroy(()=>{ah(this._modules,a),c.unsubscribe()})}),function ZC(n,t,e){try{const i=e();return Cc(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(rh);return c.runInitializers(),c.donePromise.then(()=>(function Ew(n){mn(n,"Expected localeId to be defined"),"string"==typeof n&&(Cw=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Vr,ol)||ol),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const r=QC({},i);return function vI(n,t,e){const i=new fg(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(jo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new ae(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Ng,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(G(Mi))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function QC(n,t){return Array.isArray(t)?t.reduce(QC,n):{...n,...t}}let jo=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ce(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ce(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{ft.assertNotInAngularZone(),Og(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{ft.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=fa(o,s.pipe(function Ud(n={}){const{connector:t=(()=>new re),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,d=!1,u=!1;const g=()=>{a?.unsubscribe(),a=void 0},b=()=>{g(),s=l=void 0,d=u=!1},_=()=>{const w=s;b(),w?.unsubscribe()};return Ye((w,C)=>{c++,!u&&!d&&g();const M=l=l??t();C.add(()=>{c--,0===c&&!u&&!d&&(a=Do(_,r))}),M.subscribe(C),!s&&c>0&&(s=new me({next:L=>M.next(L),error:L=>{u=!0,g(),a=Do(b,e,L),M.error(L)},complete:()=>{d=!0,g(),a=Do(b,i),M.complete()}}),Li(w).subscribe(s))})(o)}}()))}bootstrap(e,i){const r=e instanceof Ly;if(!this._injector.get(rh).done){!r&&function Po(n){const t=Pt(n)||Oi(n)||qi(n);return null!==t&&t.standalone}(e);throw new ae(405,so)}let s;s=r?e:this._injector.get(No).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function _I(n){return n.isBoundToModule}(s)?void 0:this._injector.get(sl),c=s.create(Mi.NULL,[],i||s.selector,a),d=c.location.nativeElement,u=c.injector.get(HC,null);return u?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),ah(this.components,c),u?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;ah(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(UC,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ah(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ae(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(G(ft),G(Pr),G(Bo))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ah(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Uo=(()=>{class n{}return n.__NG_ELEMENT_ID__=EI,n})();function EI(n){return function MI(n,t,e){if(Tr(n)&&!e){const i=_n(n.index,t);return new yc(i,i)}return 47&n.type?new yc(t[Ni],t):null}(zi(),fe(),16==(16&n))}class r1{constructor(){}supports(t){return Uu(t)}create(t){return new OI(t)}}const AI=(n,t)=>t;class OI{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||AI}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<s1(i,r,o)?e:i,a=s1(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,d=l-r;if(c!=d){for(let g=0;g<c;g++){const b=g<o.length?o[g]:o[g]=0,_=b+g;d<=_&&_<c&&(o[g]=b+1)}o[s.previousIndex]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Uu(t))throw new ae(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function uP(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new PI(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new o1),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new o1),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class PI{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RI{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class o1{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new RI,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function s1(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class a1{constructor(){}supports(t){return t instanceof Map||Km(t)}create(){return new FI}}class FI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Km(t)))throw new ae(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new II(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class II{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function l1(){return new dh([new r1])}let dh=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||l1()),deps:[[n,new Va,new eo]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new ae(901,!1)}}return n.\u0275prov=xe({token:n,providedIn:"root",factory:l1}),n})();function c1(){return new Ic([new a1])}let Ic=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||c1()),deps:[[n,new Va,new eo]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new ae(901,!1)}}return n.\u0275prov=xe({token:n,providedIn:"root",factory:c1}),n})();const BI=GC(null,"core",[]);let VI=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(G(jo))},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({}),n})();function dl(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Ug=null;function ao(){return Ug}class jI{}const ct=new be("DocumentToken");let $g=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:function(){return function UI(){return G(d1)}()},providedIn:"platform"}),n})();const $I=new be("Location Initialized");let d1=(()=>{class n extends $g{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ao().getBaseHref(this._doc)}onPopState(e){const i=ao().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ao().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){u1()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){u1()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(G(ct))},n.\u0275prov=xe({token:n,factory:function(){return function WI(){return new d1(G(ct))}()},providedIn:"platform"}),n})();function u1(){return!!window.history.pushState}function Wg(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function h1(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function lo(n){return n&&"?"!==n[0]?"?"+n:n}let zs=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:function(){return Ze(p1)},providedIn:"root"}),n})();const f1=new be("appBaseHref");let p1=(()=>{class n extends zs{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ze(ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Wg(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+lo(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+lo(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+lo(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(G($g),G(f1,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GI=(()=>{class n extends zs{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Wg(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+lo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+lo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(G($g),G(f1,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),Lc=(()=>{class n{constructor(e){this._subject=new xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function KI(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(h1(m1(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+lo(i))}normalize(e){return n.stripTrailingSlash(function YI(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,m1(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lo(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=lo,n.joinWithSlash=Wg,n.stripTrailingSlash=h1,n.\u0275fac=function(e){return new(e||n)(G(zs))},n.\u0275prov=xe({token:n,factory:function(){return function qI(){return new Lc(G(zs))}()},providedIn:"root"}),n})();function m1(n){return n.replace(/\/index.html$/,"")}var hi=(()=>((hi=hi||{})[hi.Format=0]="Format",hi[hi.Standalone=1]="Standalone",hi))(),Ct=(()=>((Ct=Ct||{})[Ct.Narrow=0]="Narrow",Ct[Ct.Abbreviated=1]="Abbreviated",Ct[Ct.Wide=2]="Wide",Ct[Ct.Short=3]="Short",Ct))(),ni=(()=>((ni=ni||{})[ni.Short=0]="Short",ni[ni.Medium=1]="Medium",ni[ni.Long=2]="Long",ni[ni.Full=3]="Full",ni))(),Xe=(()=>((Xe=Xe||{})[Xe.Decimal=0]="Decimal",Xe[Xe.Group=1]="Group",Xe[Xe.List=2]="List",Xe[Xe.PercentSign=3]="PercentSign",Xe[Xe.PlusSign=4]="PlusSign",Xe[Xe.MinusSign=5]="MinusSign",Xe[Xe.Exponential=6]="Exponential",Xe[Xe.SuperscriptingExponent=7]="SuperscriptingExponent",Xe[Xe.PerMille=8]="PerMille",Xe[Xe.Infinity=9]="Infinity",Xe[Xe.NaN=10]="NaN",Xe[Xe.TimeSeparator=11]="TimeSeparator",Xe[Xe.CurrencyDecimal=12]="CurrencyDecimal",Xe[Xe.CurrencyGroup=13]="CurrencyGroup",Xe))();function uh(n,t){return Qn(an(n)[Oe.DateFormat],t)}function hh(n,t){return Qn(an(n)[Oe.TimeFormat],t)}function fh(n,t){return Qn(an(n)[Oe.DateTimeFormat],t)}function Zn(n,t){const e=an(n),i=e[Oe.NumberSymbols][t];if(typeof i>"u"){if(t===Xe.CurrencyDecimal)return e[Oe.NumberSymbols][Xe.Decimal];if(t===Xe.CurrencyGroup)return e[Oe.NumberSymbols][Xe.Group]}return i}function b1(n){if(!n[Oe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Oe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Qn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function qg(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const c4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nc={},d4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ti=(()=>((Ti=Ti||{})[Ti.Short=0]="Short",Ti[Ti.ShortGMT=1]="ShortGMT",Ti[Ti.Long=2]="Long",Ti[Ti.Extended=3]="Extended",Ti))(),Je=(()=>((Je=Je||{})[Je.FullYear=0]="FullYear",Je[Je.Month=1]="Month",Je[Je.Date=2]="Date",Je[Je.Hours=3]="Hours",Je[Je.Minutes=4]="Minutes",Je[Je.Seconds=5]="Seconds",Je[Je.FractionalSeconds=6]="FractionalSeconds",Je[Je.Day=7]="Day",Je))(),pt=(()=>((pt=pt||{})[pt.DayPeriods=0]="DayPeriods",pt[pt.Days=1]="Days",pt[pt.Months=2]="Months",pt[pt.Eras=3]="Eras",pt))();function u4(n,t,e,i){let r=function y4(n){if(y1(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return ph(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(c4))return function x4(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(n);if(!y1(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=co(e,t)||t;let a,s=[];for(;t;){if(a=d4.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;t=d}}let l=r.getTimezoneOffset();i&&(l=_1(i,l),r=function _4(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function v4(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(_1(t,r)-r))}(r,i,!0));let c="";return s.forEach(d=>{const u=function b4(n){if(Kg[n])return Kg[n];let t;switch(n){case"G":case"GG":case"GGG":t=qt(pt.Eras,Ct.Abbreviated);break;case"GGGG":t=qt(pt.Eras,Ct.Wide);break;case"GGGGG":t=qt(pt.Eras,Ct.Narrow);break;case"y":t=vi(Je.FullYear,1,0,!1,!0);break;case"yy":t=vi(Je.FullYear,2,0,!0,!0);break;case"yyy":t=vi(Je.FullYear,3,0,!1,!0);break;case"yyyy":t=vi(Je.FullYear,4,0,!1,!0);break;case"Y":t=vh(1);break;case"YY":t=vh(2,!0);break;case"YYY":t=vh(3);break;case"YYYY":t=vh(4);break;case"M":case"L":t=vi(Je.Month,1,1);break;case"MM":case"LL":t=vi(Je.Month,2,1);break;case"MMM":t=qt(pt.Months,Ct.Abbreviated);break;case"MMMM":t=qt(pt.Months,Ct.Wide);break;case"MMMMM":t=qt(pt.Months,Ct.Narrow);break;case"LLL":t=qt(pt.Months,Ct.Abbreviated,hi.Standalone);break;case"LLLL":t=qt(pt.Months,Ct.Wide,hi.Standalone);break;case"LLLLL":t=qt(pt.Months,Ct.Narrow,hi.Standalone);break;case"w":t=Yg(1);break;case"ww":t=Yg(2);break;case"W":t=Yg(1,!0);break;case"d":t=vi(Je.Date,1);break;case"dd":t=vi(Je.Date,2);break;case"c":case"cc":t=vi(Je.Day,1);break;case"ccc":t=qt(pt.Days,Ct.Abbreviated,hi.Standalone);break;case"cccc":t=qt(pt.Days,Ct.Wide,hi.Standalone);break;case"ccccc":t=qt(pt.Days,Ct.Narrow,hi.Standalone);break;case"cccccc":t=qt(pt.Days,Ct.Short,hi.Standalone);break;case"E":case"EE":case"EEE":t=qt(pt.Days,Ct.Abbreviated);break;case"EEEE":t=qt(pt.Days,Ct.Wide);break;case"EEEEE":t=qt(pt.Days,Ct.Narrow);break;case"EEEEEE":t=qt(pt.Days,Ct.Short);break;case"a":case"aa":case"aaa":t=qt(pt.DayPeriods,Ct.Abbreviated);break;case"aaaa":t=qt(pt.DayPeriods,Ct.Wide);break;case"aaaaa":t=qt(pt.DayPeriods,Ct.Narrow);break;case"b":case"bb":case"bbb":t=qt(pt.DayPeriods,Ct.Abbreviated,hi.Standalone,!0);break;case"bbbb":t=qt(pt.DayPeriods,Ct.Wide,hi.Standalone,!0);break;case"bbbbb":t=qt(pt.DayPeriods,Ct.Narrow,hi.Standalone,!0);break;case"B":case"BB":case"BBB":t=qt(pt.DayPeriods,Ct.Abbreviated,hi.Format,!0);break;case"BBBB":t=qt(pt.DayPeriods,Ct.Wide,hi.Format,!0);break;case"BBBBB":t=qt(pt.DayPeriods,Ct.Narrow,hi.Format,!0);break;case"h":t=vi(Je.Hours,1,-12);break;case"hh":t=vi(Je.Hours,2,-12);break;case"H":t=vi(Je.Hours,1);break;case"HH":t=vi(Je.Hours,2);break;case"m":t=vi(Je.Minutes,1);break;case"mm":t=vi(Je.Minutes,2);break;case"s":t=vi(Je.Seconds,1);break;case"ss":t=vi(Je.Seconds,2);break;case"S":t=vi(Je.FractionalSeconds,1);break;case"SS":t=vi(Je.FractionalSeconds,2);break;case"SSS":t=vi(Je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=gh(Ti.Short);break;case"ZZZZZ":t=gh(Ti.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=gh(Ti.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=gh(Ti.Long);break;default:return null}return Kg[n]=t,t}(d);c+=u?u(r,e,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function ph(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function co(n,t){const e=function XI(n){return an(n)[Oe.LocaleId]}(n);if(Nc[e]=Nc[e]||{},Nc[e][t])return Nc[e][t];let i="";switch(t){case"shortDate":i=uh(n,ni.Short);break;case"mediumDate":i=uh(n,ni.Medium);break;case"longDate":i=uh(n,ni.Long);break;case"fullDate":i=uh(n,ni.Full);break;case"shortTime":i=hh(n,ni.Short);break;case"mediumTime":i=hh(n,ni.Medium);break;case"longTime":i=hh(n,ni.Long);break;case"fullTime":i=hh(n,ni.Full);break;case"short":const r=co(n,"shortTime"),o=co(n,"shortDate");i=mh(fh(n,ni.Short),[r,o]);break;case"medium":const s=co(n,"mediumTime"),a=co(n,"mediumDate");i=mh(fh(n,ni.Medium),[s,a]);break;case"long":const l=co(n,"longTime"),c=co(n,"longDate");i=mh(fh(n,ni.Long),[l,c]);break;case"full":const d=co(n,"fullTime"),u=co(n,"fullDate");i=mh(fh(n,ni.Full),[d,u])}return i&&(Nc[e][t]=i),i}function mh(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function vr(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function vi(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function f4(n,t){switch(n){case Je.FullYear:return t.getFullYear();case Je.Month:return t.getMonth();case Je.Date:return t.getDate();case Je.Hours:return t.getHours();case Je.Minutes:return t.getMinutes();case Je.Seconds:return t.getSeconds();case Je.FractionalSeconds:return t.getMilliseconds();case Je.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===Je.Hours)0===a&&-12===e&&(a=12);else if(n===Je.FractionalSeconds)return function h4(n,t){return vr(n,3).substring(0,t)}(a,t);const l=Zn(s,Xe.MinusSign);return vr(a,t,l,i,r)}}function qt(n,t,e=hi.Format,i=!1){return function(r,o){return function p4(n,t,e,i,r,o){switch(e){case pt.Months:return function JI(n,t,e){const i=an(n),o=Qn([i[Oe.MonthsFormat],i[Oe.MonthsStandalone]],t);return Qn(o,e)}(t,r,i)[n.getMonth()];case pt.Days:return function QI(n,t,e){const i=an(n),o=Qn([i[Oe.DaysFormat],i[Oe.DaysStandalone]],t);return Qn(o,e)}(t,r,i)[n.getDay()];case pt.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function r4(n){const t=an(n);return b1(t),(t[Oe.ExtraData][2]||[]).map(i=>"string"==typeof i?qg(i):[qg(i[0]),qg(i[1])])}(t),d=function o4(n,t,e){const i=an(n);b1(i);const o=Qn([i[Oe.ExtraData][0],i[Oe.ExtraData][1]],t)||[];return Qn(o,e)||[]}(t,r,i),u=c.findIndex(g=>{if(Array.isArray(g)){const[b,_]=g,w=s>=b.hours&&a>=b.minutes,C=s<_.hours||s===_.hours&&a<_.minutes;if(b.hours<_.hours){if(w&&C)return!0}else if(w||C)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(-1!==u)return d[u]}return function ZI(n,t,e){const i=an(n),o=Qn([i[Oe.DayPeriodsFormat],i[Oe.DayPeriodsStandalone]],t);return Qn(o,e)}(t,r,i)[s<12?0:1];case pt.Eras:return function e4(n,t){return Qn(an(n)[Oe.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function gh(n){return function(t,e,i){const r=-1*i,o=Zn(e,Xe.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ti.Short:return(r>=0?"+":"")+vr(s,2,o)+vr(Math.abs(r%60),2,o);case Ti.ShortGMT:return"GMT"+(r>=0?"+":"")+vr(s,1,o);case Ti.Long:return"GMT"+(r>=0?"+":"")+vr(s,2,o)+":"+vr(Math.abs(r%60),2,o);case Ti.Extended:return 0===i?"Z":(r>=0?"+":"")+vr(s,2,o)+":"+vr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const m4=0,bh=4;function v1(n){return ph(n.getFullYear(),n.getMonth(),n.getDate()+(bh-n.getDay()))}function Yg(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=v1(e),s=function g4(n){const t=ph(n,m4,1).getDay();return ph(n,0,1+(t<=bh?bh:bh+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return vr(r,n,Zn(i,Xe.MinusSign))}}function vh(n,t=!1){return function(e,i){return vr(v1(e).getFullYear(),n,Zn(i,Xe.MinusSign),t)}}const Kg={};function _1(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function y1(n){return n instanceof Date&&!isNaN(n.valueOf())}function E1(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const tb=/\s+/,M1=[];let D1=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=M1,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(tb):M1}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(tb):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(tb).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(O(dh),O(Ic),O(It),O(io))},n.\u0275dir=Be({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class F4{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hi=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new F4(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),k1(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{k1(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(O(On),O(gr),O(dh))},n.\u0275dir=Be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function k1(n,t){n.context.$implicit=t.item}let ki=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new L4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){A1("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){A1("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(O(On),O(gr))},n.\u0275dir=Be({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class L4{constructor(){this.$implicit=null,this.ngIf=null}}function A1(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Nt(t)}'.`)}class ib{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Vc=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Be({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),nb=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new ib(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(O(On),O(gr),O(Vc,9))},n.\u0275dir=Be({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),rb=(()=>{class n{constructor(e,i,r){r._addDefault(new ib(e,i))}}return n.\u0275fac=function(e){return new(e||n)(O(On),O(gr),O(Vc,9))},n.\u0275dir=Be({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();function _r(n,t){return new ae(2100,!1)}class N4{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class B4{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const V4=new B4,z4=new N4;let ul=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Cc(e))return V4;if(Ox(e))return z4;throw _r()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(O(Uo,16))},n.\u0275pipe=Ai({name:"async",type:n,pure:!1,standalone:!0}),n})();const G4=new be("DATE_PIPE_DEFAULT_TIMEZONE"),q4=new be("DATE_PIPE_DEFAULT_OPTIONS");let yh=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return u4(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw _r()}}}return n.\u0275fac=function(e){return new(e||n)(O(Vr,16),O(G4,24),O(q4,24))},n.\u0275pipe=Ai({name:"date",type:n,pure:!0,standalone:!0}),n})(),P1=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Ai({name:"json",type:n,pure:!1,standalone:!0}),n})(),uo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({}),n})();const F1="browser";let sL=(()=>{class n{}return n.\u0275prov=xe({token:n,providedIn:"root",factory:()=>new aL(G(ct),window)}),n})();class aL{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function lL(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=I1(this.window.history)||I1(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function I1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class L1{}class IL extends jI{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cb extends IL{static makeCurrent(){!function HI(n){Ug||(Ug=n)}(new cb)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function LL(){return Hc=Hc||document.querySelector("base"),Hc?Hc.getAttribute("href"):null}();return null==e?null:function NL(n){Ch=Ch||document.createElement("a"),Ch.setAttribute("href",n);const t=Ch.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return E1(document.cookie,t)}}let Ch,Hc=null;const H1=new be("TRANSITION_ID"),VL=[{provide:nh,useFactory:function BL(n,t,e){return()=>{e.get(rh).donePromise.then(()=>{const i=ao(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[H1,ct,Mi],multi:!0}];let HL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const Eh=new be("EventManagerPlugins");let Mh=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(G(Eh),G(ft))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();class j1{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=ao().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let U1=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let o=r.get(e)??0;return o+=i,o>0?r.set(e,o):r.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),jc=(()=>{class n extends U1{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(o=>o.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(G(ct))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const db={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ub=/%COMP%/g,G1=new be("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function q1(n,t){return t.flat(100).map(e=>e.replace(ub,n))}function Y1(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Dh=(()=>{class n{constructor(e,i,r,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new hb(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof Z1?r.applyToHost(e):r instanceof fb&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case bn.Emulated:o=new Z1(s,a,i,this.appId,l);break;case bn.ShadowDom:return new YL(s,a,e,i);default:o=new fb(s,a,i,l)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(G(Mh),G(jc),G(Fc),G(G1))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();class hb{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(db[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(X1(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(X1(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=db[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=db[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(yn.DashCase|yn.Important)?t.style.setProperty(e,i,r&yn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&yn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Y1(i)):this.eventManager.addEventListener(t,e,Y1(i))}}function X1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class YL extends hb{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=q1(r.id,r.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fb extends hb{constructor(t,e,i,r,o=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=q1(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Z1 extends fb{constructor(t,e,i,r,o){const s=r+"-"+i.id;super(t,e,i,o,s),this.contentAttr=function WL(n){return"_ngcontent-%COMP%".replace(ub,n)}(s),this.hostAttr=function GL(n){return"_nghost-%COMP%".replace(ub,n)}(s)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let KL=(()=>{class n extends j1{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(G(ct))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const Q1=["alt","control","meta","shift"],XL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let QL=(()=>{class n extends j1{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ao().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Q1.forEach(c=>{const d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=XL[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Q1.forEach(s=>{s!==r&&(0,ZL[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(G(ct))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const n3=GC(BI,"browser",[{provide:oh,useValue:F1},{provide:IC,useValue:function JL(){cb.makeCurrent()},multi:!0},{provide:ct,useFactory:function t3(){return function Uk(n){mm=n}(document),document},deps:[]}]),tE=new be(""),iE=[{provide:sh,useClass:class zL{addToWindow(t){jt.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},jt.getAllAngularTestabilities=()=>t.getAllTestabilities(),jt.getAllAngularRootElements=()=>t.getAllRootElements(),jt.frameworkStabilizers||(jt.frameworkStabilizers=[]),jt.frameworkStabilizers.push(i=>{const r=jt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?ao().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:HC,useClass:Fg,deps:[ft,Ig,sh]},{provide:Fg,useClass:Fg,deps:[ft,Ig,sh]}],nE=[{provide:Em,useValue:"root"},{provide:Bo,useFactory:function e3(){return new Bo},deps:[]},{provide:Eh,useClass:KL,multi:!0,deps:[ct,ft,oh]},{provide:Eh,useClass:QL,multi:!0,deps:[ct]},{provide:Dh,useClass:Dh,deps:[Mh,jc,Fc,G1]},{provide:vc,useExisting:Dh},{provide:U1,useExisting:jc},{provide:jc,useClass:jc,deps:[ct]},{provide:Mh,useClass:Mh,deps:[Eh,ft]},{provide:L1,useClass:HL,deps:[]},[]];let rE=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Fc,useValue:e.appId},{provide:H1,useExisting:Fc},VL]}}}return n.\u0275fac=function(e){return new(e||n)(G(tE,12))},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({providers:[...nE,...iE],imports:[uo,VI]}),n})(),mb=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(G(ct))},n.\u0275prov=xe({token:n,factory:function(e){let i=null;return i=e?new e:function o3(){return new mb(G(ct))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Sh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:function(e){let i=null;return i=e?new(e||n):G(aE),i},providedIn:"root"}),n})(),aE=(()=>{class n extends Sh{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ft.NONE:return i;case Ft.HTML:return Or(i,"HTML")?kn(i):Cy(this._doc,String(i)).toString();case Ft.STYLE:return Or(i,"Style")?kn(i):i;case Ft.SCRIPT:if(Or(i,"Script"))return kn(i);throw new Error("unsafe value used in a script context");case Ft.URL:return Or(i,"URL")?kn(i):ku(String(i));case Ft.RESOURCE_URL:if(Or(i,"ResourceURL"))return kn(i);throw new Error(`unsafe value used in a resource URL context (see ${pa})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${pa})`)}}bypassSecurityTrustHtml(e){return function Xk(n){return new $k(n)}(e)}bypassSecurityTrustStyle(e){return function Zk(n){return new Wk(n)}(e)}bypassSecurityTrustScript(e){return function Qk(n){return new Gk(n)}(e)}bypassSecurityTrustUrl(e){return function Jk(n){return new qk(n)}(e)}bypassSecurityTrustResourceUrl(e){return function eA(n){return new Yk(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(G(ct))},n.\u0275prov=xe({token:n,factory:function(e){let i=null;return i=e?new e:function d3(n){return new aE(n.get(ct))}(G(Mi)),i},providedIn:"root"}),n})();class lE{}class u3{}const ho="*";function fo(n,t){return{type:7,name:n,definitions:t,options:{}}}function Jn(n,t=null){return{type:4,styles:t,timings:n}}function dE(n,t=null){return{type:2,steps:n,options:t}}function ri(n){return{type:6,styles:n,offset:null}}function Pn(n,t,e){return{type:0,name:n,styles:t,options:e}}function Rn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function uE(n){Promise.resolve().then(n)}class Uc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){uE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class hE{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?uE(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const _b="!";function fE(n){return new ae(3e3,!1)}function G3(){return typeof window<"u"&&typeof window.document<"u"}function yb(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Wo(n){switch(n.length){case 0:return new Uc;case 1:return n[0];default:return new hE(n)}}function pE(n,t,e,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(i.forEach(d=>{const u=d.get("offset"),g=u==l,b=g&&c||new Map;d.forEach((_,w)=>{let C=w,M=_;if("offset"!==w)switch(C=t.normalizePropertyName(C,s),M){case _b:M=r.get(w);break;case ho:M=o.get(w);break;default:M=t.normalizeStyleValue(w,C,M,s)}b.set(C,M)}),g||a.push(b),c=b,l=u}),s.length)throw function F3(n){return new ae(3502,!1)}();return a}function xb(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&wb(e,"start",n)));break;case"done":n.onDone(()=>i(e&&wb(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&wb(e,"destroy",n)))}}function wb(n,t,e){const o=Cb(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function Cb(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Fn(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function mE(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Eb=(n,t)=>!1,gE=(n,t,e)=>[],bE=null;function Mb(n){const t=n.parentNode||n.host;return t===bE?null:t}(yb()||typeof Element<"u")&&(G3()?(bE=(()=>document.documentElement)(),Eb=(n,t)=>{for(;t;){if(t===n)return!0;t=Mb(t)}return!1}):Eb=(n,t)=>n.contains(t),gE=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Hs=null,vE=!1;const _E=Eb,yE=gE;let xE=(()=>{class n{validateStyleProperty(e){return function Y3(n){Hs||(Hs=function K3(){return typeof document<"u"?document.body:null}()||{},vE=!!Hs.style&&"WebkitAppearance"in Hs.style);let t=!0;return Hs.style&&!function q3(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Hs.style,!t&&vE&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Hs.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return _E(e,i)}getParentElement(e){return Mb(e)}query(e,i,r){return yE(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Uc(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),Db=(()=>{class n{}return n.NOOP=new xE,n})();const X3=1e3,Sb="ng-enter",Th="ng-leave",kh="ng-trigger",Ah=".ng-trigger",CE="ng-animating",Tb=".ng-animating";function po(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:kb(parseFloat(t[1]),t[2])}function kb(n,t){return"s"===t?n*X3:n}function Oh(n,t,e){return n.hasOwnProperty("duration")?n:function Q3(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(fE()),{duration:0,delay:0,easing:""};r=kb(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=kb(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function h3(){return new ae(3100,!1)}()),a=!0),o<0&&(t.push(function f3(){return new ae(3101,!1)}()),a=!0),a&&t.splice(l,0,fE())}return{duration:r,delay:o,easing:s}}(n,t,e)}function $c(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function EE(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Go(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function DE(n,t,e){return e?t+":"+e+";":""}function SE(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=DE(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=DE(0,iN(e),n.style[e]));n.setAttribute("style",t)}function zr(n,t,e){n.style&&(t.forEach((i,r)=>{const o=Ob(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),yb()&&SE(n))}function js(n,t){n.style&&(t.forEach((e,i)=>{const r=Ob(i);n.style[r]=""}),yb()&&SE(n))}function Wc(n){return Array.isArray(n)?1==n.length?n[0]:dE(n):n}const Ab=new RegExp("{{\\s*(.+?)\\s*}}","g");function TE(n){let t=[];if("string"==typeof n){let e;for(;e=Ab.exec(n);)t.push(e[1]);Ab.lastIndex=0}return t}function Gc(n,t,e){const i=n.toString(),r=i.replace(Ab,(o,s)=>{let a=t[s];return null==a&&(e.push(function m3(n){return new ae(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Ph(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const tN=/-+([a-z0-9])/g;function Ob(n){return n.replace(tN,(...t)=>t[1].toUpperCase())}function iN(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function In(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function g3(n){return new ae(3004,!1)}()}}function kE(n,t){return window.getComputedStyle(n)[t]}const Ih="*";function lN(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function cN(n,t,e){if(":"==n[0]){const l=function dN(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function A3(n){return new ae(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function k3(n){return new ae(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(AE(r,s));"<"==o[0]&&!(r==Ih&&s==Ih)&&t.push(AE(s,r))}(i,e,t)):e.push(n),e}const Lh=new Set(["true","1"]),Nh=new Set(["false","0"]);function AE(n,t){const e=Lh.has(n)||Nh.has(n),i=Lh.has(t)||Nh.has(t);return(r,o)=>{let s=n==Ih||n==r,a=t==Ih||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Lh.has(n):Nh.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Lh.has(t):Nh.has(t)),s&&a}}const uN=new RegExp("s*:selfs*,?","g");function Pb(n,t,e,i){return new hN(n).build(t,e,i)}class hN{constructor(t){this._driver=t}build(t,e,i){const r=new mN(e);return this._resetContextStyleTimingState(r),In(this,Wc(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function v3(){return new ae(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function _3(){return new ae(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{TE(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Ph(o.values()),e.errors.push(function y3(n,t){return new ae(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=In(this,Wc(t.animation),e);return{type:1,matchers:lN(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Us(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>In(this,i,e)),options:Us(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=In(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Us(t.options)}}visitAnimate(t,e){const i=function bN(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Rb(Oh(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Rb(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Oh(e,t);return Rb(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:ri({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=ri(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===ho?i.push(a):e.errors.push(new ae(3002,!1)):i.push(EE(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l);let u=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(function w3(n,t,e,i,r){return new ae(3010,!1)}()),u=!1),o=d.startTime),u&&c.set(l,{startTime:o,endTime:r}),e.options&&function eN(n,t,e){const i=t.params||{},r=TE(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function p3(n){return new ae(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function C3(){return new ae(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const d=t.steps.map(M=>{const L=this._makeStyleAst(M,e);let N=null!=L.offset?L.offset:function gN(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(L.styles),ce=0;return null!=N&&(o++,ce=L.offset=N),l=l||ce<0||ce>1,a=a||ce<c,c=ce,s.push(ce),L});l&&e.errors.push(function E3(){return new ae(3012,!1)}()),a&&e.errors.push(function M3(){return new ae(3200,!1)}());const u=t.steps.length;let g=0;o>0&&o<u?e.errors.push(function D3(){return new ae(3202,!1)}()):0==o&&(g=1/(u-1));const b=u-1,_=e.currentTime,w=e.currentAnimateTimings,C=w.duration;return d.forEach((M,L)=>{const N=g>0?L==b?1:g*L:s[L],ce=N*C;e.currentTime=_+w.delay+ce,w.duration=ce,this._validateStyleAst(M,e),M.offset=N,i.styles.push(M)}),i}visitReference(t,e){return{type:8,animation:In(this,Wc(t.animation),e),options:Us(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Us(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Us(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function fN(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(uN,"")),n=n.replace(/@\*/g,Ah).replace(/@\w+/g,e=>Ah+"-"+e.slice(1)).replace(/:animating/g,Tb),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Fn(e.collectedStyles,e.currentQuerySelector,new Map);const a=In(this,Wc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Us(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function S3(){return new ae(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Oh(t.timings,e.errors,!0);return{type:12,animation:In(this,Wc(t.animation),e),timings:i,options:null}}}class mN{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Us(n){return n?(n=$c(n)).params&&(n.params=function pN(n){return n?$c(n):null}(n.params)):n={},n}function Rb(n,t,e){return{duration:n,delay:t,easing:e}}function Fb(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Bh{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const yN=new RegExp(":enter","g"),wN=new RegExp(":leave","g");function Ib(n,t,e,i,r,o=new Map,s=new Map,a,l,c=[]){return(new CN).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class CN{buildKeyframes(t,e,i,r,o,s,a,l,c,d=[]){c=c||new Bh;const u=new Lb(t,e,c,r,o,d,[]);u.options=l;const g=l.delay?po(l.delay):0;u.currentTimeline.delayNextStep(g),u.currentTimeline.setStyles([s],null,u.errors,l),In(this,i,u);const b=u.timelines.filter(_=>_.containsAnimation());if(b.length&&a.size){let _;for(let w=b.length-1;w>=0;w--){const C=b[w];if(C.element===e){_=C;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,u.errors,l)}return b.length?b.map(_=>_.buildKeyframes()):[Fb(e,[],[],[],0,g,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:po(Gc(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?po(i.duration):null,a=null!=i.delay?po(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),In(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Vh);const s=po(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>In(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?po(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),In(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Oh(e.params?Gc(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?po(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Vh);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{e.currentQueryIndex=d;const u=e.createSubContext(t.options,c);o&&u.delayNextStep(o),c===e.element&&(l=u.currentTimeline),In(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,u.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const u=d.currentTime;In(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}}const Vh={};class Lb{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new zh(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=po(i.duration)),null!=i.delay&&(r.delay=po(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Gc(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Lb(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Vh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new EN(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(yN,"."+this._enterClassName)).replace(wN,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function T3(n){return new ae(3014,!1)}()),a}}class zh{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new zh(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ho),this._currentKeyframe.set(e,ho);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function MN(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,ho)}else Go(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=Gc(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ho),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Go(a,new Map,this._backFill);c.forEach((d,u)=>{d===_b?t.add(u):d===ho&&e.add(u)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?Ph(t.values()):[],s=e.size?Ph(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Fb(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class EN extends zh{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=Go(t[0]);l.set("offset",0),o.push(l);const c=Go(t[0]);c.set("offset",RE(a)),o.push(c);const d=t.length-1;for(let u=1;u<=d;u++){let g=Go(t[u]);const b=g.get("offset");g.set("offset",RE((e+b*i)/s)),o.push(g)}i=s,e=0,r="",t=o}return Fb(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function RE(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Nb{}const DN=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class SN extends Nb{normalizePropertyName(t,e){return Ob(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(DN.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function b3(n,t){return new ae(3005,!1)}())}return s+o}}function FE(n,t,e,i,r,o,s,a,l,c,d,u,g){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:g}}const Bb={};class IE{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function TN(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,c,d){const u=[],g=this.ast.options&&this.ast.options.params||Bb,_=this.buildStyles(i,a&&a.params||Bb,u),w=l&&l.params||Bb,C=this.buildStyles(r,w,u),M=new Set,L=new Map,N=new Map,ce="void"===r,De={params:kN(w,g),delay:this.ast.options?.delay},ze=d?[]:Ib(t,e,this.ast.animation,o,s,_,C,De,c,u);let oi=0;if(ze.forEach(Vn=>{oi=Math.max(Vn.duration+Vn.delay,oi)}),u.length)return FE(e,this._triggerName,i,r,ce,_,C,[],[],L,N,oi,u);ze.forEach(Vn=>{const rr=Vn.element,Fd=Fn(L,rr,new Set);Vn.preStyleProps.forEach(as=>Fd.add(as));const Et=Fn(N,rr,new Set);Vn.postStyleProps.forEach(as=>Et.add(as)),rr!==e&&M.add(rr)});const Xt=Ph(M.values());return FE(e,this._triggerName,i,r,ce,_,C,ze,Xt,L,N,oi)}}function kN(n,t){const e=$c(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class AN{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=$c(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Gc(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}}class PN{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new AN(r.style,r.options&&r.options.params||{},i))}),LE(this.states,"true","1"),LE(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new IE(t,r,this.states))}),this.fallbackTransition=function RN(n,t,e){return new IE(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function LE(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const FN=new Bh;class IN{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],o=Pb(this._driver,e,i,r);if(i.length)throw function I3(n){return new ae(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=pE(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=Ib(this._driver,e,o,Sb,Th,new Map,new Map,i,FN,r),s.forEach(d=>{const u=Fn(a,d.element,new Map);d.postStyleProps.forEach(g=>u.set(g,null))})):(r.push(function L3(){return new ae(3300,!1)}()),s=[]),r.length)throw function N3(n){return new ae(3504,!1)}();a.forEach((d,u)=>{d.forEach((g,b)=>{d.set(b,this._driver.computeStyle(u,b,ho))})});const c=Wo(s.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function B3(n){return new ae(3301,!1)}();return e}listen(t,e,i,r){const o=Cb(e,"","","");return xb(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const NE="ng-animate-queued",Vb="ng-animate-disabled",zN=[],BE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},er="__ng_removed";class zb{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function WN(n){return n??null}(i?t.value:t),i){const o=$c(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const qc="void",Hb=new zb(qc);class jN{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,tr(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function V3(n,t){return new ae(3302,!1)}();if(null==i||0==i.length)throw function z3(n){return new ae(3303,!1)}();if(!function GN(n){return"start"==n||"done"==n}(i))throw function H3(n,t){return new ae(3400,!1)}();const o=Fn(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=Fn(this._engine.statesByElement,t,new Map);return a.has(e)||(tr(t,kh),tr(t,kh+"-"+e),a.set(e,Hb)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function j3(n){return new ae(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new jb(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(tr(t,kh),tr(t,kh+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new zb(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Hb),c.value!==qc&&l.value===c.value){if(!function KN(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const w=[],C=o.matchStyles(l.value,l.params,w),M=o.matchStyles(c.value,c.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{js(t,C),zr(t,M)})}return}const g=Fn(this._engine.playersByElement,t,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let b=o.matchTransition(l.value,c.value,t,c.params),_=!1;if(!b){if(!r)return;b=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:b,fromState:l,toState:c,player:s,isFallbackTransition:_}),_||(tr(t,NE),s.onStart(()=>{hl(t,NE)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const C=this._engine.playersByElement.get(t);if(C){let M=C.indexOf(s);M>=0&&C.splice(M,1)}}),this.players.push(s),g.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ah,!0);i.forEach(r=>{if(r[er])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const d=this.trigger(t,c,qc,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Wo(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||Hb,d=new zb(qc),u=new jb(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[er];(!o||o===BE)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){tr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=Cb(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,xb(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class UN{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new jN(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(Hh(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Hh(e))return;const o=e[er];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),tr(t,Vb)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hl(t,Vb))}removeNode(t,e,i,r){if(Hh(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[er]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Hh(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Ah,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Tb,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Wo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[er];if(e&&e.setForRemoval){if(t[er]=BE,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Vb)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)tr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Wo(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function U3(n){return new ae(3402,!1)}()}_flushAnimations(t,e){const i=new Bh,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(Le=>{d.add(Le);const qe=this.driver.query(Le,".ng-animate-queued",!0);for(let et=0;et<qe.length;et++)d.add(qe[et])});const u=this.bodyNode,g=Array.from(this.statesByElement.keys()),b=HE(g,this.collectedEnterElements),_=new Map;let w=0;b.forEach((Le,qe)=>{const et=Sb+w++;_.set(qe,et),Le.forEach(kt=>tr(kt,et))});const C=[],M=new Set,L=new Set;for(let Le=0;Le<this.collectedLeaveElements.length;Le++){const qe=this.collectedLeaveElements[Le],et=qe[er];et&&et.setForRemoval&&(C.push(qe),M.add(qe),et.hasAnimation?this.driver.query(qe,".ng-star-inserted",!0).forEach(kt=>M.add(kt)):L.add(qe))}const N=new Map,ce=HE(g,Array.from(M));ce.forEach((Le,qe)=>{const et=Th+w++;N.set(qe,et),Le.forEach(kt=>tr(kt,et))}),t.push(()=>{b.forEach((Le,qe)=>{const et=_.get(qe);Le.forEach(kt=>hl(kt,et))}),ce.forEach((Le,qe)=>{const et=N.get(qe);Le.forEach(kt=>hl(kt,et))}),C.forEach(Le=>{this.processLeaveNode(Le)})});const De=[],ze=[];for(let Le=this._namespaceList.length-1;Le>=0;Le--)this._namespaceList[Le].drainQueuedTransitions(e).forEach(et=>{const kt=et.player,Ii=et.element;if(De.push(kt),this.collectedEnterElements.length){const Ji=Ii[er];if(Ji&&Ji.setForMove){if(Ji.previousTriggersValues&&Ji.previousTriggersValues.has(et.triggerName)){const oa=Ji.previousTriggersValues.get(et.triggerName),or=this.statesByElement.get(et.element);if(or&&or.has(et.triggerName)){const rp=or.get(et.triggerName);rp.value=oa,or.set(et.triggerName,rp)}}return void kt.destroy()}}const Gr=!u||!this.driver.containsElement(u,Ii),zn=N.get(Ii),ls=_.get(Ii),si=this._buildInstruction(et,i,ls,zn,Gr);if(si.errors&&si.errors.length)return void ze.push(si);if(Gr)return kt.onStart(()=>js(Ii,si.fromStyles)),kt.onDestroy(()=>zr(Ii,si.toStyles)),void r.push(kt);if(et.isFallbackTransition)return kt.onStart(()=>js(Ii,si.fromStyles)),kt.onDestroy(()=>zr(Ii,si.toStyles)),void r.push(kt);const oT=[];si.timelines.forEach(Ji=>{Ji.stretchStartingKeyframe=!0,this.disabledNodes.has(Ji.element)||oT.push(Ji)}),si.timelines=oT,i.append(Ii,si.timelines),s.push({instruction:si,player:kt,element:Ii}),si.queriedElements.forEach(Ji=>Fn(a,Ji,[]).push(kt)),si.preStyleProps.forEach((Ji,oa)=>{if(Ji.size){let or=l.get(oa);or||l.set(oa,or=new Set),Ji.forEach((rp,Mv)=>or.add(Mv))}}),si.postStyleProps.forEach((Ji,oa)=>{let or=c.get(oa);or||c.set(oa,or=new Set),Ji.forEach((rp,Mv)=>or.add(Mv))})});if(ze.length){const Le=[];ze.forEach(qe=>{Le.push(function $3(n,t){return new ae(3505,!1)}())}),De.forEach(qe=>qe.destroy()),this.reportError(Le)}const oi=new Map,Xt=new Map;s.forEach(Le=>{const qe=Le.element;i.has(qe)&&(Xt.set(qe,qe),this._beforeAnimationBuild(Le.player.namespaceId,Le.instruction,oi))}),r.forEach(Le=>{const qe=Le.element;this._getPreviousPlayers(qe,!1,Le.namespaceId,Le.triggerName,null).forEach(kt=>{Fn(oi,qe,[]).push(kt),kt.destroy()})});const Vn=C.filter(Le=>UE(Le,l,c)),rr=new Map;zE(rr,this.driver,L,c,ho).forEach(Le=>{UE(Le,l,c)&&Vn.push(Le)});const Et=new Map;b.forEach((Le,qe)=>{zE(Et,this.driver,new Set(Le),l,_b)}),Vn.forEach(Le=>{const qe=rr.get(Le),et=Et.get(Le);rr.set(Le,new Map([...Array.from(qe?.entries()??[]),...Array.from(et?.entries()??[])]))});const as=[],Id=[],rT={};s.forEach(Le=>{const{element:qe,player:et,instruction:kt}=Le;if(i.has(qe)){if(d.has(qe))return et.onDestroy(()=>zr(qe,kt.toStyles)),et.disabled=!0,et.overrideTotalTime(kt.totalTime),void r.push(et);let Ii=rT;if(Xt.size>1){let zn=qe;const ls=[];for(;zn=zn.parentNode;){const si=Xt.get(zn);if(si){Ii=si;break}ls.push(zn)}ls.forEach(si=>Xt.set(si,Ii))}const Gr=this._buildAnimation(et.namespaceId,kt,oi,o,Et,rr);if(et.setRealPlayer(Gr),Ii===rT)as.push(et);else{const zn=this.playersByElement.get(Ii);zn&&zn.length&&(et.parentPlayer=Wo(zn)),r.push(et)}}else js(qe,kt.fromStyles),et.onDestroy(()=>zr(qe,kt.toStyles)),Id.push(et),d.has(qe)&&r.push(et)}),Id.forEach(Le=>{const qe=o.get(Le.element);if(qe&&qe.length){const et=Wo(qe);Le.setRealPlayer(et)}}),r.forEach(Le=>{Le.parentPlayer?Le.syncPlayerEvents(Le.parentPlayer):Le.destroy()});for(let Le=0;Le<C.length;Le++){const qe=C[Le],et=qe[er];if(hl(qe,Th),et&&et.hasAnimation)continue;let kt=[];if(a.size){let Gr=a.get(qe);Gr&&Gr.length&&kt.push(...Gr);let zn=this.driver.query(qe,Tb,!0);for(let ls=0;ls<zn.length;ls++){let si=a.get(zn[ls]);si&&si.length&&kt.push(...si)}}const Ii=kt.filter(Gr=>!Gr.destroyed);Ii.length?qN(this,qe,Ii):this.processLeaveNode(qe)}return C.length=0,as.forEach(Le=>{this.players.push(Le),Le.onDone(()=>{Le.destroy();const qe=this.players.indexOf(Le);this.players.splice(qe,1)}),Le.play()}),as}elementContainsData(t,e){let i=!1;const r=e[er];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==qc;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,d=c!==o,u=Fn(i,c,[]);this._getPreviousPlayers(c,d,s,a,e.toState).forEach(b=>{const _=b.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),b.destroy(),u.push(b)})}js(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],d=new Set,u=new Set,g=e.timelines.map(_=>{const w=_.element;d.add(w);const C=w[er];if(C&&C.removedBeforeQueried)return new Uc(_.duration,_.delay);const M=w!==l,L=function YN(n){const t=[];return jE(n,t),t}((i.get(w)||zN).map(oi=>oi.getRealPlayer())).filter(oi=>!!oi.element&&oi.element===w),N=o.get(w),ce=s.get(w),De=pE(0,this._normalizer,0,_.keyframes,N,ce),ze=this._buildPlayer(_,De,L);if(_.subTimeline&&r&&u.add(w),M){const oi=new jb(t,a,w);oi.setRealPlayer(ze),c.push(oi)}return ze});c.forEach(_=>{Fn(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>function $N(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,_.element,_))}),d.forEach(_=>tr(_,CE));const b=Wo(g);return b.onDestroy(()=>{d.forEach(_=>hl(_,CE)),zr(l,e.toStyles)}),u.forEach(_=>{Fn(r,_,[]).push(b)}),b}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Uc(t.duration,t.delay)}}class jb{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Uc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>xb(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Fn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Hh(n){return n&&1===n.nodeType}function VE(n,t){const e=n.style.display;return n.style.display=t??"none",e}function zE(n,t,e,i,r){const o=[];e.forEach(l=>o.push(VE(l)));const s=[];i.forEach((l,c)=>{const d=new Map;l.forEach(u=>{const g=t.computeStyle(c,u,r);d.set(u,g),(!g||0==g.length)&&(c[er]=HN,s.push(c))}),n.set(c,d)});let a=0;return e.forEach(l=>VE(l,o[a++])),s}function HE(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=1,r=new Set(t),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?i:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);l!==i&&e.get(l).push(a)}),e}function tr(n,t){n.classList?.add(t)}function hl(n,t){n.classList?.remove(t)}function qN(n,t,e){Wo(e).onDone(()=>n.processLeaveNode(t))}function jE(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof hE?jE(i.players,t):t.push(i)}}function UE(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class jh{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new UN(t,e,i),this._timelineEngine=new IN(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],c=[],d=Pb(this._driver,o,l,c);if(l.length)throw function R3(n,t){return new ae(3404,!1)}();a=function ON(n,t,e){return new PN(n,t,e)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=mE(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=mE(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ZN=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&zr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zr(this._element,this._initialStyles),this._endStyles&&(zr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(js(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(js(this._element,this._endStyles),this._endStyles=null),zr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Ub(n){let t=null;return n.forEach((e,i)=>{(function QN(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class $E{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:kE(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class JN{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return _E(t,e)}getParentElement(t){return Mb(t)}query(t,e,i){return yE(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,d=s.filter(b=>b instanceof $E);(function nN(n,t){return 0===n||0===t})(i,r)&&d.forEach(b=>{b.currentSnapshot.forEach((_,w)=>c.set(w,_))});let u=function J3(n){return n.length?n[0]instanceof Map?n:n.map(t=>EE(t)):[]}(e).map(b=>Go(b));u=function rN(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,kE(n,a)))}}return t}(t,u,c);const g=function XN(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Ub(t[0]),t.length>1&&(i=Ub(t[t.length-1]))):t instanceof Map&&(e=Ub(t)),e||i?new ZN(n,e,i):null}(t,u);return new $E(t,u,l,g)}}let e5=(()=>{class n extends lE{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:bn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?dE(e):e;return WE(this._renderer,null,i,"register",[r]),new t5(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(G(vc),G(ct))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();class t5 extends u3{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new n5(this._id,t,e||{},this._renderer)}}class n5{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return WE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function WE(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const GE="@.disabled";let r5=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(o);return d||(d=new qE("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(s,a,e,d.name,d)};return i.data.animation.forEach(l),new o5(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(G(vc),G(jh),G(ft))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();class qE{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==GE?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class o5 extends qE{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==GE?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function s5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function a5(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}const YE=[{provide:lE,useClass:e5},{provide:Nb,useFactory:function c5(){return new SN}},{provide:jh,useClass:(()=>{class n extends jh{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(G(ct),G(Db),G(Nb),G(jo))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})()},{provide:vc,useFactory:function d5(n,t,e){return new r5(n,t,e)},deps:[Dh,jh,ft]}],$b=[{provide:Db,useFactory:()=>new JN},{provide:Bs,useValue:"BrowserAnimations"},...YE],KE=[{provide:Db,useClass:xE},{provide:Bs,useValue:"NoopAnimations"},...YE];let u5=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?KE:$b}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({providers:$b,imports:[rE]}),n})();function Ne(...n){return ei(n,Mo(n))}class Fi extends re{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const $h=B(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:h5}=Array,{getPrototypeOf:f5,prototype:p5,keys:m5}=Object;function XE(n){if(1===n.length){const t=n[0];if(h5(t))return{args:t,keys:null};if(function g5(n){return n&&"object"==typeof n&&f5(n)===p5}(t)){const e=m5(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:b5}=Array;function Wb(n){return He(t=>function v5(n,t){return b5(t)?n(...t):n(t)}(n,t))}function ZE(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Gb(...n){const t=Mo(n),e=zl(n),{args:i,keys:r}=XE(n);if(0===i.length)return ei([],t);const o=new Ce(function _5(n,t,e=Me){return i=>{QE(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)QE(t,()=>{const c=ei(n[l],t);let d=!1;c.subscribe(ot(i,u=>{o[l]=u,d||(d=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>ZE(r,s):Me));return e?o.pipe(Wb(e)):o}function QE(n,t,e){n?cr(e,n,t):t()}function Wh(...n){return function y5(){return Kr(1)}()(ei(n,Mo(n)))}function Gh(n){return new Ce(t=>{Li(n()).subscribe(t)})}function $s(n,t){const e=$(n)?n:()=>n,i=r=>r.error(e());return new Ce(t?r=>t.schedule(i,0,r):i)}function qb(){return Ye((n,t)=>{let e=null;n._refCount++;const i=ot(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class JE extends Ce{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,St(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new W;const e=this.getSubject();t.add(this.source.subscribe(ot(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=W.EMPTY)}return t}refCount(){return qb()(this)}}function Hr(n,t){return Ye((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(ot(i,l=>{r?.unsubscribe();let c=0;const d=o++;Li(n(l,d)).subscribe(r=ot(i,u=>i.next(t?t(l,u,d,c++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ln(n){return n<=0?()=>Gi:Ye((t,e)=>{let i=0;t.subscribe(ot(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Ws(...n){const t=Mo(n);return Ye((e,i)=>{(t?Wh(n,e,t):Wh(n,e)).subscribe(i)})}function pi(n,t){return Ye((e,i)=>{let r=0;e.subscribe(ot(i,o=>n.call(t,o,r++)&&i.next(o)))})}function qh(n){return Ye((t,e)=>{let i=!1;t.subscribe(ot(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function eM(n=x5){return Ye((t,e)=>{let i=!1;t.subscribe(ot(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function x5(){return new $h}function qo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?pi((r,o)=>n(r,o,i)):Me,Ln(1),e?qh(t):eM(()=>new $h))}function Yo(n,t){return $(t)?Zt(n,t,1):Zt(n,1)}function _i(n,t,e){const i=$(n)||t||e?{next:n,error:t,complete:e}:n;return i?Ye((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ot(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Me}function jr(n){return Ye((t,e)=>{let o,i=null,r=!1;i=t.subscribe(ot(e,void 0,void 0,s=>{o=Li(n(s,jr(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function tM(n,t){return Ye(function w5(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(ot(s,d=>{const u=c++;l=a?n(l,d,u):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,t,arguments.length>=2,!0))}function Yb(n){return n<=0?()=>Gi:Ye((t,e)=>{let i=[];t.subscribe(ot(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function iM(n,t){const e=arguments.length>=2;return i=>i.pipe(n?pi((r,o)=>n(r,o,i)):Me,Yb(1),e?qh(t):eM(()=>new $h))}function Yc(n){return Ye((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const ht="primary",Kc=Symbol("RouteTitle");class M5{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function fl(n){return new M5(n)}function D5(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ur(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!nM(n[r],t[r]))return!1;return!0}function nM(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function rM(n){return Array.prototype.concat.apply([],n)}function oM(n){return n.length>0?n[n.length-1]:null}function ji(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ko(n){return Qm(n)?n:Cc(n)?ei(Promise.resolve(n)):Ne(n)}const Yh=!1,T5={exact:function lM(n,t,e){if(!Gs(n.segments,t.segments)||!Kh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!lM(n.children[i],t.children[i],e))return!1;return!0},subset:cM},sM={exact:function k5(n,t){return Ur(n,t)},subset:function A5(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>nM(n[e],t[e]))},ignored:()=>!0};function aM(n,t,e){return T5[e.paths](n.root,t.root,e.matrixParams)&&sM[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function cM(n,t,e){return dM(n,t,t.segments,e)}function dM(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Gs(r,e)||t.hasChildren()||!Kh(r,e,i))}if(n.segments.length===e.length){if(!Gs(n.segments,e)||!Kh(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!cM(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Gs(n.segments,r)&&Kh(n.segments,r,i)&&n.children[ht])&&dM(n.children[ht],t,o,i)}}function Kh(n,t,e){return t.every((i,r)=>sM[e](n[r].parameters,i.parameters))}class Xo{constructor(t=new bt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fl(this.queryParams)),this._queryParamMap}toString(){return R5.serialize(this)}}class bt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ji(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xh(this)}}class Xc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=fl(this.parameters)),this._parameterMap}toString(){return fM(this)}}function Gs(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Zc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:function(){return new Kb},providedIn:"root"}),n})();class Kb{parse(t){const e=new j5(t);return new Xo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Qc(t.root,!0)}`,i=function L5(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Zh(e)}=${Zh(r)}`).join("&"):`${Zh(e)}=${Zh(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function F5(n){return encodeURI(n)}(t.fragment)}`:""}`}}const R5=new Kb;function Xh(n){return n.segments.map(t=>fM(t)).join("/")}function Qc(n,t){if(!n.hasChildren())return Xh(n);if(t){const e=n.children[ht]?Qc(n.children[ht],!1):"",i=[];return ji(n.children,(r,o)=>{o!==ht&&i.push(`${o}:${Qc(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function P5(n,t){let e=[];return ji(n.children,(i,r)=>{r===ht&&(e=e.concat(t(i,r)))}),ji(n.children,(i,r)=>{r!==ht&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ht?[Qc(n.children[ht],!1)]:[`${r}:${Qc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ht]?`${Xh(n)}/${e[0]}`:`${Xh(n)}/(${e.join("//")})`}}function uM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zh(n){return uM(n).replace(/%3B/gi,";")}function Xb(n){return uM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qh(n){return decodeURIComponent(n)}function hM(n){return Qh(n.replace(/\+/g,"%20"))}function fM(n){return`${Xb(n.path)}${function I5(n){return Object.keys(n).map(t=>`;${Xb(t)}=${Xb(n[t])}`).join("")}(n.parameters)}`}const N5=/^[^\/()?;=#]+/;function Jh(n){const t=n.match(N5);return t?t[0]:""}const B5=/^[^=?&#]+/,z5=/^[^&#]+/;class j5{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ht]=new bt(t,e)),i}parseSegment(){const t=Jh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ae(4009,Yh);return this.capture(t),new Xc(Qh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Jh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Jh(this.remaining);r&&(i=r,this.capture(i))}t[Qh(e)]=Qh(i)}parseQueryParam(t){const e=function V5(n){const t=n.match(B5);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function H5(n){const t=n.match(z5);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=hM(e),o=hM(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Jh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new ae(4010,Yh);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ht);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[ht]:new bt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ae(4011,Yh)}}function Zb(n){return n.segments.length>0?new bt([],{[ht]:n}):n}function ef(n){const t={};for(const i of Object.keys(n.children)){const o=ef(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function U5(n){if(1===n.numberOfChildren&&n.children[ht]){const t=n.children[ht];return new bt(n.segments.concat(t.segments),t.children)}return n}(new bt(n.segments,t))}function qs(n){return n instanceof Xo}const Qb=!1;function $5(n,t,e,i,r){if(0===e.length)return pl(t.root,t.root,t.root,i,r);const o=function vM(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bM(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return ji(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new bM(e,t,i)}(e);return o.toRoot()?pl(t.root,t.root,new bt([],{}),i,r):function s(l){const c=function G5(n,t,e,i){if(n.isAbsolute)return new ml(t.root,!0,0);if(-1===i)return new ml(e,e===t.root,0);return function _M(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ae(4005,Qb&&"Invalid number of '../'");r=i.segments.length}return new ml(i,!1,r-o)}(e,i+(Jc(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,l),d=c.processChildren?gl(c.segmentGroup,c.index,o.commands):Jb(c.segmentGroup,c.index,o.commands);return pl(t.root,c.segmentGroup,d,i,r)}(n.snapshot?._lastPathIndex)}function Jc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ed(n){return"object"==typeof n&&null!=n&&n.outlets}function pl(n,t,e,i,r){let s,o={};i&&ji(i,(l,c)=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),s=n===t?e:gM(n,t,e);const a=Zb(ef(s));return new Xo(a,o,r)}function gM(n,t,e){const i={};return ji(n.children,(r,o)=>{i[o]=r===t?e:gM(r,t,e)}),new bt(n.segments,i)}class bM{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Jc(i[0]))throw new ae(4003,Qb&&"Root segment cannot have matrix parameters");const r=i.find(ed);if(r&&r!==oM(i))throw new ae(4004,Qb&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ml{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Jb(n,t,e){if(n||(n=new bt([],{})),0===n.segments.length&&n.hasChildren())return gl(n,t,e);const i=function Y5(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(ed(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!xM(l,c,s))return o;i+=2}else{if(!xM(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new bt(n.segments.slice(0,i.pathIndex),{});return o.children[ht]=new bt(n.segments.slice(i.pathIndex),n.children),gl(o,0,r)}return i.match&&0===r.length?new bt(n.segments,{}):i.match&&!n.hasChildren()?e0(n,t,e):i.match?gl(n,0,r):e0(n,t,e)}function gl(n,t,e){if(0===e.length)return new bt(n.segments,{});{const i=function q5(n){return ed(n[0])?n[0].outlets:{[ht]:n}}(e),r={};if(!i[ht]&&n.children[ht]&&1===n.numberOfChildren&&0===n.children[ht].segments.length){const o=gl(n.children[ht],t,e);return new bt(n.segments,o.children)}return ji(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Jb(n.children[s],t,o))}),ji(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new bt(n.segments,r)}}function e0(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(ed(o)){const l=K5(o.outlets);return new bt(i,l)}if(0===r&&Jc(e[0])){i.push(new Xc(n.segments[t].path,yM(e[0]))),r++;continue}const s=ed(o)?o.outlets[ht]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Jc(a)?(i.push(new Xc(s,yM(a))),r+=2):(i.push(new Xc(s,{})),r++)}return new bt(i,{})}function K5(n){const t={};return ji(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=e0(new bt([],{}),0,e))}),t}function yM(n){const t={};return ji(n,(e,i)=>t[i]=`${e}`),t}function xM(n,t,e){return n==e.path&&Ur(t,e.parameters)}const td="imperative";class $r{constructor(t,e){this.id=t,this.url=e}}class t0 extends $r{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ys extends $r{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tf extends $r{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nf extends $r{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class n0 extends $r{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class X5 extends $r{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z5 extends $r{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q5 extends $r{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J5 extends $r{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eB extends $r{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tB{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iB{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nB{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rB{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oB{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sB{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wM{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let cB=(()=>{class n{createUrlTree(e,i,r,o,s,a){return $5(e||i.root,r,o,s,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),uB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:function(t){return cB.\u0275fac(t)},providedIn:"root"}),n})();class CM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=r0(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=r0(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=o0(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return o0(t,this._root).map(e=>e.value)}}function r0(n,t){if(n===t.value)return t;for(const e of t.children){const i=r0(n,e);if(i)return i}return null}function o0(n,t){if(n===t.value)return[t];for(const e of t.children){const i=o0(n,e);if(i.length)return i.unshift(t),i}return[]}class mo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class EM extends CM{constructor(t,e){super(t),this.snapshot=e,s0(this,t)}toString(){return this.snapshot.toString()}}function MM(n,t){const e=function hB(n,t){const s=new rf([],{},{},"",{},ht,t,null,n.root,-1,{});return new SM("",new mo(s,[]))}(n,t),i=new Fi([new Xc("",{})]),r=new Fi({}),o=new Fi({}),s=new Fi({}),a=new Fi(""),l=new ir(i,r,s,a,o,ht,t,e.root);return l.snapshot=e.root,new EM(new mo(l,[]),e)}class ir{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(He(c=>c[Kc]))??Ne(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(He(t=>fl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(He(t=>fl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DM(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function fB(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class rf{get title(){return this.data?.[Kc]}constructor(t,e,i,r,o,s,a,l,c,d,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=d,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SM extends CM{constructor(t,e){super(e),this.url=t,s0(this,e)}toString(){return TM(this._root)}}function s0(n,t){t.value._routerState=n,t.children.forEach(e=>s0(n,e))}function TM(n){const t=n.children.length>0?` { ${n.children.map(TM).join(", ")} } `:"";return`${n.value}${t}`}function a0(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ur(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ur(t.params,e.params)||n.params.next(e.params),function S5(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ur(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ur(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function l0(n,t){const e=Ur(n.params,t.params)&&function O5(n,t){return Gs(n,t)&&n.every((e,i)=>Ur(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||l0(n.parent,t.parent))}function id(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function mB(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return id(n,i,r);return id(n,i)})}(n,t,e);return new mo(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>id(n,a)),s}}const i=function gB(n){return new ir(new Fi(n.url),new Fi(n.params),new Fi(n.queryParams),new Fi(n.fragment),new Fi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>id(n,o));return new mo(i,r)}}const c0="ngNavigationCancelingError";function kM(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=qs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=AM(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function AM(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[c0]=!0,i.cancellationCode=t,e&&(i.url=e),i}function OM(n){return PM(n)&&qs(n.url)}function PM(n){return n&&n[c0]}class bB{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nd,this.attachRef=null}}let nd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new bB,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sf=!1;let af=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new xt,this.deactivateEvents=new xt,this.attachEvents=new xt,this.detachEvents=new xt,this.parentContexts=Ze(nd),this.location=Ze(On),this.changeDetector=Ze(Uo),this.environmentInjector=Ze(Pr)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,sf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,sf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,sf);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new ae(4013,sf);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new vB(e,a,r.injector);if(i&&function _B(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(s);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Be({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[je]}),n})();class vB{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ir?this.route:t===nd?this.childContexts:this.parent.get(t,e)}}let d0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Qe({type:n,selectors:[["ng-component"]],standalone:!0,features:[pg],decls:1,vars:0,template:function(e,i){1&e&&I(0,"router-outlet")},dependencies:[af],encapsulation:2}),n})();function RM(n,t){return n.providers&&!n._injector&&(n._injector=Qu(n.providers,t,`Route: ${n.path}`)),n._injector??t}function h0(n){const t=n.children&&n.children.map(h0),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ht&&(e.component=d0),e}function nr(n){return n.outlet||ht}function FM(n,t){const e=n.filter(i=>nr(i)===t);return e.push(...n.filter(i=>nr(i)!==t)),e}function rd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class EB{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),a0(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=bl(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),ji(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=bl(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=bl(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=bl(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new sB(o.value.snapshot))}),t.children.length&&this.forwardEvent(new rB(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(a0(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),a0(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=rd(r.snapshot),l=a?.get(No)??null;s.attachRef=null,s.route=r,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class IM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class lf{constructor(t,e){this.component=t,this.route=e}}function MB(n,t,e){const i=n._root;return od(i,t?t._root:null,e,[i.value])}function vl(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function Dr(n){return null!==ga(n)}(n)?t.get(n):n:i}function od(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=bl(t);return n.children.forEach(s=>{(function SB(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function TB(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Gs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Gs(n.url,t.url)||!Ur(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!l0(n,t)||!Ur(n.queryParams,t.queryParams);default:return!l0(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new IM(i)):(o.data=s.data,o._resolvedData=s._resolvedData),od(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new lf(a.outlet.component,s))}else s&&sd(t,a,r),r.canActivateChecks.push(new IM(i)),od(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),ji(o,(s,a)=>sd(s,e.getContext(a),r)),r}function sd(n,t,e){const i=bl(n),r=n.value;ji(i,(o,s)=>{sd(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new lf(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function ad(n){return"function"==typeof n}function f0(n){return n instanceof $h||"EmptyError"===n?.name}const cf=Symbol("INITIAL_VALUE");function _l(){return Hr(n=>Gb(n.map(t=>t.pipe(Ln(1),Ws(cf)))).pipe(He(t=>{for(const e of t)if(!0!==e){if(e===cf)return cf;if(!1===e||e instanceof Xo)return e}return!0}),pi(t=>t!==cf),Ln(1)))}function LM(n){return function _e(...n){return Ue(n)}(_i(t=>{if(qs(t))throw kM(0,t)}),He(t=>!0===t))}const p0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NM(n,t,e,i,r){const o=m0(n,t,e);return o.matched?function WB(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ne(r.map(s=>{const a=vl(s,n);return Ko(function FB(n){return n&&ad(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(_l(),LM()):Ne(!0)}(i=RM(t,i),t,e).pipe(He(s=>!0===s?o:{...p0})):Ne(o)}function m0(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...p0}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||D5)(e,n,t);if(!r)return{...p0};const o={};ji(r.posParams,(a,l)=>{o[l]=a.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function df(n,t,e,i){if(e.length>0&&function YB(n,t,e){return e.some(i=>uf(n,t,i)&&nr(i)!==ht)}(n,e,i)){const o=new bt(t,function qB(n,t,e,i){const r={};r[ht]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&nr(o)!==ht){const s=new bt([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[nr(o)]=s}return r}(n,t,i,new bt(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function KB(n,t,e){return e.some(i=>uf(n,t,i))}(n,e,i)){const o=new bt(n.segments,function GB(n,t,e,i,r){const o={};for(const s of i)if(uf(n,e,s)&&!r[nr(s)]){const a=new bt([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,o[nr(s)]=a}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new bt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function uf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function BM(n,t,e,i){return!!(nr(n)===i||i!==ht&&uf(t,e,n))&&("**"===n.path||m0(t,n,e).matched)}function VM(n,t,e){return 0===t.length&&!n.children[e]}const hf=!1;class ff{constructor(t){this.segmentGroup=t||null}}class zM{constructor(t){this.urlTree=t}}function ld(n){return $s(new ff(n))}function HM(n){return $s(new zM(n))}class JB{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=df(this.urlTree.root,[],[],this.config).segmentGroup,e=new bt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,ht).pipe(He(o=>this.createUrlTree(ef(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(jr(o=>{if(o instanceof zM)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof ff?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ht).pipe(He(r=>this.createUrlTree(ef(r),t.queryParams,t.fragment))).pipe(jr(r=>{throw r instanceof ff?this.noMatchError(r):r}))}noMatchError(t){return new ae(4002,hf)}createUrlTree(t,e,i){const r=Zb(t);return new Xo(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(He(o=>new bt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return ei(r).pipe(Yo(o=>{const s=i.children[o],a=FM(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(He(l=>({segment:l,outlet:o})))}),tM((o,s)=>(o[s.outlet]=s.segment,o),{}),iM())}expandSegment(t,e,i,r,o,s){return ei(i).pipe(Yo(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(jr(c=>{if(c instanceof ff)return Ne(null);throw c}))),qo(a=>!!a),jr((a,l)=>{if(f0(a))return VM(e,r,o)?Ne(new bt([],{})):ld(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return BM(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):ld(e):ld(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?HM(o):this.lineralizeSegments(i,o).pipe(Zt(s=>{const a=new bt(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=m0(e,r,o);if(!a)return ld(e);const u=this.applyRedirectCommands(l,r.redirectTo,d);return r.redirectTo.startsWith("/")?HM(u):this.lineralizeSegments(r,u).pipe(Zt(g=>this.expandSegment(t,e,i,g.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=RM(i,t),i.loadChildren?(i._loadedRoutes?Ne({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(He(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new bt(r,{})))):Ne(new bt(r,{}))):NM(e,i,r,t).pipe(Hr(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=i._injector??t,i,r).pipe(Zt(d=>{const u=d.injector??t,g=d.routes,{segmentGroup:b,slicedSegments:_}=df(e,a,l,g),w=new bt(b.segments,b.children);if(0===_.length&&w.hasChildren())return this.expandChildren(u,g,w).pipe(He(N=>new bt(a,N)));if(0===g.length&&0===_.length)return Ne(new bt(a,{}));const C=nr(i)===o;return this.expandSegment(u,w,g,_,C?ht:o,!0).pipe(He(L=>new bt(a.concat(L.segments),L.children)))})):ld(e)))}getChildConfig(t,e,i){return e.children?Ne({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ne({routes:e._loadedRoutes,injector:e._loadedInjector}):function $B(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ne(!0):Ne(r.map(s=>{const a=vl(s,n);return Ko(function AB(n){return n&&ad(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(_l(),LM())}(t,e,i).pipe(Zt(r=>r?this.configLoader.loadChildren(t,e).pipe(_i(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function ZB(n){return $s(AM(hf,3))}())):Ne({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ne(i);if(r.numberOfChildren>1||!r.children[ht])return t.redirectTo,$s(new ae(4e3,hf));r=r.children[ht]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Xo(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ji(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return ji(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new bt(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new ae(4001,hf);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class t8{}class o8{constructor(t,e,i,r,o,s,a){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const t=df(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ht).pipe(He(e=>{if(null===e)return null;const i=new rf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new mo(i,e),o=new SM(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=DM(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return ei(Object.keys(i.children)).pipe(Yo(r=>{const o=i.children[r],s=FM(e,r);return this.processSegmentGroup(t,s,o,r)}),tM((r,o)=>r&&o?(r.push(...o),r):null),function C5(n,t=!1){return Ye((e,i)=>{let r=0;e.subscribe(ot(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(r=>null!==r),qh(null),iM(),He(r=>{if(null===r)return null;const o=UM(r);return function s8(n){n.sort((t,e)=>t.value.outlet===ht?-1:e.value.outlet===ht?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return ei(e).pipe(Yo(s=>this.processSegmentAgainstRoute(s._injector??t,s,i,r,o)),qo(s=>!!s),jr(s=>{if(f0(s))return VM(i,r,o)?Ne([]):Ne(null);throw s}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!BM(e,i,r,o))return Ne(null);let s;if("**"===e.path){const a=r.length>0?oM(r).parameters:{},l=WM(i)+r.length;s=Ne({snapshot:new rf(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GM(e),nr(e),e.component??e._loadedComponent??null,e,$M(i),l,qM(e)),consumedSegments:[],remainingSegments:[]})}else s=NM(i,e,r,t).pipe(He(({matched:a,consumedSegments:l,remainingSegments:c,parameters:d})=>{if(!a)return null;const u=WM(i)+l.length;return{snapshot:new rf(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GM(e),nr(e),e.component??e._loadedComponent??null,e,$M(i),u,qM(e)),consumedSegments:l,remainingSegments:c}}));return s.pipe(Hr(a=>{if(null===a)return Ne(null);const{snapshot:l,consumedSegments:c,remainingSegments:d}=a;t=e._injector??t;const u=e._loadedInjector??t,g=function a8(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:b,slicedSegments:_}=df(i,c,d,g.filter(C=>void 0===C.redirectTo));if(0===_.length&&b.hasChildren())return this.processChildren(u,g,b).pipe(He(C=>null===C?null:[new mo(l,C)]));if(0===g.length&&0===_.length)return Ne([new mo(l,[])]);const w=nr(e)===o;return this.processSegment(u,g,b,_,w?ht:o).pipe(He(C=>null===C?null:[new mo(l,C)]))}))}}function l8(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function UM(n){const t=[],e=new Set;for(const i of n){if(!l8(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=UM(i.children);t.push(new mo(i.value,r))}return t.filter(i=>!e.has(i))}function $M(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function WM(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function GM(n){return n.data||{}}function qM(n){return n.resolve||{}}function YM(n){return"string"==typeof n.title||null===n.title}function g0(n){return Hr(t=>{const e=n(t);return e?ei(e).pipe(He(()=>t)):Ne(t)})}const yl=new be("ROUTES");let b0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ze(LC)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ne(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ko(e.loadComponent()).pipe(He(XM),_i(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Yc(()=>{this.componentLoaders.delete(e)})),r=new JE(i,()=>new re).pipe(qb());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ne({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(He(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,d=!1;Array.isArray(a)?c=a:(l=a.create(e).injector,c=rM(l.get(yl,[],Ve.Self|Ve.Optional)));return{routes:c.map(h0),injector:l}}),Yc(()=>{this.childrenLoaders.delete(i)})),s=new JE(o,()=>new re).pipe(qb());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(e){return Ko(e()).pipe(He(XM),Zt(i=>i instanceof Kw||Array.isArray(i)?Ne(i):ei(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XM(n){return function g8(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let mf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new re,this.configLoader=Ze(b0),this.environmentInjector=Ze(Pr),this.urlSerializer=Ze(Zc),this.rootContexts=Ze(nd),this.navigationId=0,this.afterPreactivation=()=>Ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new iB(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new tB(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Fi({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:td,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pi(i=>0!==i.id),He(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Hr(i=>{let r=!1,o=!1;return Ne(i).pipe(_i(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hr(s=>{const a=e.browserUrlTree.toString(),l=!e.navigated||s.extractedUrl.toString()!==a||a!==e.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const d="";return this.events.next(new nf(s.id,e.serializeUrl(i.rawUrl),d,0)),e.rawUrlTree=s.rawUrl,s.resolve(null),Gi}if(e.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ZM(s.source)&&(e.browserUrlTree=s.extractedUrl),Ne(s).pipe(Hr(d=>{const u=this.transitions?.getValue();return this.events.next(new t0(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),u!==this.transitions?.getValue()?Gi:Promise.resolve(d)}),function e8(n,t,e,i){return Hr(r=>function QB(n,t,e,i,r){return new JB(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(He(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),_i(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function d8(n,t,e,i,r){return Zt(o=>function r8(n,t,e,i,r,o,s="emptyOnly"){return new o8(n,t,e,i,r,s,o).recognize().pipe(Hr(a=>null===a?function n8(n){return new Ce(t=>t.error(n))}(new t8):Ne(a)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe(He(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),_i(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!d.extras.skipLocationChange){const g=e.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);e.setBrowserUrl(g,d)}e.browserUrlTree=d.urlAfterRedirects}const u=new X5(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}));if(l&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:d,extractedUrl:u,source:g,restoredState:b,extras:_}=s,w=new t0(d,this.urlSerializer.serialize(u),g,b);this.events.next(w);const C=MM(u,this.rootComponentType).snapshot;return Ne(i={...s,targetSnapshot:C,urlAfterRedirects:u,extras:{..._,skipLocationChange:!1,replaceUrl:!1}})}{const d="";return this.events.next(new nf(s.id,e.serializeUrl(i.extractedUrl),d,1)),e.rawUrlTree=s.rawUrl,s.resolve(null),Gi}}),_i(s=>{const a=new Z5(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),He(s=>i={...s,guards:MB(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function LB(n,t){return Zt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Ne({...e,guardsResult:!0}):function NB(n,t,e,i){return ei(n).pipe(Zt(r=>function UB(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Ne(o.map(a=>{const l=rd(t)??r,c=vl(a,l);return Ko(function RB(n){return n&&ad(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(qo())})).pipe(_l()):Ne(!0)}(r.component,r.route,e,t,i)),qo(r=>!0!==r,!0))}(s,i,r,n).pipe(Zt(a=>a&&function kB(n){return"boolean"==typeof n}(a)?function BB(n,t,e,i){return ei(t).pipe(Yo(r=>Wh(function zB(n,t){return null!==n&&t&&t(new nB(n)),Ne(!0)}(r.route.parent,i),function VB(n,t){return null!==n&&t&&t(new oB(n)),Ne(!0)}(r.route,i),function jB(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function DB(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Gh(()=>Ne(s.guards.map(l=>{const c=rd(s.node)??e,d=vl(l,c);return Ko(function PB(n){return n&&ad(n.canActivateChild)}(d)?d.canActivateChild(i,n):c.runInContext(()=>d(i,n))).pipe(qo())})).pipe(_l())));return Ne(o).pipe(_l())}(n,r.path,e),function HB(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ne(!0);const r=i.map(o=>Gh(()=>{const s=rd(t)??e,a=vl(o,s);return Ko(function OB(n){return n&&ad(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(qo())}));return Ne(r).pipe(_l())}(n,r.route,e))),qo(r=>!0!==r,!0))}(i,o,n,t):Ne(a)),He(a=>({...e,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),_i(s=>{if(i.guardsResult=s.guardsResult,qs(s.guardsResult))throw kM(0,s.guardsResult);const a=new Q5(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),pi(s=>!!s.guardsResult||(e.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),g0(s=>{if(s.guards.canActivateChecks.length)return Ne(s).pipe(_i(a=>{const l=new J5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Hr(a=>{let l=!1;return Ne(a).pipe(function u8(n,t){return Zt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ne(e);let o=0;return ei(r).pipe(Yo(s=>function h8(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!YM(r)&&(o[Kc]=r.title),function f8(n,t,e,i){const r=function p8(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ne({});const o={};return ei(r).pipe(Zt(s=>function m8(n,t,e,i){const r=rd(t)??i,o=vl(n,r);return Ko(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(qo(),_i(a=>{o[s]=a}))),Yb(1),function E5(n){return He(()=>n)}(o),jr(s=>f0(s)?Gi:$s(s)))}(o,n,t,i).pipe(He(s=>(n._resolvedData=s,n.data=DM(n,e).resolve,r&&YM(r)&&(n.data[Kc]=r.title),null)))}(s.route,i,n,t)),_i(()=>o++),Yb(1),Zt(s=>o===r.length?Ne(e):Gi))})}(e.paramsInheritanceStrategy,this.environmentInjector),_i({next:()=>l=!0,complete:()=>{l||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),_i(a=>{const l=new eB(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),g0(s=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(_i(d=>{l.component=d}),He(()=>{})));for(const d of l.children)c.push(...a(d));return c};return Gb(a(s.targetSnapshot.root)).pipe(qh(),Ln(1))}),g0(()=>this.afterPreactivation()),He(s=>{const a=function pB(n,t,e){const i=id(n,t._root,e?e._root:void 0);return new EM(i,t)}(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return i={...s,targetRouterState:a}}),_i(s=>{e.currentUrlTree=s.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),e.routerState=s.targetRouterState,"deferred"===e.urlUpdateStrategy&&(s.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,s),e.browserUrlTree=s.urlAfterRedirects)}),((n,t,e)=>He(i=>(new EB(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s)),Ln(1),_i({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Ys(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Yc(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),jr(s=>{if(o=!0,PM(s)){OM(s)||(e.navigated=!0,e.restoreHistory(i,!0));const a=new tf(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),OM(s)){const l=e.urlHandlingStrategy.merge(s.url,e.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||ZM(i.source)};e.scheduleNavigation(l,td,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const a=new n0(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(e.errorHandler(s))}catch(l){i.reject(l)}}return Gi}))}))}cancelNavigationTransition(e,i,r){const o=new tf(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZM(n){return n!==td}let QM=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ht);return i}getResolvedTitleForRoute(e){return e.data[Kc]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:function(){return Ze(b8)},providedIn:"root"}),n})(),b8=(()=>{class n extends QM{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(G(mb))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:function(){return Ze(y8)},providedIn:"root"}),n})();class _8{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let y8=(()=>{class n extends _8{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ri(n)))(i||n)}}(),n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gf=new be("",{providedIn:"root",factory:()=>({})});let w8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:function(){return Ze(C8)},providedIn:"root"}),n})(),C8=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E8(n){throw n}function M8(n,t,e){return t.parse("/")}const D8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ze(oI),this.isNgZoneEnabled=!1,this.options=Ze(gf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||E8,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||M8,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ze(w8),this.routeReuseStrategy=Ze(v8),this.urlCreationStrategy=Ze(uB),this.titleStrategy=Ze(QM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=rM(Ze(yl,{optional:!0})??[]),this.navigationTransitions=Ze(mf),this.urlSerializer=Ze(Zc),this.location=Ze(Lc),this.isNgZoneEnabled=Ze(ft)instanceof ft&&ft.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=MM(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),td,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(h0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=qs(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,td,null,i)}navigate(e,i={skipLocationChange:!1}){return function T8(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new ae(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...D8}:!1===i?{...S8}:i,qs(e))return aM(this.currentUrlTree,e,r);const o=this.parseUrl(e);return aM(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c,d;return s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,g)=>{a=u,l=g}),d="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:d,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bf=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new re;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Ys&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=dl(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=dl(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=dl(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function Dy(n,t,e){return function pA(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?My:Ey}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(O(Jt),O(ir),ac("tabindex"),O(io),O(It),O(zs))},n.\u0275dir=Be({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&ee("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&Di("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[je]}),n})(),JM=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xt,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Ys&&this.update()})}ngAfterContentInit(){Ne(this.links.changes,Ne(null)).pipe(Kr()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ei(e).pipe(Kr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function k8(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}return n.\u0275fac=function(e){return new(e||n)(O(Jt),O(It),O(io),O(Uo),O(bf,8))},n.\u0275dir=Be({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&eh(r,bf,5),2&e){let o;ln(o=cn())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[je]}),n})();class eD{}let A8=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(pi(e=>e instanceof Ys),Yo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Qu(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ei(r).pipe(Kr())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ne(null);const o=r.pipe(Zt(s=>null===s?Ne(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?ei([o,this.loader.loadComponent(i)]).pipe(Kr()):o})}}return n.\u0275fac=function(e){return new(e||n)(G(Jt),G(LC),G(Pr),G(eD),G(b0))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _0=new be("");let tD=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof t0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ys&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof wM&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wM(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){Im()},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();var Nn=(()=>((Nn=Nn||{})[Nn.COMPLETE=0]="COMPLETE",Nn[Nn.FAILED=1]="FAILED",Nn[Nn.REDIRECTING=2]="REDIRECTING",Nn))();const xl=!1;function Zo(n,t){return{\u0275kind:n,\u0275providers:t}}const y0=new be("",{providedIn:"root",factory:()=>!1});function nD(){const n=Ze(Mi);return t=>{const e=n.get(jo);if(t!==e.components[0])return;const i=n.get(Jt),r=n.get(rD);1===n.get(x0)&&i.initialNavigation(),n.get(oD,null,Ve.Optional)?.setUpPreloading(),n.get(_0,null,Ve.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const rD=new be(xl?"bootstrap done indicator":"",{factory:()=>new re}),x0=new be(xl?"initial navigation":"",{providedIn:"root",factory:()=>1});function I8(){let n=[];return n=xl?[{provide:Ou,multi:!0,useFactory:()=>{const t=Ze(Jt);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function aB(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Zo(1,n)}const oD=new be(xl?"router preloader":"");function L8(n){return Zo(0,[{provide:oD,useExisting:A8},{provide:eD,useExisting:n}])}const cd=!1,sD=new be(cd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),N8=[Lc,{provide:Zc,useClass:Kb},Jt,nd,{provide:ir,useFactory:function iD(n){return n.routerState.root},deps:[Jt]},b0,cd?{provide:y0,useValue:!0}:[]];function B8(){return new $C("Router",Jt)}let aD=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[N8,cd&&i?.enableTracing?I8().\u0275providers:[],{provide:yl,multi:!0,useValue:e},{provide:sD,useFactory:j8,deps:[[Jt,new eo,new Va]]},{provide:gf,useValue:i||{}},i?.useHash?{provide:zs,useClass:GI}:{provide:zs,useClass:p1},{provide:_0,useFactory:()=>{const n=Ze(sL),t=Ze(ft),e=Ze(gf),i=Ze(mf),r=Ze(Zc);return e.scrollOffset&&n.setOffset(e.scrollOffset),new tD(r,i,n,t,e)}},i?.preloadingStrategy?L8(i.preloadingStrategy).\u0275providers:[],{provide:$C,multi:!0,useFactory:B8},i?.initialNavigation?U8(i):[],[{provide:lD,useFactory:nD},{provide:UC,multi:!0,useExisting:lD}]]}}static forChild(e){return{ngModule:n,providers:[{provide:yl,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(G(sD,8))},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[d0]}),n})();function j8(n){if(cd&&n)throw new ae(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function U8(n){return["disabled"===n.initialNavigation?Zo(3,[{provide:nh,multi:!0,useFactory:()=>{const t=Ze(Jt);return()=>{t.setUpLocationChangeListener()}}},{provide:x0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Zo(2,[{provide:x0,useValue:0},{provide:nh,multi:!0,deps:[Mi],useFactory:t=>{const e=t.get($I,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Jt),o=t.get(rD);(function O8(n,t){n.events.pipe(pi(e=>e instanceof Ys||e instanceof tf||e instanceof n0||e instanceof nf),He(e=>e instanceof Ys||e instanceof nf?Nn.COMPLETE:e instanceof tf&&(0===e.code||1===e.code)?Nn.REDIRECTING:Nn.FAILED),pi(e=>e!==Nn.REDIRECTING),Ln(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(mf).afterPreactivation=()=>(i(!0),o.closed?Ne(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const lD=new be(cd?"Router Initializer":"");let cD=(()=>{const t=class{constructor(){this.loadingSubject=new Fi(!1),this.loading$=this.loadingSubject.asObservable()}show(){this.loadingSubject.next(!0)}hide(){this.loadingSubject.next(!1)}};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function W8(n,t){1&n&&(f(0,"div",1)(1,"div",2),I(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),p()())}let G8=(()=>{const t=class{constructor(i){this.loaderService=i,this.isLoading=this.loaderService.loading$}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(cD))},t.\u0275cmp=Qe({type:t,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"loadingspinner"],["id","square1"],["id","square2"],["id","square3"],["id","square4"],["id","square5"]],template:function(r,o){1&r&&(U(0,W8,7,0,"div",0),mr(1,"async")),2&r&&D("ngIf",Ns(1,1,o.isLoading))},dependencies:[ki,ul],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.1);display:flex;justify-content:center;align-items:center;z-index:99999}.loadingspinner[_ngcontent-%COMP%]{--square: 26px;--offset: 30px;--duration: 2.4s;--delay: .2s;--timing-function: ease-in-out;--in-duration: .4s;--in-delay: .1s;--in-timing-function: ease-out;width:calc(3 * var(--offset) + var(--square));height:calc(2 * var(--offset) + var(--square));padding:0;margin:10px auto 30px;position:relative}.loadingspinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;background:var(--primary);border:none;border-radius:2px;width:var(--square);height:var(--square);position:absolute;padding:0;margin:0;font-size:6pt;color:#000}.loadingspinner[_ngcontent-%COMP%]   #square1[_ngcontent-%COMP%]{left:calc(0 * var(--offset));top:calc(0 * var(--offset));animation:_ngcontent-%COMP%_square1 var(--duration) var(--delay) var(--timing-function) infinite,squarefadein var(--in-duration) calc(1 * var(--in-delay)) var(--in-timing-function) both}.loadingspinner[_ngcontent-%COMP%]   #square2[_ngcontent-%COMP%]{left:calc(0 * var(--offset));top:calc(1 * var(--offset));animation:_ngcontent-%COMP%_square2 var(--duration) var(--delay) var(--timing-function) infinite,squarefadein var(--in-duration) calc(1 * var(--in-delay)) var(--in-timing-function) both}.loadingspinner[_ngcontent-%COMP%]   #square3[_ngcontent-%COMP%]{left:calc(1 * var(--offset));top:calc(1 * var(--offset));animation:_ngcontent-%COMP%_square3 var(--duration) var(--delay) var(--timing-function) infinite,squarefadein var(--in-duration) calc(2 * var(--in-delay)) var(--in-timing-function) both}.loadingspinner[_ngcontent-%COMP%]   #square4[_ngcontent-%COMP%]{left:calc(2 * var(--offset));top:calc(1 * var(--offset));animation:_ngcontent-%COMP%_square4 var(--duration) var(--delay) var(--timing-function) infinite,squarefadein var(--in-duration) calc(3 * var(--in-delay)) var(--in-timing-function) both}.loadingspinner[_ngcontent-%COMP%]   #square5[_ngcontent-%COMP%]{left:calc(3 * var(--offset));top:calc(1 * var(--offset));animation:_ngcontent-%COMP%_square5 var(--duration) var(--delay) var(--timing-function) infinite,squarefadein var(--in-duration) calc(4 * var(--in-delay)) var(--in-timing-function) both}@keyframes _ngcontent-%COMP%_square1{0%{left:calc(0 * var(--offset));top:calc(0 * var(--offset))}8.333%{left:calc(0 * var(--offset));top:calc(1 * var(--offset))}to{left:calc(0 * var(--offset));top:calc(1 * var(--offset))}}@keyframes _ngcontent-%COMP%_square2{0%{left:calc(0 * var(--offset));top:calc(1 * var(--offset))}8.333%{left:calc(0 * var(--offset));top:calc(2 * var(--offset))}16.67%{left:calc(1 * var(--offset));top:calc(2 * var(--offset))}25.00%{left:calc(1 * var(--offset));top:calc(1 * var(--offset))}83.33%{left:calc(1 * var(--offset));top:calc(1 * var(--offset))}91.67%{left:calc(1 * var(--offset));top:calc(0 * var(--offset))}to{left:calc(0 * var(--offset));top:calc(0 * var(--offset))}}@keyframes _ngcontent-%COMP%_square3{0%,to{left:calc(1 * var(--offset));top:calc(1 * var(--offset))}16.67%{left:calc(1 * var(--offset));top:calc(1 * var(--offset))}25.00%{left:calc(1 * var(--offset));top:calc(0 * var(--offset))}33.33%{left:calc(2 * var(--offset));top:calc(0 * var(--offset))}41.67%{left:calc(2 * var(--offset));top:calc(1 * var(--offset))}66.67%{left:calc(2 * var(--offset));top:calc(1 * var(--offset))}75.00%{left:calc(2 * var(--offset));top:calc(2 * var(--offset))}83.33%{left:calc(1 * var(--offset));top:calc(2 * var(--offset))}91.67%{left:calc(1 * var(--offset));top:calc(1 * var(--offset))}}@keyframes _ngcontent-%COMP%_square4{0%{left:calc(2 * var(--offset));top:calc(1 * var(--offset))}33.33%{left:calc(2 * var(--offset));top:calc(1 * var(--offset))}41.67%{left:calc(2 * var(--offset));top:calc(2 * var(--offset))}50.00%{left:calc(3 * var(--offset));top:calc(2 * var(--offset))}58.33%{left:calc(3 * var(--offset));top:calc(1 * var(--offset))}to{left:calc(3 * var(--offset));top:calc(1 * var(--offset))}}@keyframes _ngcontent-%COMP%_square5{0%{left:calc(3 * var(--offset));top:calc(1 * var(--offset))}50.00%{left:calc(3 * var(--offset));top:calc(1 * var(--offset))}58.33%{left:calc(3 * var(--offset));top:calc(0 * var(--offset))}66.67%{left:calc(2 * var(--offset));top:calc(0 * var(--offset))}75.00%{left:calc(2 * var(--offset));top:calc(1 * var(--offset))}to{left:calc(2 * var(--offset));top:calc(1 * var(--offset))}}@keyframes _ngcontent-%COMP%_squarefadein{0%{transform:scale(.75);opacity:0}to{transform:scale(1);opacity:1}}"]}),n})(),q8=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,o){1&r&&I(0,"router-outlet")(1,"app-loader")},dependencies:[af,G8]}),n})(),Ks=(()=>{const t=class{get isCollapsedValue(){return this.isCollapsedSubject.value}constructor(i){if(this.titleService=i,this.isCollapsedSubject=new Fi(!0),this.isDarkModeSubject=new Fi(!1),this.isMobileMenuOpenSubject=new Fi(!1),this.currentPageTitleSubject=new Fi("Dashboard"),this.currentThemeSubject=new Fi("indigo"),this.isCollapsed$=this.isCollapsedSubject.asObservable(),this.isDarkMode$=this.isDarkModeSubject.asObservable(),this.isMobileMenuOpen$=this.isMobileMenuOpenSubject.asObservable(),this.currentPageTitle$=this.currentPageTitleSubject.asObservable(),this.currentTheme$=this.currentThemeSubject.asObservable(),this.themeMap={original:{light:"theme-light-original",dark:"theme-dark-original"},forest:{light:"theme-light-forest",dark:"theme-dark-forest"},teal:{light:"theme-light-teal",dark:"theme-dark-teal"},mono:{light:"theme-light-mono",dark:"theme-dark-mono"},earthy:{light:"theme-light-earthy",dark:"theme-dark-earthy"},indigo:{light:"theme-light-indigo",dark:"theme-dark-indigo"}},typeof window<"u"){const r=localStorage.getItem("themeId")||"indigo",o=localStorage.getItem("themeMode");this.currentThemeSubject.next(r),"dark-mode"===o&&this.isDarkModeSubject.next(!0)}this.currentTheme$.subscribe(()=>this.applyThemeClasses()),this.isDarkModeSubject.subscribe(()=>this.applyThemeClasses())}toggleSidebar(){window.innerWidth<=768?this.isMobileMenuOpenSubject.next(!this.isMobileMenuOpenSubject.value):this.isCollapsedSubject.next(!this.isCollapsedSubject.value)}closeMobileMenu(){this.isMobileMenuOpenSubject.value&&this.isMobileMenuOpenSubject.next(!1)}toggleTheme(){const i=!this.isDarkModeSubject.value;this.isDarkModeSubject.next(i),typeof window<"u"&&localStorage.setItem("themeMode",i?"dark-mode":"light-mode")}setTheme(i){this.themeMap[i]&&(this.currentThemeSubject.next(i),typeof window<"u"&&localStorage.setItem("themeId",i))}applyThemeClasses(){const i=this.currentThemeSubject.value,r=this.isDarkModeSubject.value;Object.keys(this.themeMap).forEach(o=>{document.body.classList.remove(this.themeMap[o].light),document.body.classList.remove(this.themeMap[o].dark)}),document.body.classList.toggle("dark-mode",r),"indigo"!==i&&document.body.classList.add(r?this.themeMap[i].dark:this.themeMap[i].light)}setCurrentPageTitle(i){this.currentPageTitleSubject.next(i),this.titleService.setTitle(`R-SPACE | ${i}`)}initResponsiveTabs(){if(typeof window>"u")return;const i=document.getElementById("tab-list"),r=document.getElementById("tab-more"),o=document.getElementById("more-dropdown");if(!i||!r||!o)return;let s=Array.from(i.children),a=sessionStorage.getItem("activeProjectTab");a||(a="tasks",sessionStorage.setItem("activeProjectTab",a)),s.forEach(_=>_.classList.remove("active"));const l=s.find(_=>_.getAttribute("data-id")===a);l&&l.classList.add("active"),r.addEventListener("click",_=>{_.stopPropagation(),o.classList.toggle("show")}),document.addEventListener("click",()=>o.classList.remove("show"));const c=_=>{const w=_.target.closest(".tab-item")||_.target.closest(".dropdown-item");if(!w)return;const C=w.getAttribute("data-id");sessionStorage.setItem("activeProjectTab",C),s.forEach(L=>L.classList.remove("active"));const M=s.find(L=>L.getAttribute("data-id")===C);M&&M.classList.add("active"),b()};i.addEventListener("click",c),o.addEventListener("click",c);const d=document.querySelector(".tabs-wrapper");function g(){const _=d.clientWidth;o.innerHTML="",s.forEach(N=>{N.className="tab-item "+(N.classList.contains("active")?"active":""),i.appendChild(N)}),r.classList.remove("visible");let C=0,M=!1;const L=Array.from(i.children);for(let N=0;N<L.length;N++){const ce=L[N],De=ce.offsetWidth+20;C+De>(M?_-50:_)?(M=!0,r.classList.add("visible"),ce.className="dropdown-item "+(ce.classList.contains("active")?"active":""),o.appendChild(ce)):C+=De}b()}function b(){o.querySelector(".active")?r.classList.add("active-inside"):r.classList.remove("active-inside")}d&&(new ResizeObserver(()=>g()).observe(d),g())}};let n=t;return t.\u0275fac=function(r){return new(r||t)(G(mb))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();var w0=K(206);let Xi=(()=>{const t=class{constructor(){this.ACCESS_TOKEN="access_token",this.USER="user_data",this.USERNAME="username",this.REMEMBER_USERNAME="remember_username",this.REMEMBER_PASSWORD="remember_password",this.REMEMBER_ME="remember_me",this.SECRET_KEY="YOUR_32_CHAR_SECRET_KEY_AES_256"}setToken(i){sessionStorage.setItem(this.ACCESS_TOKEN,i)}getToken(){return sessionStorage.getItem(this.ACCESS_TOKEN)}clearToken(){sessionStorage.removeItem(this.ACCESS_TOKEN)}hasToken(){return null!==this.getToken()}setUser(i){sessionStorage.setItem(this.USER,JSON.stringify(i))}getUser(){const i=sessionStorage.getItem(this.USER);return i?JSON.parse(i):null}getEmpId(){const i=sessionStorage.getItem(this.USER);if(!i)return null;try{return JSON.parse(i)?.empid??null}catch{return console.error("Invalid USER JSON in sessionStorage"),null}}setUsername(i){sessionStorage.setItem(this.USERNAME,i)}getUsername(){return sessionStorage.getItem(this.USERNAME)}updateUser(i){const r=this.getUser();if(!r)return;const o={...r,...i};this.setUser(o)}hasUser(){return null!==this.getUser()}getUserId(){const i=this.getUser();return i&&(i.id||i.userId)||null}clearUser(){sessionStorage.removeItem(this.USER)}isLoggedIn(){return this.hasToken()&&this.hasUser()}rememberMe(i){localStorage.setItem(this.REMEMBER_ME,i?"true":"false")}isRememberMe(){return"true"===localStorage.getItem(this.REMEMBER_ME)}setRememberUsername(i){localStorage.setItem(this.REMEMBER_USERNAME,i)}getRememberUsername(){return localStorage.getItem(this.REMEMBER_USERNAME)}setRememberPassword(i){const r=w0.AES.encrypt(i,this.SECRET_KEY).toString();localStorage.setItem(this.REMEMBER_PASSWORD,r)}getRememberPassword(){const i=localStorage.getItem(this.REMEMBER_PASSWORD);if(!i)return null;try{return w0.AES.decrypt(i,this.SECRET_KEY).toString(w0.enc.Utf8)}catch{return null}}clearRememberMe(){localStorage.removeItem(this.REMEMBER_USERNAME),localStorage.removeItem(this.REMEMBER_PASSWORD),localStorage.removeItem(this.REMEMBER_ME)}get roles(){const r=this.getUser()?.roles||[];return{isAdmin:r.includes("ROLE_ADMIN"),isManager:r.includes("ROLE_MANAGER"),isEmployee:r.includes("ROLE_EMPLOYEE")}}logout(){this.clearAll()}clearAll(){this.clearToken(),this.clearUser()}};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Y8(n,t){1&n&&(f(0,"span"),v(1,"Admin"),p())}function K8(n,t){1&n&&(f(0,"span"),v(1,"Manager"),p())}function X8(n,t){1&n&&(f(0,"span"),v(1,"Employee"),p())}let Z8=(()=>{const t=class{constructor(i,r,o){this.layoutService=i,this.router=r,this.storageService=o,this.openMenuId=null,this.isMobileOpen$=this.layoutService.isMobileMenuOpen$}ngOnInit(){}toggleSubmenu(i){this.layoutService.isCollapsedValue&&window.innerWidth>768&&this.layoutService.toggleSidebar(),this.openMenuId=this.openMenuId===i?null:i}closeSubmenus(i){const r=i.currentTarget;let o=null;if("DIV"===r.tagName&&(r.classList.contains("nav-item")||r.classList.contains("submenu-item"))){const s=r.querySelector("span");o=s?s.textContent:r.textContent}o&&this.layoutService.setCurrentPageTitle(o.trim()),this.layoutService.closeMobileMenu(),r.classList.contains("nav-item")&&!r.querySelector(".arrow")&&(this.openMenuId=null)}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(Ks),O(Jt),O(Xi))},t.\u0275cmp=Qe({type:t,selectors:[["app-sidebar"]],decls:33,vars:8,consts:[[1,"sidebar"],[1,"logo"],[1,"ri-command-fill"],[1,"nav"],["routerLink","/main/dashboard","routerLinkActive","active",1,"nav-item",3,"click"],[1,"ri-layout-grid-line"],["routerLink","/main/projects","routerLinkActive","active",1,"nav-item",3,"click"],[1,"ri-folder-shield-2-line"],["routerLink","/main/profile","routerLinkActive","active",1,"nav-item",3,"click"],[1,"ri-folder-user-line"],["routerLink","/main/settings","routerLinkActive","active",1,"nav-item",3,"click"],[1,"ri-t-shirt-2-line"],[1,"user-mini"],[1,"avatar"],[1,"user-details"],[1,"user-name"],[1,"text-info"],[4,"ngIf"]],template:function(r,o){1&r&&(f(0,"aside",0),mr(1,"async"),f(2,"div",1),I(3,"i",2),f(4,"span"),v(5,"RSPACE"),p()(),f(6,"nav",3)(7,"div",4),ee("click",function(a){return o.closeSubmenus(a)}),I(8,"i",5),f(9,"span"),v(10,"Dashboard"),p()(),f(11,"div",6),ee("click",function(a){return o.closeSubmenus(a)}),I(12,"i",7),f(13,"span"),v(14,"Projects"),p()(),f(15,"div",8),ee("click",function(a){return o.closeSubmenus(a)}),I(16,"i",9),f(17,"span"),v(18,"User Profile"),p()(),f(19,"div",10),ee("click",function(a){return o.closeSubmenus(a)}),I(20,"i",11),f(21,"span"),v(22,"Themes"),p()()(),f(23,"div",12)(24,"div",13),v(25,"RS"),p(),f(26,"div",14)(27,"div",15),v(28),p(),f(29,"div",16),U(30,Y8,2,0,"span",17),U(31,K8,2,0,"span",17),U(32,X8,2,0,"span",17),p()()()()),2&r&&(Fe("mobile-open",Ns(1,6,o.isMobileOpen$)),x(28),Ae(o.storageService.getUsername()),x(2),D("ngIf",o.storageService.roles.isAdmin),x(1),D("ngIf",o.storageService.roles.isManager),x(1),D("ngIf",o.storageService.roles.isEmployee))},dependencies:[ki,bf,JM,ul],styles:['@charset "UTF-8";.sidebar[_ngcontent-%COMP%]{width:240px;background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;flex-shrink:0;z-index:50;transition:width .3s ease,box-shadow .3s ease,transform .3s ease;box-shadow:var(--shadow-md);height:100vh}.logo[_ngcontent-%COMP%]{height:70px;display:flex;align-items:center;padding:0 24px;font-weight:800;font-size:20px;border-bottom:1px solid var(--border);color:var(--text-main);overflow:hidden}.logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-right:12px;color:var(--primary)}.nav[_ngcontent-%COMP%]{padding:20px 10px;flex:1;overflow-y:auto}.nav[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}.nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;background-color:#f5f5f5}.nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--primary)}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 15px;color:var(--text-muted);font-size:15px;font-weight:500;border-radius:10px;cursor:pointer;transition:.2s;margin-bottom:6px;white-space:nowrap;-webkit-user-select:none;user-select:none;position:relative}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;min-width:24px}.nav-item[_ngcontent-%COMP%]:hover{background:var(--primary-bg);color:var(--primary)}.nav-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--primary)}.nav-item.active[_ngcontent-%COMP%]{background:var(--primary-bg);color:var(--primary);font-weight:600;border:1px solid var(--primary);box-shadow:0 0 0 1px var(--primary)}.nav-item.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary)}.arrow[_ngcontent-%COMP%]{margin-left:auto;transition:transform .3s ease;font-size:16px!important;margin-right:0!important}.nav-item.open[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.submenu-wrapper[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .3s ease-in-out}.submenu-wrapper.open[_ngcontent-%COMP%]{max-height:500px}.submenu-item[_ngcontent-%COMP%]{padding:10px 15px 10px 50px;font-size:13px;color:var(--text-muted);border-radius:8px;cursor:pointer;display:block;margin-bottom:2px}.submenu-item[_ngcontent-%COMP%]:hover{color:var(--primary);background:var(--bg-body)}.submenu-item.active[_ngcontent-%COMP%]{color:var(--primary);font-weight:600}.user-mini[_ngcontent-%COMP%]{padding:16px;border-top:1px solid var(--border);display:flex;align-items:center;gap:12px;transition:.3s;overflow:hidden}.user-mini[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:var(--accent);color:var(--surface);display:flex;align-items:center;justify-content:center;font-weight:600;flex-shrink:0;box-shadow:0 2px 4px #0003}.user-mini[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{color:var(--text-muted)}.user-mini[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:var(--text-muted);font-size:14px;font-weight:500}.user-mini[_ngcontent-%COMP%]   .text-info[_ngcontent-%COMP%]{font-size:small}body.collapsed[_nghost-%COMP%]   .logo[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{justify-content:center;padding:0}body.collapsed[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}body.collapsed[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:28px}body.collapsed[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;text-align:center;padding:12px 5px;gap:4px}body.collapsed[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0;font-size:22px;margin-bottom:2px}body.collapsed[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:600;display:block!important}body.collapsed[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:none!important}body.collapsed[_nghost-%COMP%]   .submenu-wrapper[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .submenu-wrapper[_ngcontent-%COMP%]{display:none!important}body.collapsed[_nghost-%COMP%]   .user-mini[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .user-mini[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding:15px 5px;gap:5px}body.collapsed[_nghost-%COMP%]   .user-mini[_ngcontent-%COMP%]   .text-info[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .user-mini[_ngcontent-%COMP%]   .text-info[_ngcontent-%COMP%]{display:none}body.collapsed[_nghost-%COMP%]   .user-mini[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .user-mini[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:10px;display:block!important;white-space:wrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{position:fixed;transform:translate(-100%);height:100%;width:250px!important;box-shadow:var(--shadow-md)}.sidebar.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}body.collapsed[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-start;text-align:left;gap:12px}body.collapsed[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], body.collapsed   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}}']}),n})();var Q8=K(226),Xs=K.n(Q8);class vf{static CURRENT_VERSION(){return"v1.0.1"}static RELEASE_DATE(){return"Saturday, 20 December 2025"}static AUTH_URL(){return"http://192.168.70.55:8282/dsr/api/auth"}static BASE_URL(){return"http://192.168.70.55:8282/dsr/api/v1"}}class _f{}class C0{}class go{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof go?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new go;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof go?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class J8{encodeKey(t){return dD(t)}encodeValue(t){return dD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const t6=/%(\d[a-f0-9])/gi,i6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dD(n){return encodeURIComponent(n).replace(t6,(t,e)=>i6[e]??t)}function yf(n){return`${n}`}class Qo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new J8,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function e6(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(yf):[yf(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Qo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(yf(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(yf(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class n6{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function uD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function hD(n){return typeof Blob<"u"&&n instanceof Blob}function fD(n){return typeof FormData<"u"&&n instanceof FormData}class dd{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function r6(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new go),this.context||(this.context=new n6),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Qo,this.urlWithParams=e}serializeBody(){return null===this.body?null:uD(this.body)||hD(this.body)||fD(this.body)||function o6(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fD(this.body)?null:hD(this.body)?this.body.type||null:uD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((u,g)=>u.set(g,t.setHeaders[g]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((u,g)=>u.set(g,t.setParams[g]),c)),new dd(e,i,o,{params:c,headers:l,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var yi=(()=>((yi=yi||{})[yi.Sent=0]="Sent",yi[yi.UploadProgress=1]="UploadProgress",yi[yi.ResponseHeader=2]="ResponseHeader",yi[yi.DownloadProgress=3]="DownloadProgress",yi[yi.Response=4]="Response",yi[yi.User=5]="User",yi))();class E0{constructor(t,e=200,i="OK"){this.headers=t.headers||new go,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class M0 extends E0{constructor(t={}){super(t),this.type=yi.ResponseHeader}clone(t={}){return new M0({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class xf extends E0{constructor(t={}){super(t),this.type=yi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new xf({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class pD extends E0{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function D0(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wf=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof dd)o=e;else{let l,c;l=r.headers instanceof go?r.headers:new go(r.headers),r.params&&(c=r.params instanceof Qo?r.params:new Qo({fromObject:r.params})),o=new dd(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=Ne(o).pipe(Yo(l=>this.handler.handle(l)));if(e instanceof dd||"events"===r.observe)return s;const a=s.pipe(pi(l=>l instanceof xf));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(He(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(He(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(He(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(He(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Qo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,D0(r,i))}post(e,i,r={}){return this.request("POST",e,D0(r,i))}put(e,i,r={}){return this.request("PUT",e,D0(r,i))}}return n.\u0275fac=function(e){return new(e||n)(G(_f))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();function mD(n,t){return t(n)}function s6(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const gD=new be("HTTP_INTERCEPTORS"),ud=new be("HTTP_INTERCEPTOR_FNS");function l6(){let n=null;return(t,e)=>(null===n&&(n=(Ze(gD,{optional:!0})??[]).reduceRight(s6,mD)),n(t,e))}let bD=(()=>{class n extends _f{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(ud)));this.chain=i.reduceRight((r,o)=>function a6(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),mD)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(G(C0),G(Pr))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const h6=/^\)\]\}',?\n/;let _D=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ce(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((b,_)=>r.setRequestHeader(b,_.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&r.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();r.responseType="json"!==b?b:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const b=r.statusText||"OK",_=new go(r.getAllResponseHeaders()),w=function f6(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new M0({headers:_,status:r.status,statusText:b,url:w}),s},l=()=>{let{headers:b,status:_,statusText:w,url:C}=a(),M=null;204!==_&&(M=typeof r.response>"u"?r.responseText:r.response),0===_&&(_=M?200:0);let L=_>=200&&_<300;if("json"===e.responseType&&"string"==typeof M){const N=M;M=M.replace(h6,"");try{M=""!==M?JSON.parse(M):null}catch(ce){M=N,L&&(L=!1,M={error:ce,text:M})}}L?(i.next(new xf({body:M,headers:b,status:_,statusText:w,url:C||void 0})),i.complete()):i.error(new pD({error:M,headers:b,status:_,statusText:w,url:C||void 0}))},c=b=>{const{url:_}=a(),w=new pD({error:b,status:r.status||0,statusText:r.statusText||"Unknown Error",url:_||void 0});i.error(w)};let d=!1;const u=b=>{d||(i.next(a()),d=!0);let _={type:yi.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(_.total=b.total),"text"===e.responseType&&r.responseText&&(_.partialText=r.responseText),i.next(_)},g=b=>{let _={type:yi.UploadProgress,loaded:b.loaded};b.lengthComputable&&(_.total=b.total),i.next(_)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",u),null!==o&&r.upload&&r.upload.addEventListener("progress",g)),r.send(o),i.next({type:yi.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",u),null!==o&&r.upload&&r.upload.removeEventListener("progress",g)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(G(L1))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const S0=new be("XSRF_ENABLED"),yD=new be("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),xD=new be("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class wD{}let g6=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=E1(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(G(ct),G(oh),G(yD))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();function b6(n,t){const e=n.url.toLowerCase();if(!Ze(S0)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Ze(wD).getToken(),r=Ze(xD);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var mi=(()=>((mi=mi||{})[mi.Interceptors=0]="Interceptors",mi[mi.LegacyInterceptors=1]="LegacyInterceptors",mi[mi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",mi[mi.NoXsrfProtection=3]="NoXsrfProtection",mi[mi.JsonpSupport=4]="JsonpSupport",mi[mi.RequestsMadeViaParent=5]="RequestsMadeViaParent",mi))();function wl(n,t){return{\u0275kind:n,\u0275providers:t}}function v6(...n){const t=[wf,_D,bD,{provide:_f,useExisting:bD},{provide:C0,useExisting:_D},{provide:ud,useValue:b6,multi:!0},{provide:S0,useValue:!0},{provide:wD,useClass:g6}];for(const e of n)t.push(...e.\u0275providers);return function mA(n){return{\u0275providers:n}}(t)}const CD=new be("LEGACY_INTERCEPTOR_FN");let y6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({providers:[v6(wl(mi.LegacyInterceptors,[{provide:CD,useFactory:l6},{provide:ud,useExisting:CD,multi:!0}]))]}),n})();const x6=vf.AUTH_URL(),Dt=vf.BASE_URL();let Cn=(()=>{const t=class{constructor(i,r,o){this.http=i,this.storageService=r,this.router=o}signin(i){return this.http.post(`${x6}/signin`,i)}logout(){this.storageService.clearAll(),this.router.navigate(["/login"])}getAllShifts(){return this.http.get(`${Dt}/common/getallshifts`)}getAllDepartments(){return this.http.get(`${Dt}/department/getalldepartments`)}getDesignationByDepartment(i){return this.http.get(`${Dt}/department/designationbydepartment?department_id=${i}`)}createUser(i){return this.http.post(`${Dt}/user/create`,i)}getUsersAll(){return this.http.get(`${Dt}/user/all`)}getprojectmembersById(i){return this.http.get(`${Dt}/user/getprojectmembers?project_id=${i}`)}getEmployeelistByProjectId(i){return this.http.get(`${Dt}/user/getemployeelistbyproject?project_id=${i}`)}updateUser(i){return this.http.post(`${Dt}/user/update`,i)}deleteUser(i,r){return this.http.delete(`${Dt}/user/delete?employee_id=${i}&username=${r}`)}getManagerList(){return this.http.get(`${Dt}/user/getmanagerlist`)}getEmployeeList(){return this.http.get(`${Dt}/user/getemployeelist`)}getAllProjectsByEmployeeId(i){return this.http.get(`${Dt}/project/all?employee_id=${i}`)}createProject(i){return this.http.post(`${Dt}/project/create`,i)}updateProject(i){return this.http.post(`${Dt}/project/update`,i)}deleteProject(i,r){return this.http.delete(`${Dt}/project/delete/?username=${i}&project_id=${r}`)}getAppsTypes(){return this.http.get(`${Dt}/common/getapptypes`)}createTask(i){return this.http.post(`${Dt}/task/create`,i)}getAllTasks(){return this.http.get(`${Dt}/task/all`)}getTasksByProjectIdNdEmployeeId(i,r,o,s){return this.http.get(`${Dt}/task/tasklist?project_id=${i}&employee_id=${r}&phase_id=${o}&task_type=${s}`)}deleteTask(i,r){return this.http.delete(`${Dt}/task/delete?username=${i}&task_id=${r}`)}updateTask(i){return this.http.post(`${Dt}/task/update`,i)}swapTask(i,r,o){return this.http.get(`${Dt}/task/swaptask?phase_id=${i}&task_list=${r}&username=${o}`)}getStatusList(){return this.http.get(`${Dt}/common/getstatuslist`)}getSubtasks(i){return this.http.get(`${Dt}/subtask/getsubtasks?taskid=${i}`)}createSubtask(i){return this.http.post(`${Dt}/subtask/create`,i)}updateSubtask(i){return this.http.post(`${Dt}/subtask/update`,i)}deleteSubtask(i,r){return this.http.delete(`${Dt}/subtask/delete?username=${i}&sub_task_id=${r}`)}createDailyStatus(i){return this.http.post(`${Dt}/subtask/createdailystatus`,i)}getDsrDetailsBySubtaskId(i){return this.http.get(`${Dt}/subtask/getdsrdetails?sub_task_id=${i}`)}deleteDsr(i,r){return this.http.delete(`${Dt}/subtask/deletedsr?username=${i}&dsr_id=${r}`)}getPhaseByProjectId(i){return this.http.get(`${Dt}/phase/getphasebyproject?project_id=${i}`)}createPhase(i){return this.http.post(`${Dt}/phase/create`,i)}updatePhase(i){return this.http.post(`${Dt}/phase/update`,i)}getDashboardDetailsByEmployeeId(i,r){return this.http.get(`${Dt}/common/dashboarddetails?employee_id=${i}&project_id=${r}`)}};let n=t;return t.\u0275fac=function(r){return new(r||t)(G(wf),G(Xi),G(Jt))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),w6=(()=>{const t=class{constructor(i,r){this.layoutService=i,this.authService=r,this.isDarkMode$=this.layoutService.isDarkMode$,this.currentPageTitle$=this.layoutService.currentPageTitle$}onMenuToggle(){this.layoutService.toggleSidebar()}onThemeToggle(){this.layoutService.toggleTheme()}logOut(){Xs().fire({title:"Are you sure?",text:"Do you want to log out ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, log out!"}).then(i=>{i.isConfirmed&&this.authService.logout()})}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(Ks),O(Cn))},t.\u0275cmp=Qe({type:t,selectors:[["app-header"]],decls:11,vars:3,consts:[[1,"header"],[2,"display","flex","align-items","center"],[1,"ri-menu-fold-line","menu-btn",3,"click"],[2,"font-size","16px","font-weight","600"],[1,"search-container"],[1,"ri-search-line","search-icon"],["type","text","placeholder","Search...",1,"search-input"],[1,"header-actions",2,"padding","6px 15px","border","1px solid var(--primary)","border-radius","5px","background","var(--primary-bg)","color","var(--primary)","cursor","pointer",3,"click"]],template:function(r,o){1&r&&(f(0,"header",0)(1,"div",1)(2,"i",2),ee("click",function(){return o.onMenuToggle()}),p(),f(3,"h3",3),v(4),mr(5,"async"),p()(),f(6,"div",4),I(7,"i",5)(8,"input",6),p(),f(9,"button",7),ee("click",function(){return o.logOut()}),v(10,"Log out"),p()()),2&r&&(x(4),Ae(Ns(5,1,o.currentPageTitle$)))},dependencies:[ul],styles:[".header[_ngcontent-%COMP%]{height:70px;background:var(--surface);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 30px;z-index:60;box-shadow:var(--shadow-md)}.menu-btn[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;color:var(--text-main);margin-right:15px;transition:transform .2s}.menu-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:var(--primary)}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;font-size:20px;color:var(--text-muted);cursor:pointer;margin-left:15px;transition:color .2s,transform .2s}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--primary);transform:scale(1.1)}.search-container[_ngcontent-%COMP%]{position:relative;width:300px}.search-input[_ngcontent-%COMP%]{width:100%;padding:10px 10px 10px 40px;background:var(--bg-body);border:1px solid var(--border);border-radius:8px;outline:none;color:var(--text-main);transition:border-color .2s,box-shadow .2s}.search-input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:11px;color:var(--text-muted)}@media (max-width: 768px){.search-container[_ngcontent-%COMP%]{display:none}}"]}),n})(),C6=(()=>{const t=class{constructor(i){this.layoutService=i,this.isCollapsed$=this.layoutService.isCollapsed$,this.isMobileMenuOpen$=this.layoutService.isMobileMenuOpen$}ngOnInit(){this.layoutService.isDarkMode$.subscribe(i=>{document.body.classList.toggle("dark-mode",i)}),this.layoutService.isCollapsed$.subscribe(i=>{document.body.classList.toggle("collapsed",i)})}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(Ks))},t.\u0275cmp=Qe({type:t,selectors:[["app-main-layout"]],decls:7,vars:4,consts:[[1,"app-container"],[1,"main"],[1,"content"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"app-sidebar"),mr(2,"async"),p(),f(3,"main",1),I(4,"app-header"),f(5,"div",2),I(6,"router-outlet"),p()()()),2&r&&(x(1),Fe("mobile-open",Ns(2,2,o.isMobileMenuOpen$)))},dependencies:[af,Z8,w6,ul],styles:[".app-container[_ngcontent-%COMP%]{display:flex;height:100vh;width:100vw;overflow:hidden}.main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;position:relative}.content[_ngcontent-%COMP%]{flex:1;padding:1em;overflow-y:auto;height:100vh}.content[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}.content[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;background-color:#f5f5f5}.content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--primary)}"]}),n})();const E6={id:"valueInsideBar",afterDatasetsDraw(n){const{ctx:t}=n;n.data.datasets.forEach((e,i)=>{n.getDatasetMeta(i).data.forEach((o,s)=>{const a=e.data[s];a&&(t.save(),t.fillStyle="#ffffff",t.font="12px Arial",t.textAlign="center",t.textBaseline="middle",t.fillText(a,o.x,o.y+o.height/2),t.restore())})})}};let ED=(()=>{const t=class{constructor(){this.projectData=[]}ngOnChanges(i){i.projectData&&this.projectData?.length>0?this.updateChartByDepartments([this.projectData[0].departmen_name]):this.renderEmptyChart()}onDepartmentChange(i){const r=Array.from(i.target.selectedOptions).map(o=>o.value);0!==r.length?this.updateChartByDepartments(r):this.renderEmptyChart()}updateChartByDepartments(i){const r=this.projectData.filter(o=>i.includes(o.departmen_name));r.length?this.renderChart(r):this.renderEmptyChart()}renderChart(i){const r=i.map(l=>l.departmen_name),o=i.map(l=>l.active_project),s=i.map(l=>l.completed_project),a=i.map(l=>l.dropped_projects);this.chart&&this.chart.destroy(),this.chart=new Chart("teamReportChart",{type:"bar",data:{labels:r,datasets:[{label:"Active",data:o,backgroundColor:"#3b82f6",borderRadius:4},{label:"Completed",data:s,backgroundColor:"#14b8a6",borderRadius:4},{label:"Dropped",data:a,backgroundColor:"#ef4444",borderRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:1200,easing:"easeOutQuart"},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{display:!0,position:"bottom",align:"center"}}},plugins:[E6]})}renderEmptyChart(){this.chart&&this.chart.destroy(),this.chart=new Chart("teamReportChart",{type:"bar",data:{labels:["No Data"],datasets:[{label:"Projects",data:[0],backgroundColor:"#e5e7eb"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{y:{beginAtZero:!0}}}})}};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-project-team-report"]],inputs:{projectData:"projectData"},features:[je],decls:3,vars:0,consts:[[1,"chart-center"],[1,"chart-box",2,"max-width","100% !important"],["id","teamReportChart"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1),I(2,"canvas",2),p()())},styles:["select[_ngcontent-%COMP%]:focus-visible{outline:none}"]}),n})();let DD=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(O(io),O(It))},n.\u0275dir=Be({type:n}),n})(),Zs=(()=>{class n extends DD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ri(n)))(i||n)}}(),n.\u0275dir=Be({type:n,features:[yt]}),n})();const Wr=new be("NgValueAccessor"),M6={provide:Wr,useExisting:zt(()=>hd),multi:!0};let hd=(()=>{class n extends Zs{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ri(n)))(i||n)}}(),n.\u0275dir=Be({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&ee("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Bt([M6]),yt]}),n})();const D6={provide:Wr,useExisting:zt(()=>Bn),multi:!0},T6=new be("CompositionEventMode");let Bn=(()=>{class n extends DD{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function S6(){const n=ao()?ao().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(O(io),O(It),O(T6,8))},n.\u0275dir=Be({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&ee("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Bt([D6]),yt]}),n})();const k6=!1;function Jo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function SD(n){return null!=n&&"number"==typeof n.length}const Zi=new be("NgValidators"),es=new be("NgAsyncValidators"),A6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ie{static min(t){return function TD(n){return t=>{if(Jo(t.value)||Jo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function kD(n){return t=>{if(Jo(t.value)||Jo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function AD(n){return Jo(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function OD(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function PD(n){return Jo(n.value)||A6.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function RD(n){return t=>Jo(t.value)||!SD(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function FD(n){return t=>SD(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ID(n){if(!n)return Cf;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Jo(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return HD(t)}static composeAsync(t){return jD(t)}}function Cf(n){return null}function LD(n){return null!=n}function ND(n){const t=Cc(n)?ei(n):n;if(k6&&!Qm(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new ae(-1101,e)}return t}function BD(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function VD(n,t){return t.map(e=>e(n))}function zD(n){return n.map(t=>function O6(n){return!n.validate}(t)?t:e=>t.validate(e))}function HD(n){if(!n)return null;const t=n.filter(LD);return 0==t.length?null:function(e){return BD(VD(e,t))}}function T0(n){return null!=n?HD(zD(n)):null}function jD(n){if(!n)return null;const t=n.filter(LD);return 0==t.length?null:function(e){return function MD(...n){const t=zl(n),{args:e,keys:i}=XE(n),r=new Ce(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let u=!1;Li(e[d]).subscribe(ot(o,g=>{u||(u=!0,c--),a[d]=g},()=>l--,void 0,()=>{(!l||!u)&&(c||o.next(i?ZE(i,a):a),o.complete())}))}});return t?r.pipe(Wb(t)):r}(VD(e,t).map(ND)).pipe(He(BD))}}function k0(n){return null!=n?jD(zD(n)):null}function UD(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function $D(n){return n._rawValidators}function WD(n){return n._rawAsyncValidators}function A0(n){return n?Array.isArray(n)?n:[n]:[]}function Ef(n,t){return Array.isArray(n)?n.includes(t):n===t}function GD(n,t){const e=A0(t);return A0(n).forEach(r=>{Ef(e,r)||e.push(r)}),e}function qD(n,t){return A0(t).filter(e=>!Ef(n,e))}class YD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=T0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=k0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class un extends YD{get formDirective(){return null}get path(){return null}}class ts extends YD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class KD{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yr=(()=>{class n extends KD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(O(ts,2))},n.\u0275dir=Be({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Fe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[yt]}),n})(),bo=(()=>{class n extends KD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(O(un,10))},n.\u0275dir=Be({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Fe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[yt]}),n})();function XD(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const R0=!1,fd="VALID",Df="INVALID",Cl="PENDING",pd="DISABLED";function F0(n){return(Sf(n)?n.validators:n)||null}function I0(n,t){return(Sf(t)?t.asyncValidators:n)||null}function Sf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function ZD(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new ae(1e3,R0?function I6(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new ae(1001,R0?function L6(n,t){return`Cannot find form control ${XD(n,t)}`}(t,e):"")}function QD(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new ae(1002,R0?function N6(n,t){return`Must supply a value for form control ${XD(n,t)}`}(t,r):"")})}class Tf{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===fd}get invalid(){return this.status===Df}get pending(){return this.status==Cl}get disabled(){return this.status===pd}get enabled(){return this.status!==pd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(GD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(GD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(qD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(qD(t,this._rawAsyncValidators))}hasValidator(t){return Ef(this._rawValidators,t)}hasAsyncValidator(t){return Ef(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Cl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=pd,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fd,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fd||this.status===Cl)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pd:fd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Cl,this._hasOwnPendingAsyncValidator=!0;const e=ND(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new xt,this.statusChanges=new xt}_calculateStatus(){return this._allControlsDisabled()?pd:this.errors?Df:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cl)?Cl:this._anyControlsHaveStatus(Df)?Df:fd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Sf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function B6(n){return Array.isArray(n)?T0(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function V6(n){return Array.isArray(n)?k0(n):n||null}(this._rawAsyncValidators)}}class md extends Tf{constructor(t,e,i){super(F0(e),I0(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){QD(this,!0,t),Object.keys(t).forEach(i=>{ZD(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class JD extends md{}const Qs=new be("CallSetDisabledState",{providedIn:"root",factory:()=>gd}),gd="always";function kf(n,t){return[...t.path,n]}function bd(n,t,e=gd){L0(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function H6(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&e2(n,t)})}(n,t),function U6(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function j6(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&e2(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function z6(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Af(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Pf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Of(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function L0(n,t){const e=$D(n);null!==t.validator?n.setValidators(UD(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=WD(n);null!==t.asyncValidator?n.setAsyncValidators(UD(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Of(t._rawValidators,r),Of(t._rawAsyncValidators,r)}function Pf(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=$D(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=WD(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Of(t._rawValidators,i),Of(t._rawAsyncValidators,i),e}function e2(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function B0(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function V0(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Bn?e=o:function G6(n){return Object.getPrototypeOf(n.constructor)===Zs}(o)?i=o:r=o}),r||i||e||null}function r2(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function o2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _d=class extends Tf{constructor(t=null,e,i){super(F0(e),I0(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=o2(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){r2(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){r2(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){o2(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Z6={provide:ts,useExisting:zt(()=>Js)},l2=(()=>Promise.resolve())();let Js=(()=>{class n extends ts{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new _d,this._registered=!1,this.update=new xt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=V0(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),B0(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){l2.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&dl(i);l2.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?kf(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(O(un,9),O(Zi,10),O(es,10),O(Wr,10),O(Uo,8),O(Qs,8))},n.\u0275dir=Be({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Bt([Z6]),yt,je]}),n})(),vo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Be({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),d2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({}),n})();const tV={provide:Wr,useExisting:zt(()=>Rf),multi:!0};let Rf=(()=>{class n extends Zs{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ri(n)))(i||n)}}(),n.\u0275dir=Be({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,i){1&e&&ee("change",function(o){return i.onChange(o.target.value)})("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Bt([tV]),yt]}),n})();const H0=new be("NgModelWithFormControlWarning"),nV={provide:un,useExisting:zt(()=>xr)};let xr=(()=>{class n extends un{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return bd(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Af(e.control||null,e,!1),function q6(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function n2(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Af(i||null,e),(n=>n instanceof _d)(r)&&(bd(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function t2(n,t){L0(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function $6(n,t){return Pf(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){L0(this.form,this),this._oldForm&&Pf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(O(Zi,10),O(es,10),O(Qs,8))},n.\u0275dir=Be({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&ee("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bt([nV]),yt,je]}),n})();const sV={provide:ts,useExisting:zt(()=>_o)};let _o=(()=>{class n extends ts{set isDisabled(e){}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new xt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=V0(0,o)}ngOnChanges(e){this._added||this._setUpControl(),B0(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return kf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(O(un,13),O(Zi,10),O(es,10),O(Wr,10),O(H0,8))},n.\u0275dir=Be({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Bt([sV]),yt,je]}),n})();const aV={provide:Wr,useExisting:zt(()=>yo),multi:!0};function p2(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let yo=(()=>{class n extends Zs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=p2(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function lV(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ri(n)))(i||n)}}(),n.\u0275dir=Be({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&ee("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Bt([aV]),yt]}),n})(),is=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(p2(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(O(It),O(io),O(yo,9))},n.\u0275dir=Be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const cV={provide:Wr,useExisting:zt(()=>$0),multi:!0};function m2(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let $0=(()=>{class n extends Zs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);r.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function dV(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ri(n)))(i||n)}}(),n.\u0275dir=Be({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&ee("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Bt([cV]),yt]}),n})(),ns=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(m2(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(m2(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(O(It),O(io),O($0,9))},n.\u0275dir=Be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),M2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[d2]}),n})();class D2 extends Tf{constructor(t,e,i){super(F0(e),I0(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){QD(this,!1,t),t.forEach((i,r)=>{ZD(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function S2(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let rs=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return S2(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new md(r,o)}record(e,i=null){const r=this._reduceControls(e);return new JD(r,i)}control(e,i,r){let o={};return this.useNonNullable?(S2(i)?o=i:(o.validators=i,o.asyncValidators=r),new _d(e,{...o,nonNullable:!0})):new _d(e,i,r)}array(e,i,r){const o=e.map(s=>this._createControl(s));return new D2(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof _d||e instanceof Tf?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Qs,useValue:e.callSetDisabledState??gd}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[M2]}),n})(),q0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:H0,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Qs,useValue:e.callSetDisabledState??gd}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[M2]}),n})(),_V=(()=>{const t=class{constructor(){this.dataValues=[]}ngOnChanges(i){i.dataValues&&!i.dataValues.firstChange&&(console.log(this.dataValues),this.initChart())}ngAfterViewInit(){this.initChart()}initChart(){this.pjStatusChart&&this.pjStatusChart.destroy();const i=document.getElementById("pjStatusChart");this.pjStatusChart=new Chart(i,{type:"doughnut",data:{labels:["Active","Completed","Dropped"],datasets:[{label:"Project Status",data:this.dataValues,backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"],hoverOffset:4}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}}},plugins:[{id:"centerText",beforeDraw(s){const{ctx:a,chartArea:l}=s,d=s.data.datasets[0].data.reduce((u,g)=>u+g,0);a.save(),a.font="bold 22px Arial",a.fillStyle="#111827",a.textAlign="center",a.textBaseline="middle",a.fillText(d,(l.left+l.right)/2,(l.top+l.bottom)/2),a.restore()}}]})}};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-project-status"]],inputs:{dataValues:"dataValues"},features:[je],decls:3,vars:0,consts:[[1,"chart-center"],[1,"chart-box"],["id","pjStatusChart"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1),I(2,"canvas",2),p()())}}),n})();function yV(n,t){if(1&n&&(f(0,"tr")(1,"td",3),v(2),p(),f(3,"td",4),v(4),p(),f(5,"td",5),v(6),p(),f(7,"td",6),v(8),p(),f(9,"td",7),v(10),p(),f(11,"td",8),v(12),p()()),2&n){const e=t.$implicit;x(2),Ge("#",e.taskcode,""),x(2),Ae(e.task),x(2),Ae(e.description),x(2),Ae(e.priority),x(2),Ae(e.status),x(2),Ge("",e.completion_percentage,"%")}}let xV=(()=>{const t=class{constructor(){this.tasks=[]}ngOnInit(){}};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-issues"]],inputs:{tasks:"tasks"},decls:18,vars:1,consts:[[1,"table-wrapper"],[2,"font-size","smaller"],[4,"ngFor","ngForOf"],["data-label","Task Code",2,"color","var(--text-muted)"],["data-label","Task"],["data-label","Description"],["data-label","Priority"],["data-label","Status"],["data-label","Completion %"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"table")(2,"thead")(3,"tr")(4,"th"),v(5,"Task Code"),p(),f(6,"th"),v(7,"Task"),p(),f(8,"th"),v(9,"Description"),p(),f(10,"th"),v(11,"Priority"),p(),f(12,"th"),v(13,"Status"),p(),f(14,"th"),v(15,"Completion %"),p()()(),f(16,"tbody",1),U(17,yV,13,6,"tr",2),p()()()),2&r&&(x(17),D("ngForOf",o.tasks))},dependencies:[Hi],styles:["table[_ngcontent-%COMP%]{border:1px solid var(--border);border-collapse:collapse;margin:0;padding:0;width:100%;table-layout:fixed}thead[_ngcontent-%COMP%]{position:sticky;top:-1px;background-color:var(--surface)}table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0 .75em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.35em}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.625em;text-align:center}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.85em;letter-spacing:.1em;text-transform:uppercase;color:var(--primary)}@media screen and (max-width: 600px){table[_ngcontent-%COMP%]{border:0}table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.3em}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;display:block;font-size:.8em;text-align:right}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:0}}"]}),n})();function wV(n,t){if(1&n&&(f(0,"tr")(1,"td",3),v(2),p(),f(3,"td",4),v(4),p(),f(5,"td",5),v(6),p(),f(7,"td",6),v(8),p(),f(9,"td",7),v(10),p(),f(11,"td",8),v(12),p()()),2&n){const e=t.$implicit;x(2),Ge("#",e.taskcode,""),x(2),Ae(e.task),x(2),Ae(e.employee_name),x(2),Ae(e.description),x(2),Ae(e.end_date),x(2),Ae("requirement"==e.task_type?"Task":"Issue")}}let CV=(()=>{const t=class{constructor(){this.dues=[]}};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-due-table"]],inputs:{dues:"dues"},decls:18,vars:1,consts:[[1,"table-wrapper"],[2,"font-size","smaller"],[4,"ngFor","ngForOf"],["data-label","Task Code",2,"color","var(--text-muted)"],["data-label","Task"],["data-label","Owner"],["data-label","Description"],["data-label","Date",2,"color","var(--danger)"],["data-label","Type"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"table")(2,"thead")(3,"tr")(4,"th"),v(5,"Task Code"),p(),f(6,"th"),v(7,"Task"),p(),f(8,"th"),v(9,"Owner"),p(),f(10,"th"),v(11,"Description"),p(),f(12,"th"),v(13,"Date"),p(),f(14,"th"),v(15,"Type"),p()()(),f(16,"tbody",1),U(17,wV,13,6,"tr",2),p()()()),2&r&&(x(17),D("ngForOf",o.dues))},dependencies:[Hi],styles:["table[_ngcontent-%COMP%]{border:1px solid var(--border);border-collapse:collapse;margin:0;padding:0;width:100%;table-layout:fixed}thead[_ngcontent-%COMP%]{position:sticky;top:-1px;background-color:var(--surface)}table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0 .75em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.35em}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.625em;text-align:center}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.85em;letter-spacing:.1em;text-transform:uppercase;color:var(--primary)}@media screen and (max-width: 600px){table[_ngcontent-%COMP%]{border:0}table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.3em}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;display:block;font-size:.8em;text-align:right}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:0}}"]}),n})();function EV(n,t){if(1&n&&(f(0,"div",39),I(1,"app-issues",40),p()),2&n){const e=ue(2);x(1),D("tasks",null==e.dashboardData?null:e.dashboardData.task_list)}}function MV(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",41)(3,"div",42),I(4,"i",43),f(5,"span"),v(6,"No active tasks"),p()()()()())}function DV(n,t){if(1&n&&(f(0,"div",39),I(1,"app-issues",40),p()),2&n){const e=ue(2);x(1),D("tasks",null==e.dashboardData?null:e.dashboardData.bug_list)}}function SV(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",41)(3,"div",42),I(4,"i",44),f(5,"span"),v(6,"No issues reported"),p()()()()())}function TV(n,t){if(1&n&&(f(0,"div",39),I(1,"app-due-table",45),p()),2&n){const e=ue(2);x(1),D("dues",null==e.dashboardData?null:e.dashboardData.overdue_items)}}function kV(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",46)(3,"div",42),I(4,"i",47),f(5,"span"),v(6,"All caught up!"),p()()()()())}function AV(n,t){if(1&n&&(f(0,"div",39),I(1,"app-due-table",45),p()),2&n){const e=ue(2);x(1),D("dues",null==e.dashboardData?null:e.dashboardData.today_due)}}function OV(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",41)(3,"div",42),I(4,"i",48),f(5,"span"),v(6,"Nothing due today"),p()()()()())}function PV(n,t){if(1&n&&(f(0,"main",1)(1,"div",2)(2,"h1",3),v(3,"Executive Overview"),p(),f(4,"div",4),v(5),mr(6,"date"),p()(),f(7,"div",5)(8,"div",6)(9,"div",7),I(10,"i",8),p(),f(11,"div",9)(12,"div",10),v(13,"Open Tasks"),p(),f(14,"div",11),v(15),p()()(),f(16,"div",6)(17,"div",12),I(18,"i",13),p(),f(19,"div",9)(20,"div",10),v(21,"Closed Tasks"),p(),f(22,"div",11),v(23),p()()(),f(24,"div",6)(25,"div",14),I(26,"i",15),p(),f(27,"div",9)(28,"div",10),v(29,"Open Issues"),p(),f(30,"div",11),v(31),p()()(),f(32,"div",6)(33,"div",12),I(34,"i",16),p(),f(35,"div",9)(36,"div",10),v(37,"Closed Issues"),p(),f(38,"div",11),v(39),p()()(),f(40,"div",6)(41,"div",17),I(42,"i",18),p(),f(43,"div",9)(44,"div",10),v(45,"Open Phases"),p(),f(46,"div",11),v(47),p()()(),f(48,"div",6)(49,"div",12),I(50,"i",19),p(),f(51,"div",9)(52,"div",10),v(53,"Closed Phases"),p(),f(54,"div",11),v(55),p()()()(),f(56,"div",20)(57,"span",21),I(58,"i",22),v(59," Workload "),p(),I(60,"div",23),p(),f(61,"div",24)(62,"div",25)(63,"div",26)(64,"div",27),I(65,"span",28),v(66," My Tasks "),p(),f(67,"button",29),I(68,"i",30),p()(),f(69,"div",31)(70,"table",32),U(71,EV,2,1,"div",33),U(72,MV,7,0,"tbody",34),p()()(),f(73,"div",25)(74,"div",26)(75,"div",27),I(76,"span",28),v(77," My Issues "),p(),f(78,"button",29),I(79,"i",30),p()(),f(80,"div",31)(81,"table",32),U(82,DV,2,1,"div",33),U(83,SV,7,0,"tbody",34),p()()()(),f(84,"div",20)(85,"span",35),I(86,"i",36),v(87," Attention Needed "),p(),I(88,"div",23),p(),f(89,"div",24)(90,"div",25)(91,"div",26)(92,"div",27),I(93,"span",37),v(94," Overdue Items "),p(),f(95,"button",29),I(96,"i",30),p()(),f(97,"div",31)(98,"table",32),U(99,TV,2,1,"div",33),U(100,kV,7,0,"tbody",34),p()()(),f(101,"div",25)(102,"div",26)(103,"div",27),I(104,"span",38),v(105," Due Today "),p(),f(106,"button",29),I(107,"i",30),p()(),f(108,"div",31)(109,"table",32),U(110,AV,2,1,"div",33),U(111,OV,7,0,"tbody",34),p()()()()()),2&n){const e=ue();x(5),Ae(Oc(6,15,e.today,"EEEE, MMMM d")),x(10),Ae((null==e.dashboardData?null:e.dashboardData.active_task)||0),x(8),Ae((null==e.dashboardData?null:e.dashboardData.closed_task)||0),x(8),Ae((null==e.dashboardData?null:e.dashboardData.active_issue)||0),x(8),Ae((null==e.dashboardData?null:e.dashboardData.closed_issue)||0),x(8),Ae((null==e.dashboardData?null:e.dashboardData.active_phase)||0),x(8),Ae((null==e.dashboardData?null:e.dashboardData.completed_phase)||0),x(16),D("ngIf",(null==e.dashboardData?null:e.dashboardData.task_list.length)>0),x(1),D("ngIf",0==(null==e.dashboardData?null:e.dashboardData.task_list.length)||!e.dashboardData),x(10),D("ngIf",(null==e.dashboardData?null:e.dashboardData.bug_list.length)>0),x(1),D("ngIf",0==(null==e.dashboardData?null:e.dashboardData.bug_list.length)||!e.dashboardData),x(16),D("ngIf",(null==e.dashboardData||null==e.dashboardData.overdue_items?null:e.dashboardData.overdue_items.length)>0),x(1),D("ngIf",0==(null==e.dashboardData||null==e.dashboardData.overdue_items?null:e.dashboardData.overdue_items.length)||!e.dashboardData),x(10),D("ngIf",(null==e.dashboardData||null==e.dashboardData.today_due?null:e.dashboardData.today_due.length)>0),x(1),D("ngIf",0==(null==e.dashboardData||null==e.dashboardData.today_due?null:e.dashboardData.today_due.length)||!e.dashboardData)}}function RV(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",41)(3,"div",42),I(4,"i",43),f(5,"span"),v(6,"No active tasks"),p()()()()())}function FV(n,t){if(1&n&&(f(0,"option",61),v(1),p()),2&n){const e=t.$implicit;D("value",e.departmen_name),x(1),Ge(" ",e.departmen_name," ")}}function IV(n,t){if(1&n&&(f(0,"div",39),I(1,"app-project-team-report",62),p()),2&n){const e=ue(2);x(1),D("projectData",null==e.dashboardData?null:e.dashboardData.departmentwise_project_details)}}function LV(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",41)(3,"div",42),I(4,"i",44),f(5,"span"),v(6,"No issues reported"),p()()()()())}function NV(n,t){if(1&n&&(f(0,"div",39),I(1,"app-due-table",45),p()),2&n){const e=ue(2);x(1),D("dues",null==e.dashboardData?null:e.dashboardData.overdue_items)}}function BV(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",41)(3,"div",42),I(4,"i",47),f(5,"span"),v(6,"All caught up!"),p()()()()())}function VV(n,t){if(1&n&&I(0,"app-due-table",45),2&n){const e=ue(2);D("dues",null==e.dashboardData?null:e.dashboardData.today_due)}}function zV(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",41)(3,"div",42),I(4,"i",48),f(5,"span"),v(6,"Nothing due today"),p()()()()())}const HV=function(n,t,e){return[n,t,e]};function jV(n,t){if(1&n){const e=Tt();f(0,"main",1)(1,"div",2)(2,"h1",3),v(3,"Executive Overview"),p(),f(4,"div",4),v(5),mr(6,"date"),p()(),f(7,"div",5)(8,"div",49),ee("click",function(){return $e(e),We(ue().navigateToPage("projects"))}),f(9,"div",7),I(10,"i",50),p(),f(11,"div",9)(12,"div",10),v(13,"Active Projects"),p(),f(14,"div",11),v(15),p()()(),f(16,"div",6)(17,"div",17),I(18,"i",51),p(),f(19,"div",9)(20,"div",10),v(21,"Completed Projects"),p(),f(22,"div",11),v(23),p()()(),f(24,"div",6)(25,"div",14),I(26,"i",19),p(),f(27,"div",9)(28,"div",10),v(29,"Dropped Projects"),p(),f(30,"div",11),v(31),p()()(),f(32,"div",6)(33,"div",52),I(34,"i",16),p(),f(35,"div",9)(36,"div",10),v(37,"Open Tasks"),p(),f(38,"div",11),v(39),p()()(),f(40,"div",6)(41,"div",14),I(42,"i",15),p(),f(43,"div",9)(44,"div",10),v(45,"Open Issues"),p(),f(46,"div",11),v(47),p()()(),f(48,"div",6)(49,"div",17),I(50,"i",53),p(),f(51,"div",9)(52,"div",10),v(53,"Active Employees"),p(),f(54,"div",11),v(55),p()()()(),f(56,"div",20)(57,"span",21),I(58,"i",22),v(59," achievements "),p(),I(60,"div",23),p(),f(61,"div",24)(62,"div",25)(63,"div",26)(64,"div",27),I(65,"span",28),v(66," Projects status report "),p(),f(67,"button",29),I(68,"i",30),p()(),f(69,"div",54)(70,"div",32)(71,"div",39),I(72,"app-project-status",55),U(73,RV,7,0,"tbody",34),p()()()(),f(74,"div",25)(75,"div",26)(76,"div",27),I(77,"span",28),v(78," Teams Performance "),f(79,"div",56)(80,"select",57),ee("change",function(r){return $e(e),We(ue().onDepartmentChange(r))}),U(81,FV,2,2,"option",58),p()()(),f(82,"button",29),I(83,"i",30),p()(),f(84,"div",54)(85,"div",59),U(86,IV,2,1,"div",33),U(87,LV,7,0,"tbody",34),p()()()(),f(88,"div",20)(89,"span",35),I(90,"i",36),v(91," Attention Needed "),p(),I(92,"div",23),p(),f(93,"div",24)(94,"div",25)(95,"div",26)(96,"div",27),I(97,"span",37),v(98," Overdue Items "),p(),f(99,"button",29),I(100,"i",30),p()(),f(101,"div",31)(102,"table",32),U(103,NV,2,1,"div",33),U(104,BV,7,0,"tbody",34),p()()(),f(105,"div",25)(106,"div",26)(107,"div",27),I(108,"span",38),v(109," Due Today "),p(),f(110,"button",29),I(111,"i",30),p()(),f(112,"div",31)(113,"table",32),U(114,VV,1,1,"app-due-table",60),U(115,zV,7,0,"tbody",34),p()()()()()}if(2&n){const e=ue();x(5),Ae(Oc(6,16,e.today,"EEEE, MMMM d")),x(10),Ae((null==e.dashboardData?null:e.dashboardData.active_project)||0),x(8),Ae((null==e.dashboardData?null:e.dashboardData.completed_project)||0),x(8),Ae((null==e.dashboardData?null:e.dashboardData.dropped)||0),x(8),Ae((null==e.dashboardData?null:e.dashboardData.active_task)||0),x(8),Ae((null==e.dashboardData?null:e.dashboardData.active_issue)||0),x(8),Ae((null==e.dashboardData?null:e.dashboardData.active_employees)||0),x(17),D("dataValues",nC(19,HV,null==e.dashboardData?null:e.dashboardData.active_project,null==e.dashboardData?null:e.dashboardData.completed_project,null==e.dashboardData?null:e.dashboardData.dropped_projects)),x(1),D("ngIf",!1),x(8),D("ngForOf",null==e.dashboardData?null:e.dashboardData.departmentwise_project_details),x(5),D("ngIf",(null==e.dashboardData||null==e.dashboardData.departmentwise_project_details?null:e.dashboardData.departmentwise_project_details.length)>0),x(1),D("ngIf",0==(null==e.dashboardData||null==e.dashboardData.departmentwise_project_details?null:e.dashboardData.departmentwise_project_details.length)||!e.dashboardData),x(16),D("ngIf",(null==e.dashboardData||null==e.dashboardData.overdue_items?null:e.dashboardData.overdue_items.length)>0),x(1),D("ngIf",0==(null==e.dashboardData||null==e.dashboardData.overdue_items?null:e.dashboardData.overdue_items.length)||!e.dashboardData),x(10),D("ngIf",(null==e.dashboardData||null==e.dashboardData.today_due?null:e.dashboardData.today_due.length)>0),x(1),D("ngIf",0==(null==e.dashboardData||null==e.dashboardData.today_due?null:e.dashboardData.today_due.length)||!e.dashboardData)}}let UV=(()=>{const t=class{constructor(i,r,o){this.authService=i,this.storageService=r,this.router=o,this.isAdmin=!0,this.empId=0,this.today=new Date,this.mytask=[]}ngOnInit(){this.empId=this.storageService.getEmpId(),this.getDashboardDetailsByEmployeeId(this.empId)}getDashboardDetailsByEmployeeId(i){this.authService.getDashboardDetailsByEmployeeId(i,0).subscribe({next:r=>{this.dashboardData=r},error:r=>{}})}navigateToPage(i){this.router.navigate(["main/"+i])}onDepartmentChange(i){this.projectTeamReportComponent?.onDepartmentChange(i)}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(Cn),O(Xi),O(Jt))},t.\u0275cmp=Qe({type:t,selectors:[["app-dashboard"]],viewQuery:function(r,o){if(1&r&&Xn(ED,5),2&r){let s;ln(s=cn())&&(o.projectTeamReportComponent=s.first)}},decls:2,vars:2,consts:[["class","dsb-container",4,"ngIf"],[1,"dsb-container"],[1,"dsb-page-header"],[1,"dsb-page-title"],[1,"dsb-date-badge"],[1,"dsb-stats-grid"],[1,"dsb-stat-card"],[1,"dsb-stat-icon-box","icon-blue"],[1,"ri-stack-line"],[1,"dsb-stat-info"],[1,"dsb-stat-label"],[1,"dsb-stat-value"],[1,"dsb-stat-icon-box","icon-grey"],[1,"ri-checkbox-circle-line"],[1,"dsb-stat-icon-box","icon-red"],[1,"ri-error-warning-line"],[1,"ri-shield-check-line"],[1,"dsb-stat-icon-box","icon-teal"],[1,"ri-flag-line"],[1,"ri-time-line"],[1,"dsb-section-divider"],[1,"dsb-section-title",2,"color","var(--primary)"],[1,"ri-briefcase-line"],[1,"dsb-section-line"],[1,"dsb-tables-grid"],[1,"dsb-table-card"],[1,"dsb-table-header"],[1,"dsb-table-title"],[1,"accent-bar","bg-blue"],[1,"dsb-icon-btn"],[1,"ri-more-fill"],[1,"dsb-table-content",2,"padding","0"],[1,"dsb-table"],["class","chart-wrapper",4,"ngIf"],[4,"ngIf"],[1,"dsb-section-title",2,"color","var(--c-red)"],[1,"ri-alarm-warning-line"],[1,"accent-bar","bg-red"],[1,"accent-bar","bg-grey"],[1,"chart-wrapper"],[3,"tasks"],["colspan","3"],[1,"dsb-empty"],[1,"ri-inbox-line"],[1,"ri-bug-line"],[3,"dues"],["colspan"," 3"],[1,"ri-thumb-up-line"],[1,"ri-calendar-check-line"],[1,"dsb-stat-card",3,"click"],[1,"ri-folder-open-line"],[1,"ri-check-double-line"],[1,"dsb-stat-icon-box","icon-orange"],[1,"ri-shield-user-line"],[1,"dsb-table-content"],[3,"dataValues"],[2,"display","flex","justify-content","end"],[1,"dsb-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"dsb-table",2,"display","flex","justify-content","center","align-items","center"],[3,"dues",4,"ngIf"],[3,"value"],[3,"projectData"]],template:function(r,o){1&r&&(U(0,PV,112,18,"main",0),U(1,jV,116,23,"main",0)),2&r&&(D("ngIf",null==o.storageService||null==o.storageService.roles?null:o.storageService.roles.isEmployee),x(1),D("ngIf",(null==o.storageService||null==o.storageService.roles?null:o.storageService.roles.isAdmin)||(null==o.storageService||null==o.storageService.roles?null:o.storageService.roles.isManager)))},dependencies:[Hi,ki,is,ns,_V,ED,xV,CV,yh],styles:["[_ngcontent-%COMP%]:root{--card-min-height: 400px}.dsb-icon-btn[_ngcontent-%COMP%]:hover{background-color:var(--bg-hover);color:var(--text-main);border-color:var(--border)}.dsb-icon-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;color:var(--text-muted);width:32px;height:32px;border-radius:var(--radius);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;font-size:1.2rem}.dsb-container[_ngcontent-%COMP%]{flex:1;width:100%;margin:0 auto;padding:32px}.dsb-page-header[_ngcontent-%COMP%]{margin-bottom:24px;display:flex;justify-content:space-between;align-items:center}.dsb-page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--text-main)}.dsb-date-badge[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-muted);font-weight:600;background:var(--surface);padding:6px 12px;border:1px solid var(--border);border-radius:var(--radius)}.dsb-stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:32px}.dsb-stat-card[_ngcontent-%COMP%]{background-color:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;display:flex;align-items:center;gap:16px;box-shadow:var(--shadow-sm);transition:transform .15s;cursor:pointer}.dsb-stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);border-color:#d1d5db}.dsb-stat-icon-box[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-size:1.5rem;flex-shrink:0}.dsb-stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dsb-stat-label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-muted);font-weight:600;margin-bottom:2px}.dsb-stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--text-main);line-height:1.2}.dsb-section-divider[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.dsb-section-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:var(--text-main);text-transform:uppercase;letter-spacing:.05em;white-space:nowrap;display:flex;align-items:center;gap:8px}.dsb-section-line[_ngcontent-%COMP%]{height:1px;background-color:var(--border);width:100%}.dsb-tables-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:24px;margin-bottom:40px}.dsb-table-card[_ngcontent-%COMP%]{background-color:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow-sm);display:flex;flex-direction:column;height:var(--card-min-height);overflow:hidden}.dsb-table-header[_ngcontent-%COMP%]{height:var(--tblr-header-height);padding:0 20px;background-color:var(--bg-hover);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}.dsb-table-title[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;color:var(--text-main);display:flex;align-items:center;gap:10px}.accent-bar[_ngcontent-%COMP%]{width:4px;height:16px;border-radius:2px;display:inline-block}.bg-red[_ngcontent-%COMP%]{background-color:var(--c-red)}.bg-blue[_ngcontent-%COMP%]{background-color:var(--c-blue)}.bg-teal[_ngcontent-%COMP%]{background-color:var(--c-teal)}.bg-grey[_ngcontent-%COMP%]{background-color:var(--text-muted)}.dsb-table-content[_ngcontent-%COMP%]{flex:1;padding:24px;position:relative;display:flex;justify-content:center;align-items:center}.chart-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:300px;overflow:scroll}.chart-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:0px;height:0px;background-color:#f5f5f5}.dsb-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:var(--tblr-font-size);height:100%}.dsb-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:0 20px;height:40px;font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-muted);font-weight:600;border-bottom:1px solid var(--border);background-color:var(--surface);position:sticky;top:0;z-index:10}.dsb-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 20px;height:var(--tblr-row-height);border-bottom:1px solid var(--border);color:var(--text-main);vertical-align:middle}.dsb-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.dsb-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:var(--bg-hover)}.dsb-empty[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;color:var(--text-muted)}.dsb-empty[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:12px;opacity:.4}.dsb-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}@media (max-width: 1024px){.dsb-stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.dsb-tables-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.dsb-navbar[_ngcontent-%COMP%]{padding:0 20px}.dsb-container[_ngcontent-%COMP%]{padding:20px}.dsb-stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.dsb-table-card[_ngcontent-%COMP%]{height:auto;min-height:350px}}@media (max-width: 480px){.dsb-stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dsb-stat-card[_ngcontent-%COMP%]{padding:16px}}.icon-blue[_ngcontent-%COMP%]{background:rgba(56,189,248,.1);color:var(--c-blue);border:1px solid rgba(56,189,248,.2)}.icon-red[_ngcontent-%COMP%]{background:rgba(239,68,68,.1);color:var(--c-red);border:1px solid rgba(239,68,68,.2)}.icon-teal[_ngcontent-%COMP%]{background:rgba(45,212,191,.1);color:var(--c-teal);border:1px solid rgba(45,212,191,.2)}.icon-grey[_ngcontent-%COMP%]{background:rgba(148,163,184,.1);color:var(--c-grey);border:1px solid rgba(148,163,184,.2)}.icon-green[_ngcontent-%COMP%]{background:rgba(74,222,128,.1);color:var(--c-green);border:1px solid rgba(74,222,128,.2)}.icon-orange[_ngcontent-%COMP%]{background:rgba(253,186,116,.1);color:var(--c-orange);border:1px solid rgba(253,186,116,.2)}.dsb-select[_ngcontent-%COMP%]{padding:6px 36px 6px 12px;border-radius:6px;border:1px solid var(--border);color:var(--text-main);background-color:var(--surface);font-size:.875rem;outline:none;cursor:pointer;appearance:none;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2364748b' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");background-position:right .5rem center;background-repeat:no-repeat;background-size:1.5em 1.5em}"]}),n})(),$V=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-analytics"]],decls:2,vars:0,template:function(r,o){1&r&&(f(0,"p"),v(1,"analytics works!"),p())}}),n})();const T2=["toast-component",""];function WV(n,t){if(1&n){const e=Tt();f(0,"button",5),ee("click",function(){return $e(e),We(ue().remove())}),f(1,"span",6),v(2,"\xd7"),p()()}}function GV(n,t){if(1&n&&(Ir(0),v(1),Lr()),2&n){const e=ue(2);x(1),Ge("[",e.duplicatesCount+1,"]")}}function qV(n,t){if(1&n&&(f(0,"div"),v(1),U(2,GV,2,1,"ng-container",4),p()),2&n){const e=ue();oo(e.options.titleClass),Di("aria-label",e.title),x(1),Ge(" ",e.title," "),x(1),D("ngIf",e.duplicatesCount)}}function YV(n,t){if(1&n&&I(0,"div",7),2&n){const e=ue();oo(e.options.messageClass),D("innerHTML",e.message,ym)}}function KV(n,t){if(1&n&&(f(0,"div",8),v(1),p()),2&n){const e=ue();oo(e.options.messageClass),Di("aria-label",e.message),x(1),Ge(" ",e.message," ")}}function XV(n,t){if(1&n&&(f(0,"div"),I(1,"div",9),p()),2&n){const e=ue();x(1),sn("width",e.width+"%")}}class nz{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class rz{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class oz{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new re,this._activate=new re,this._manualClose=new re,this._resetTimeout=new re,this._countDuplicate=new re}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Ff{constructor(t,e,i,r,o,s){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=o,this.toastRef=s,this._onTap=new re,this._onAction=new re,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const A2=new be("ToastConfig");class sz extends rz{constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class az{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let lz=(()=>{class n{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return n.\u0275fac=function(e){return new(e||n)(G(ct))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cz=(()=>{class n{constructor(e,i,r,o){this._overlayContainer=e,this._componentFactoryResolver=i,this._appRef=r,this._document=o,this._paneElements=new Map}create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new sz(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new az(this._createPortalHost(e))}}return n.\u0275fac=function(e){return new(e||n)(G(lz),G(No),G(jo),G(ct))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y0=(()=>{class n{constructor(e,i,r,o,s){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=s,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,i,r={},o=""){return this._preBuildNotification(o,e,i,this.applyConfig(r))}success(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(r))}error(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(r))}info(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(r))}warning(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(r))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,o){const{includeTitleDuplicates:s}=this.toastrConfig;for(const a of this.toasts)if((!s||s&&a.title===e)&&a.message===i)return a.toastRef.onDuplicate(r,o),a;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,o)):this._buildNotification(e,i,r,o)}_buildNotification(e,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&o.enableHtml&&(c=this.sanitizer.sanitize(Ft.HTML,i));const d=new oz(l),u=new Ff(this.index,o,c,r,e,d),b=Mi.create({providers:[{provide:Ff,useValue:u}],parent:this._injector}),_=new nz(o.toastComponent,b),w=l.attach(_,o.newestOnTop);d.componentInstance=w.instance;const C={toastId:this.index,title:r||"",message:i||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:w};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{C.toastRef.activate()})),this.toasts.push(C),C}}return n.\u0275fac=function(e){return new(e||n)(G(A2),G(cz),G(Mi),G(Sh),G(ft))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dz={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return n.\u0275fac=function(e){return new(e||n)(O(Y0),O(Ff),O(ft))},n.\u0275cmp=Qe({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,i){1&e&&ee("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(sg("@flyInOut",i.state),oo(i.toastClasses),sn("display",i.displayStyle))},attrs:T2,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,i){1&e&&(U(0,WV,3,0,"button",0),U(1,qV,3,5,"div",1),U(2,YV,1,3,"div",2),U(3,KV,2,4,"div",3),U(4,XV,2,2,"div",4)),2&e&&(D("ngIf",i.options.closeButton),x(1),D("ngIf",i.title),x(1),D("ngIf",i.message&&i.options.enableHtml),x(1),D("ngIf",i.message&&!i.options.enableHtml),x(1),D("ngIf",i.options.progressBar))},dependencies:[ki],encapsulation:2,data:{animation:[fo("flyInOut",[Pn("inactive",ri({opacity:0})),Pn("active",ri({opacity:1})),Pn("removed",ri({opacity:0})),Rn("inactive => active",Jn("{{ easeTime }}ms {{ easing }}")),Rn("active => removed",Jn("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let uz=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:A2,useValue:{default:dz,config:e}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[uo]}),n})(),xo=(()=>{const t=class{constructor(i){this.toastr=i}success(i,r="Success",o=3e3){this.toastr.success(i,r,{timeOut:o,progressBar:!0,closeButton:!0})}error(i,r="Error",o=3e3){this.toastr.error(i,r,{timeOut:o,progressBar:!0,closeButton:!0})}info(i,r="Info",o=3e3){this.toastr.info(i,r,{timeOut:o,progressBar:!0,closeButton:!0})}warning(i,r="Warning",o=3e3){this.toastr.warning(i,r,{timeOut:o,progressBar:!0,closeButton:!0})}};let n=t;return t.\u0275fac=function(r){return new(r||t)(G(Y0))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function hz(n,t){1&n&&(f(0,"div",67),v(1," Photo required. "),p())}function fz(n,t){1&n&&(f(0,"div",68),v(1," First Name is required. "),p())}function pz(n,t){1&n&&(f(0,"div",68),v(1," Last Name is required. "),p())}function mz(n,t){1&n&&(f(0,"div",68),v(1," Date of Birth is required. "),p())}function gz(n,t){1&n&&(ke(),Re(),f(0,"div",68),v(1," Gender is required. "),p())}function bz(n,t){1&n&&(ke(),Re(),f(0,"div",68),v(1," Status is required. "),p())}function vz(n,t){1&n&&(ke(),Re(),f(0,"div",68),v(1," Blood Group is required. "),p())}function _z(n,t){1&n&&(f(0,"span"),v(1,"Email is required."),p())}function yz(n,t){1&n&&(f(0,"span"),v(1,"Invalid email format."),p())}function xz(n,t){if(1&n&&(f(0,"div",68),U(1,_z,2,0,"span",69),U(2,yz,2,0,"span",69),p()),2&n){const e=ue();x(1),D("ngIf",null==e.rf.email||null==e.rf.email.errors?null:e.rf.email.errors.required),x(1),D("ngIf",null==e.rf.email||null==e.rf.email.errors?null:e.rf.email.errors.email)}}function wz(n,t){1&n&&(f(0,"span"),v(1,"Alt Email is required."),p())}function Cz(n,t){1&n&&(f(0,"span"),v(1,"Invalid email format."),p())}function Ez(n,t){if(1&n&&(f(0,"div",68),U(1,wz,2,0,"span",69),U(2,Cz,2,0,"span",69),p()),2&n){const e=ue();x(1),D("ngIf",null==e.rf.alternate_email||null==e.rf.alternate_email.errors?null:e.rf.alternate_email.errors.required),x(1),D("ngIf",null==e.rf.alternate_email||null==e.rf.alternate_email.errors?null:e.rf.alternate_email.errors.email)}}function Mz(n,t){1&n&&(f(0,"span"),v(1,"Mobile is required."),p())}function Dz(n,t){1&n&&(f(0,"span"),v(1,"Min 10 digits required."),p())}function Sz(n,t){if(1&n&&(f(0,"div",68),U(1,Mz,2,0,"span",69),U(2,Dz,2,0,"span",69),p()),2&n){const e=ue();x(1),D("ngIf",null==e.rf.mobile||null==e.rf.mobile.errors?null:e.rf.mobile.errors.required),x(1),D("ngIf",null==e.rf.mobile||null==e.rf.mobile.errors?null:e.rf.mobile.errors.pattern)}}function Tz(n,t){1&n&&(f(0,"div",68),v(1," Skype ID is required. "),p())}function kz(n,t){if(1&n&&(f(0,"div",12)(1,"label"),v(2,"Skype ID "),f(3,"span",8),v(4,"*"),p()(),I(5,"input",70),U(6,Tz,2,0,"div",14),p()),2&n){const e=ue();x(6),D("ngIf",(null==e.rf.skypeid?null:e.rf.skypeid.invalid)&&((null==e.rf.skypeid?null:e.rf.skypeid.dirty)||(null==e.rf.skypeid?null:e.rf.skypeid.touched)))}}function Az(n,t){1&n&&(ke(),Re(),f(0,"div",68),v(1," Role is required. "),p())}function Oz(n,t){if(1&n&&(f(0,"option",46),v(1),p()),2&n){const e=t.$implicit;D("ngValue",e.id),x(1),Ae(e.department_name)}}function Pz(n,t){1&n&&(ke(),Re(),f(0,"div",68),v(1," Department is required. "),p())}function Rz(n,t){if(1&n&&(f(0,"option",46),v(1),p()),2&n){const e=t.$implicit;D("ngValue",e.id),x(1),Ae(e.position)}}function Fz(n,t){1&n&&(ke(),Re(),f(0,"div",68),v(1," Position is required. "),p())}function Iz(n,t){1&n&&(f(0,"div",68),v(1," Joining Date is required. "),p())}function Lz(n,t){if(1&n&&(f(0,"option",46),v(1),p()),2&n){const e=t.$implicit;D("ngValue",e.id),x(1),Ae(e.shift_type)}}function Nz(n,t){1&n&&(ke(),Re(),f(0,"div",68),v(1," Shift is required. "),p())}function Bz(n,t){1&n&&(ke(),Re(),f(0,"div",68),v(1," Manager is required. "),p())}function Vz(n,t){if(1&n&&(ke(),Re(),f(0,"div",12)(1,"label"),v(2,"Reporting Manager "),f(3,"span",8),v(4,"*"),p()(),f(5,"div",17)(6,"select",71)(7,"option",45),v(8,"Select Manager"),p(),f(9,"option",46),v(10,"Sarah Connor"),p(),f(11,"option",46),v(12,"Kyle Reese"),p()(),ke(),f(13,"svg",23),I(14,"path",24),p()(),U(15,Bz,2,0,"div",14),p()),2&n){const e=ue();x(7),D("ngValue",null),x(2),D("ngValue",55),x(2),D("ngValue",56),x(4),D("ngIf",(null==e.rf.managerid?null:e.rf.managerid.invalid)&&((null==e.rf.managerid?null:e.rf.managerid.dirty)||(null==e.rf.managerid?null:e.rf.managerid.touched)))}}function zz(n,t){1&n&&(ke(),Re(),f(0,"div",68),v(1," Sub Manager is required. "),p())}function Hz(n,t){if(1&n&&(ke(),Re(),f(0,"div",12)(1,"label"),v(2,"Sub Manager "),f(3,"span",8),v(4,"*"),p()(),f(5,"div",17)(6,"select",72)(7,"option",45),v(8,"Select Sub Manager"),p(),f(9,"option",46),v(10,"John Henry"),p()(),ke(),f(11,"svg",23),I(12,"path",24),p()(),U(13,zz,2,0,"div",14),p()),2&n){const e=ue();x(7),D("ngValue",null),x(2),D("ngValue",57),x(4),D("ngIf",(null==e.rf.sub_manager_id?null:e.rf.sub_manager_id.invalid)&&((null==e.rf.sub_manager_id?null:e.rf.sub_manager_id.dirty)||(null==e.rf.sub_manager_id?null:e.rf.sub_manager_id.touched)))}}function jz(n,t){1&n&&(f(0,"div",68),v(1," Attendance ID is required. "),p())}function Uz(n,t){1&n&&(f(0,"span"),v(1,"Password is required."),p())}function $z(n,t){1&n&&(f(0,"span"),v(1,"Min 6 digits required."),p())}function Wz(n,t){if(1&n&&(f(0,"div",68),U(1,Uz,2,0,"span",69),U(2,$z,2,0,"span",69),p()),2&n){const e=ue();x(1),D("ngIf",null==e.rf.password||null==e.rf.password.errors?null:e.rf.password.errors.required),x(1),D("ngIf",null==e.rf.password||null==e.rf.password.errors?null:e.rf.password.errors.minlength)}}let Gz=(()=>{const t=class{constructor(i,r,o,s){this.fb=i,this.authService=r,this.storageService=o,this.toasterService=s,this.toggleEmitor=new xt,this.departments=[],this.shifts=[],this.designation=[],this.previewUrl=null,this.showRegPassword=!1,this.userForm=this.fb.group({firstname:["",Ie.required],lastname:["",Ie.required],gender:["",Ie.required],marital_status:[""],blood_group:[""],date_of_birth:[null,Ie.required],image_url:[null,Ie.required],email:["",[Ie.required,Ie.email]],password:["",[Ie.required,Ie.minLength(6)]],alternate_email:[""],mobile:["",[Ie.required,Ie.pattern("^[0-9]{10,}$")]],skypeid:[""],role:[null,Ie.required],deptid:[null,Ie.required],positionid:[null,Ie.required],shiftid:[null,Ie.required],managerid:[null],sub_manager_id:[null],attendanceid:["",Ie.required],joining_date:[null,Ie.required],wfh:[!1],isactive:[!0],username:[this.storageService.getUsername()]})}ngOnChanges(i){i.user&&this.user?(console.log("User received:",this.user),this.userForm.patchValue({firstname:this.user.firstname,lastname:this.user.lastname,gender:this.user.gender,marital_status:this.user.marital_status,blood_group:this.user.blood_group,date_of_birth:this.user.date_of_birth,image_url:this.user.image_url,email:this.user.email,password:this.user.password,alternate_email:this.user.alternate_email,mobile:this.user.mobile,skypeid:this.user.skypeid,role:this.user.role,deptid:this.user.deptid,positionid:this.user.positionid,shiftid:this.user.shiftid,managerid:this.user.managerid,sub_manager_id:this.user.sub_manager_id,attendanceid:this.user.attendanceid,joining_date:this.user.joining_date,wfh:this.user.wfh,isactive:this.user.isactive,username:this.storageService.getUsername()}),this.previewUrl=this.user.profile_image_url):this.userForm.reset()}ngOnInit(){this.getAllShifts(),this.getAllDepartments()}get rf(){return{firstname:this.userForm.get("firstname"),lastname:this.userForm.get("lastname"),gender:this.userForm.get("gender"),marital_status:this.userForm.get("marital_status"),blood_group:this.userForm.get("blood_group"),date_of_birth:this.userForm.get("date_of_birth"),image_url:this.userForm.get("image_url"),email:this.userForm.get("email"),password:this.userForm.get("password"),alternate_email:this.userForm.get("alternate_email"),mobile:this.userForm.get("mobile"),skypeid:this.userForm.get("skypeid"),role:this.userForm.get("role"),deptid:this.userForm.get("deptid"),positionid:this.userForm.get("positionid"),shiftid:this.userForm.get("shiftid"),managerid:this.userForm.get("managerid"),sub_manager_id:this.userForm.get("sub_manager_id"),attendanceid:this.userForm.get("attendanceid"),joining_date:this.userForm.get("joining_date"),wfh:this.userForm.get("wfh"),isactive:this.userForm.get("isactive")}}onFileChange(i){const r=i.target.files[0];if(r){const o=new FileReader;o.onload=s=>{this.previewUrl=o.result,this.userForm.patchValue({image_url:this.previewUrl})},o.readAsDataURL(r),this.userForm.get("image_url")?.markAsTouched()}}onSubmit(){if(!this.userForm.valid)return void this.userForm.markAllAsTouched();this.userForm.patchValue({username:this.storageService.getUsername()});const i={...this.userForm.value};this.user&&this.user.id?(i.id=this.user.id,this.authService.updateUser(i).subscribe({next:r=>{this.toasterService.success(r?.message||"User updated successfully"),this.toggleFilter("submit"),this.userForm.reset()},error:r=>this.toasterService.error(r?.error?.message||"Error updating user")})):this.authService.createUser(i).subscribe({next:r=>{this.toasterService.success(r?.message||"User created successfully"),this.toggleFilter("submit"),this.userForm.reset()},error:r=>this.toasterService.error(r?.error?.message||"Error creating user")})}onCancel(){this.userForm.reset(),this.toggleFilter()}toggleFilter(i=""){this.toggleEmitor.emit(i)}getAllShifts(){this.authService.getAllShifts().subscribe(i=>{console.log(i),this.shifts=i})}getAllDepartments(){this.authService.getAllDepartments().subscribe(i=>{this.departments=i})}getDesignationByDepartment(i){i&&this.authService.getDesignationByDepartment(i).subscribe(r=>{this.designation=r})}toggleRegPassword(){this.showRegPassword=!this.showRegPassword}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(rs),O(Cn),O(Xi),O(xo))},t.\u0275cmp=Qe({type:t,selectors:[["app-user-form"]],inputs:{user:"user"},outputs:{toggleEmitor:"toggleEmitor"},features:[je],decls:231,vars:39,consts:[[1,"page-container"],[1,"main-form",3,"formGroup"],[1,"form-section"],[1,"section-title"],[1,"profile-layout"],[1,"avatar-upload"],[1,"avatar-preview"],[1,"upload-btn"],[1,"required"],["type","file","accept","image/*","hidden","",3,"change"],["class","error-msg center-text",4,"ngIf"],[1,"fields-grid"],[1,"form-group"],["type","text","formControlName","firstname","placeholder","e.g. John"],["class","error-msg",4,"ngIf"],["type","text","formControlName","lastname","placeholder","e.g. Doe"],["type","date","formControlName","date_of_birth"],[1,"select-wrapper"],["formControlName","gender"],["value","","disabled","","selected",""],["value","Male"],["value","Female"],["value","Other"],["viewBox","0 0 24 24",1,"select-arrow"],["d","M7 10l5 5 5-5z","fill","currentColor"],["formControlName","marital_status"],["value","Single"],["value","Married"],["value","Divorced"],["formControlName","blood_group"],["value","A+"],["value","A-"],["value","B+"],["value","B-"],["value","O+"],["value","O-"],["value","AB+"],["value","AB-"],[1,"divider"],[1,"fields-grid","three-col"],["type","email","formControlName","email","placeholder","john.doe@company.com"],["type","email","formControlName","alternate_email","placeholder","Personal email"],["type","tel","formControlName","mobile","placeholder","9876543210"],["class","form-group",4,"ngIf"],["formControlName","role"],["disabled","","selected","",3,"ngValue"],[3,"ngValue"],["formControlName","deptid",3,"ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","positionid"],["type","date","formControlName","joining_date"],["formControlName","shiftid"],["type","text","formControlName","attendanceid","placeholder","BIO-10293"],[2,"position","relative"],["formControlName","password","placeholder","Admin@123",3,"type"],[1,"input-icon",2,"position","absolute","right","10px","bottom","12px","cursor","pointer",3,"click"],[1,"toggles-row"],[1,"toggle-group"],[1,"switch"],["type","checkbox","formControlName","wfh"],[1,"slider","round"],[1,"toggle-label"],["type","checkbox","formControlName","isactive"],[1,"drawer-footer"],[1,"header-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"error-msg","center-text"],[1,"error-msg"],[4,"ngIf"],["type","text","formControlName","skypeid","placeholder","live:john.doe"],["formControlName","managerid"],["formControlName","sub_manager_id"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"form",1)(2,"section",2)(3,"h2",3),v(4,"Personal Details"),p(),f(5,"div",4)(6,"div",5),I(7,"div",6),f(8,"label",7),v(9," Change Photo "),f(10,"span",8),v(11,"*"),p(),f(12,"input",9),ee("change",function(a){return o.onFileChange(a)}),p()(),U(13,hz,2,0,"div",10),p(),f(14,"div",11)(15,"div",12)(16,"label"),v(17,"First Name "),f(18,"span",8),v(19,"*"),p()(),I(20,"input",13),U(21,fz,2,0,"div",14),p(),f(22,"div",12)(23,"label"),v(24,"Last Name "),f(25,"span",8),v(26,"*"),p()(),I(27,"input",15),U(28,pz,2,0,"div",14),p(),f(29,"div",12)(30,"label"),v(31,"Date of Birth "),f(32,"span",8),v(33,"*"),p()(),I(34,"input",16),U(35,mz,2,0,"div",14),p(),f(36,"div",12)(37,"label"),v(38,"Gender "),f(39,"span",8),v(40,"*"),p()(),f(41,"div",17)(42,"select",18)(43,"option",19),v(44,"Select Gender"),p(),f(45,"option",20),v(46,"Male"),p(),f(47,"option",21),v(48,"Female"),p(),f(49,"option",22),v(50,"Other"),p()(),ke(),f(51,"svg",23),I(52,"path",24),p()(),U(53,gz,2,0,"div",14),p(),Re(),f(54,"div",12)(55,"label"),v(56,"Marital Status "),p(),f(57,"div",17)(58,"select",25)(59,"option",19),v(60,"Select Status"),p(),f(61,"option",26),v(62,"Single"),p(),f(63,"option",27),v(64,"Married"),p(),f(65,"option",28),v(66,"Divorced"),p()(),ke(),f(67,"svg",23),I(68,"path",24),p()(),U(69,bz,2,0,"div",14),p(),Re(),f(70,"div",12)(71,"label"),v(72,"Blood Group "),p(),f(73,"div",17)(74,"select",29)(75,"option",19),v(76,"Select Group"),p(),f(77,"option",30),v(78,"A+"),p(),f(79,"option",31),v(80,"A-"),p(),f(81,"option",32),v(82,"B+"),p(),f(83,"option",33),v(84,"B-"),p(),f(85,"option",34),v(86,"O+"),p(),f(87,"option",35),v(88,"O-"),p(),f(89,"option",36),v(90,"AB+"),p(),f(91,"option",37),v(92,"AB-"),p()(),ke(),f(93,"svg",23),I(94,"path",24),p()(),U(95,vz,2,0,"div",14),p()()()(),Re(),I(96,"hr",38),f(97,"section",2)(98,"h2",3),v(99,"Contact Information"),p(),f(100,"div",39)(101,"div",12)(102,"label"),v(103,"Official Email "),f(104,"span",8),v(105,"*"),p()(),I(106,"input",40),U(107,xz,3,2,"div",14),p(),f(108,"div",12)(109,"label"),v(110,"Alternate Email "),p(),I(111,"input",41),U(112,Ez,3,2,"div",14),p(),f(113,"div",12)(114,"label"),v(115,"Mobile Number "),f(116,"span",8),v(117,"*"),p()(),I(118,"input",42),U(119,Sz,3,2,"div",14),p(),U(120,kz,7,1,"div",43),p()(),I(121,"hr",38),f(122,"section",2)(123,"h2",3),v(124,"Employment Details"),p(),f(125,"div",39)(126,"div",12)(127,"label"),v(128,"Role "),f(129,"span",8),v(130,"*"),p()(),f(131,"div",17)(132,"select",44)(133,"option",45),v(134,"Select Role"),p(),f(135,"option",46),v(136," Manager "),p(),f(137,"option",46),v(138," Employee "),p()(),ke(),f(139,"svg",23),I(140,"path",24),p()(),U(141,Az,2,0,"div",14),p(),Re(),f(142,"div",12)(143,"label"),v(144,"Department "),f(145,"span",8),v(146,"*"),p()(),f(147,"div",17)(148,"select",47),ee("ngModelChange",function(a){return o.getDesignationByDepartment(a)}),f(149,"option",45),v(150,"Select Dept"),p(),U(151,Oz,2,2,"option",48),p(),ke(),f(152,"svg",23),I(153,"path",24),p()(),U(154,Pz,2,0,"div",14),p(),Re(),f(155,"div",12)(156,"label"),v(157,"Position"),f(158,"span",8),v(159,"*"),p()(),f(160,"div",17)(161,"select",49)(162,"option",45),v(163,"Select Position"),p(),U(164,Rz,2,2,"option",48),p(),ke(),f(165,"svg",23),I(166,"path",24),p()(),U(167,Fz,2,0,"div",14),p(),Re(),f(168,"div",12)(169,"label"),v(170,"Joining Date "),f(171,"span",8),v(172,"*"),p()(),I(173,"input",50),U(174,Iz,2,0,"div",14),p(),f(175,"div",12)(176,"label"),v(177,"Shift "),f(178,"span",8),v(179,"*"),p()(),f(180,"div",17)(181,"select",51)(182,"option",45),v(183,"Select Shift"),p(),U(184,Lz,2,2,"option",48),p(),ke(),f(185,"svg",23),I(186,"path",24),p()(),U(187,Nz,2,0,"div",14),p(),U(188,Vz,16,4,"div",43),U(189,Hz,14,3,"div",43),Re(),f(190,"div",12)(191,"label"),v(192,"Attendance ID (Biometric) "),f(193,"span",8),v(194,"*"),p()(),I(195,"input",52),U(196,jz,2,0,"div",14),p(),f(197,"div",12)(198,"label"),v(199,"Password "),f(200,"span",8),v(201,"*"),p()(),f(202,"div",53),I(203,"input",54),f(204,"i",55),ee("click",function(){return o.toggleRegPassword()}),p()(),U(205,Wz,3,2,"div",14),p()(),f(206,"div",56)(207,"div",57)(208,"label",58),I(209,"input",59)(210,"span",60),p(),f(211,"div",61)(212,"span"),v(213,"Work From Home Enabled"),p(),f(214,"small"),v(215,"Allow this user to mark attendance from home"),p()()(),f(216,"div",57)(217,"label",58),I(218,"input",62)(219,"span",60),p(),f(220,"div",61)(221,"span"),v(222,"Active Status"),p(),f(223,"small"),v(224,"User can login to the portal"),p()()()()()()(),f(225,"div",63)(226,"div",64)(227,"button",65),ee("click",function(){return o.onCancel()}),v(228,"Cancel"),p(),f(229,"button",66),ee("click",function(){return o.onSubmit()}),v(230,"Save User"),p()()()),2&r&&(x(1),D("formGroup",o.userForm),x(6),sn("background-image","url("+o.previewUrl+")"),Fe("invalid-upload",(null==o.rf.image_url?null:o.rf.image_url.invalid)&&((null==o.rf.image_url?null:o.rf.image_url.dirty)||(null==o.rf.image_url?null:o.rf.image_url.touched))),x(6),D("ngIf",(null==o.rf.image_url?null:o.rf.image_url.invalid)&&((null==o.rf.image_url?null:o.rf.image_url.dirty)||(null==o.rf.image_url?null:o.rf.image_url.touched))),x(8),D("ngIf",(null==o.rf.firstname?null:o.rf.firstname.invalid)&&((null==o.rf.firstname?null:o.rf.firstname.dirty)||(null==o.rf.firstname?null:o.rf.firstname.touched))),x(7),D("ngIf",(null==o.rf.lastname?null:o.rf.lastname.invalid)&&((null==o.rf.lastname?null:o.rf.lastname.dirty)||(null==o.rf.lastname?null:o.rf.lastname.touched))),x(7),D("ngIf",(null==o.rf.date_of_birth?null:o.rf.date_of_birth.invalid)&&((null==o.rf.date_of_birth?null:o.rf.date_of_birth.dirty)||(null==o.rf.date_of_birth?null:o.rf.date_of_birth.touched))),x(18),D("ngIf",(null==o.rf.gender?null:o.rf.gender.invalid)&&((null==o.rf.gender?null:o.rf.gender.dirty)||(null==o.rf.gender?null:o.rf.gender.touched))),x(16),D("ngIf",(null==o.rf.marital_status?null:o.rf.marital_status.invalid)&&((null==o.rf.marital_status?null:o.rf.marital_status.dirty)||(null==o.rf.marital_status?null:o.rf.marital_status.touched))),x(26),D("ngIf",(null==o.rf.blood_group?null:o.rf.blood_group.invalid)&&((null==o.rf.blood_group?null:o.rf.blood_group.dirty)||(null==o.rf.blood_group?null:o.rf.blood_group.touched))),x(12),D("ngIf",(null==o.rf.email?null:o.rf.email.invalid)&&((null==o.rf.email?null:o.rf.email.dirty)||(null==o.rf.email?null:o.rf.email.touched))),x(5),D("ngIf",(null==o.rf.alternate_email?null:o.rf.alternate_email.invalid)&&((null==o.rf.alternate_email?null:o.rf.alternate_email.dirty)||(null==o.rf.alternate_email?null:o.rf.alternate_email.touched))),x(7),D("ngIf",(null==o.rf.mobile?null:o.rf.mobile.invalid)&&((null==o.rf.mobile?null:o.rf.mobile.dirty)||(null==o.rf.mobile?null:o.rf.mobile.touched))),x(1),D("ngIf",!1),x(13),D("ngValue",null),x(2),D("ngValue","ROLE_MANAGER"),x(2),D("ngValue","ROLE_EMPLOYEE"),x(4),D("ngIf",(null==o.rf.role?null:o.rf.role.invalid)&&((null==o.rf.role?null:o.rf.role.dirty)||(null==o.rf.role?null:o.rf.role.touched))),x(8),D("ngValue",null),x(2),D("ngForOf",o.departments),x(3),D("ngIf",(null==o.rf.deptid?null:o.rf.deptid.invalid)&&((null==o.rf.deptid?null:o.rf.deptid.dirty)||(null==o.rf.deptid?null:o.rf.deptid.touched))),x(8),D("ngValue",null),x(2),D("ngForOf",o.designation),x(3),D("ngIf",(null==o.rf.positionid?null:o.rf.positionid.invalid)&&((null==o.rf.positionid?null:o.rf.positionid.dirty)||(null==o.rf.positionid?null:o.rf.positionid.touched))),x(7),D("ngIf",(null==o.rf.joining_date?null:o.rf.joining_date.invalid)&&((null==o.rf.joining_date?null:o.rf.joining_date.dirty)||(null==o.rf.joining_date?null:o.rf.joining_date.touched))),x(8),D("ngValue",null),x(2),D("ngForOf",o.shifts),x(3),D("ngIf",(null==o.rf.shiftid?null:o.rf.shiftid.invalid)&&((null==o.rf.shiftid?null:o.rf.shiftid.dirty)||(null==o.rf.shiftid?null:o.rf.shiftid.touched))),x(1),D("ngIf",!1),x(1),D("ngIf",!1),x(7),D("ngIf",(null==o.rf.attendanceid?null:o.rf.attendanceid.invalid)&&((null==o.rf.attendanceid?null:o.rf.attendanceid.dirty)||(null==o.rf.attendanceid?null:o.rf.attendanceid.touched))),x(7),D("type",o.showRegPassword?"text":"password"),x(1),Fe("ri-eye-line",!o.showRegPassword)("ri-eye-off-line",o.showRegPassword),x(1),D("ngIf",(null==o.rf.password?null:o.rf.password.invalid)&&((null==o.rf.password?null:o.rf.password.dirty)||(null==o.rf.password?null:o.rf.password.touched))))},dependencies:[Hi,ki,vo,is,ns,Bn,hd,yo,yr,bo,xr,_o],styles:['.page-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;width:100%;box-sizing:border-box;padding-bottom:80px}.drawer-footer[_ngcontent-%COMP%]{flex-shrink:0;background:var(--surface);border-top:1px solid var(--border);padding:16px 24px;display:flex;justify-content:flex-end;align-items:center;z-index:10;box-shadow:0 -4px 12px #0000000d}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.form-header[_ngcontent-%COMP%]{margin-bottom:24px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 4px}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);font-size:14px}.btn[_ngcontent-%COMP%]{padding:8px 20px;border-radius:var(--radius);font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap;min-width:100px}.btn-secondary[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);color:var(--text-main)}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--bg-body)}.btn-primary[_ngcontent-%COMP%]{background:var(--primary);border:1px solid var(--primary);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.main-form[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow-sm)}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0 0 24px;color:var(--primary);display:flex;align-items:center}.divider[_ngcontent-%COMP%]{border:0;height:1px;background:var(--border);margin:30px 0}.profile-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:30px}.avatar-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;gap:12px;width:150px;flex:1 1 150px;min-width:120px}.avatar-preview[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background-size:cover;background-position:center;background-color:var(--bg-body);border:2px solid var(--border)}.avatar-preview.invalid-upload[_ngcontent-%COMP%]{border-color:var(--error-color);border-style:dashed}.upload-btn[_ngcontent-%COMP%]{font-size:13px;color:var(--primary);font-weight:500;cursor:pointer;white-space:nowrap}.upload-btn[_ngcontent-%COMP%]:hover{text-decoration:underline}.center-text[_ngcontent-%COMP%]{text-align:center}.fields-grid[_ngcontent-%COMP%]{flex:999 1 300px;display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px}.three-col[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;min-width:0;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:var(--text-main)}.required[_ngcontent-%COMP%]{color:var(--error-color)}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:40px;padding:0 12px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg-body);color:var(--text-main);font-size:14px;width:100%;box-sizing:border-box;transition:border-color .2s}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:var(--surface)}input.ng-invalid.ng-touched[_ngcontent-%COMP%], select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}.error-msg[_ngcontent-%COMP%]{font-size:.75rem;color:var(--error-color);margin-top:-2px;font-weight:300}.select-wrapper[_ngcontent-%COMP%]{position:relative}select[_ngcontent-%COMP%]{appearance:none;padding-right:30px}.select-arrow[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:12px;height:12px;color:var(--text-muted);pointer-events:none}.toggles-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:30px;margin-top:20px;padding-top:20px;border-top:1px dashed var(--border)}.toggle-group[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;min-width:200px;flex:1 1 auto}.toggle-label[_ngcontent-%COMP%]{display:flex;flex-direction:column}.toggle-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.toggle-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted)}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px;flex-shrink:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--border);transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--primary)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.slider.round[_ngcontent-%COMP%]{border-radius:24px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})();function qz(n,t){1&n&&(ke(),f(0,"svg",41),I(1,"path",42),p())}function Yz(n,t){if(1&n){const e=Tt();f(0,"li",39),ee("click",function(){const o=$e(e).$implicit;return We(ue(3).selectItem(o))}),v(1),U(2,qz,2,0,"svg",40),p()}if(2&n){const e=t.$implicit,i=ue(3);Fe("selected",e.id===(null==i.selectedItem?null:i.selectedItem.id)),x(1),Ge(" ",e.label," "),x(1),D("ngIf",e.id===(null==i.selectedItem?null:i.selectedItem.id))}}function Kz(n,t){1&n&&(f(0,"li",43),v(1," No views found "),p())}function Xz(n,t){if(1&n&&(ke(),Re(),f(0,"ul",36),U(1,Yz,3,4,"li",37),U(2,Kz,2,0,"li",38),p()),2&n){const e=ue(2);x(1),D("ngForOf",e.filteredItems),x(1),D("ngIf",0===e.filteredItems.length)}}function Zz(n,t){if(1&n){const e=Tt();ke(),Re(),f(0,"div",22),ee("click",function(r){return r.stopPropagation()}),f(1,"div",23),ke(),f(2,"svg",24),I(3,"circle",25)(4,"line",26),p(),Re(),f(5,"input",27,28),ee("ngModelChange",function(r){return $e(e),We(ue().searchText=r)})("input",function(){return $e(e),We(ue().filterItems())}),p()(),f(7,"div",29)(8,"div",30),ee("click",function(){return $e(e),We(ue().toggleSection())}),ke(),f(9,"svg",31),I(10,"path",32),p(),v(11," Predefined Views "),p(),U(12,Xz,3,2,"ul",33),p(),Re(),f(13,"div",34),ee("click",function(){return $e(e),We(ue().onCreateCustom())}),f(14,"span",35),v(15,"+"),p(),v(16," Create Custom View "),p()()}if(2&n){const e=ue();x(5),D("ngModel",e.searchText),x(4),Fe("collapsed-arrow",e.isCollapsed),x(3),D("ngIf",!e.isCollapsed)}}function Qz(n,t){if(1&n){const e=Tt();f(0,"div",44),ee("click",function(){return $e(e),We(ue().toggleFilter())}),p()}}let O2=(()=>{const t=class{constructor(i){this.elementRef=i,this.isFilterOpen=!1,this.isOpen=!1,this.isCollapsed=!1,this.searchText="",this.items=[],this.data={},this.selectionChange=new xt,this.initTable=new xt,this.createCustom=new xt,this.filteredItems=[],this.selectedItem=null}ngOnChanges(i){i.items&&(this.filteredItems=[...this.items],this.selectedItem=this.items.find(r=>r.selected)||null)}toggleDropdown(i){i.stopPropagation(),this.isOpen=!this.isOpen,this.isOpen&&(this.searchText="",this.filterItems())}toggleSection(){this.isCollapsed=!this.isCollapsed}selectItem(i){this.selectedItem=i,this.isOpen=!1,this.selectionChange.emit(i)}filterItems(){const i=this.searchText.toLowerCase();this.filteredItems=i?this.items.filter(r=>r.label.toLowerCase().includes(i)):[...this.items]}onCreateCustom(){this.isOpen=!1,this.createCustom.emit()}onDocumentClick(i){this.elementRef.nativeElement.contains(i.target)||(this.isOpen=!1)}toggleFilter(i=""){this.data=[],this.isFilterOpen=!this.isFilterOpen,i&&this.initTable.emit()}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(It))},t.\u0275cmp=Qe({type:t,selectors:[["app-view-selector"]],hostBindings:function(r,o){1&r&&ee("click",function(a){return o.onDocumentClick(a)},0,Fu)},inputs:{items:"items",data:"data"},outputs:{selectionChange:"selectionChange",initTable:"initTable",createCustom:"createCustom"},features:[je],decls:29,vars:14,consts:[[1,"toolbar-container"],[1,"select-wrapper"],["type","button",1,"view-trigger",3,"click"],[1,"trigger-text"],["viewBox","0 0 24 24",1,"trigger-arrow"],["d","M7 10l5 5 5-5z","fill","currentColor"],["class","dropdown-menu",3,"click",4,"ngIf"],[1,"right-section"],[1,"icon-btn","filter-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"divider"],[1,"icon-text-btn",3,"click"],["class","filter-backdrop",3,"click",4,"ngIf"],[1,"filter-drawer"],[1,"drawer-header"],[1,"header-content"],[1,"icon-btn","close-btn",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"drawer-content"],[3,"user","toggleEmitor"],[1,"dropdown-menu",3,"click"],[1,"search-container"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"search-icon"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["type","text","placeholder","Search...",1,"search-input",3,"ngModel","ngModelChange","input"],["searchInput",""],[1,"list-container"],[1,"section-header",3,"click"],["viewBox","0 0 24 24","fill","currentColor",1,"section-arrow"],["d","M7 10l5 5 5-5z"],["class","options-list",4,"ngIf"],[1,"menu-footer",3,"click"],[1,"plus-icon"],[1,"options-list"],["class","menu-item",3,"selected","click",4,"ngFor","ngForOf"],["class","menu-item no-results",4,"ngIf"],[1,"menu-item",3,"click"],["class","item-icon","viewBox","0 0 24 24",4,"ngIf"],["viewBox","0 0 24 24",1,"item-icon"],["d","M12 22a8 8 0 0 1-8-8v-3h2v3a6 6 0 1 0 12 0v-3h2v3a8 8 0 0 1-8 8zm0-12a2 2 0 1 0 0-4 2 2 0 0 0 0 4z","fill","currentColor"],[1,"menu-item","no-results"],[1,"filter-backdrop",3,"click"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"button",2),ee("click",function(a){return o.toggleDropdown(a)}),f(3,"span",3),v(4),p(),ke(),f(5,"svg",4),I(6,"path",5),p()(),U(7,Zz,17,4,"div",6),p(),Re(),f(8,"div",7)(9,"button",8),ee("click",function(){return o.toggleFilter()}),ke(),f(10,"svg",9),I(11,"polygon",10),p()(),Re(),I(12,"div",11),f(13,"button",12),ee("click",function(){return o.toggleFilter()}),v(14," + add user "),p()()(),U(15,Qz,1,0,"div",13),f(16,"div",14)(17,"div",15)(18,"div",16)(19,"h1"),v(20),p(),f(21,"p"),v(22),p()(),f(23,"button",17),ee("click",function(){return o.toggleFilter()}),ke(),f(24,"svg",9),I(25,"line",18)(26,"line",19),p()()(),Re(),f(27,"div",20)(28,"app-user-form",21),ee("toggleEmitor",function(a){return o.toggleFilter(a)}),p()()()),2&r&&(x(2),Fe("active",o.isOpen),x(2),Ae((null==o.selectedItem?null:o.selectedItem.label)||"Select View"),x(3),D("ngIf",o.isOpen),x(2),Fe("active",o.isFilterOpen),x(4),Fe("active",o.isFilterOpen),x(2),D("ngIf",o.isFilterOpen),x(1),Fe("open",o.isFilterOpen),x(4),Ge(" ",null!=o.data&&o.data.id?"Update User":"Create New User"," "),x(2),Ge(" ",null!=o.data&&o.data.id?"Edit the details to onboard employee":"Enter the details to onboard a new employee"," "),x(6),D("user",o.data))},dependencies:[Hi,ki,Bn,yr,Js,Gz],styles:[".toolbar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;width:100%;box-sizing:border-box}.form-header[_ngcontent-%COMP%]{margin-bottom:24px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 4px}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);font-size:14px}.right-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.select-wrapper[_ngcontent-%COMP%]{position:relative;width:280px}.icon-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:transparent;border:none;border-radius:var(--radius);color:var(--text-muted);cursor:pointer;transition:all .2s}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#0000000d;color:var(--text-main)}.icon-btn.active[_ngcontent-%COMP%]{background-color:var(--primary-bg);background-color:color-mix(in srgb,var(--primary) 10%,var(--surface));color:var(--primary)}.icon-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.icon-text-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 10px;background:transparent;border:1px solid var(--primary);border-radius:var(--radius);font-size:14px;color:var(--text-muted);cursor:pointer;transition:all .2s}.icon-text-btn[_ngcontent-%COMP%]:hover{background-color:#0000000d;color:var(--text-main)}.btn-icon-left[_ngcontent-%COMP%]{width:16px;height:16px}.btn-arrow[_ngcontent-%COMP%]{width:10px;height:10px}.divider[_ngcontent-%COMP%]{width:1px;height:20px;background-color:var(--border);margin:0 4px}.view-trigger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:8px 12px;background:var(--surface);border:1px solid var(--accent);border-color:var(--border);border-radius:var(--radius);font-size:14px;font-weight:500;color:var(--text-main);cursor:pointer;transition:all .2s}.view-trigger[_ngcontent-%COMP%]:hover, .view-trigger.active[_ngcontent-%COMP%]{background-color:var(--surface);border-color:var(--border);box-shadow:var(--shadow-sm)}.trigger-arrow[_ngcontent-%COMP%]{width:10px;height:10px;fill:var(--text-muted)}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;margin-top:4px;width:100%;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow-lg);display:flex;flex-direction:column;z-index:100;animation:_ngcontent-%COMP%_fadeIn .1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.search-container[_ngcontent-%COMP%]{padding:8px 12px;border-bottom:1px solid var(--border);display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{width:14px;height:14px;color:var(--text-muted);margin-right:8px}.search-input[_ngcontent-%COMP%]{border:none;outline:none;width:100%;font-size:13px;color:var(--text-main);background:transparent}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted);opacity:.7}.list-container[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;padding:4px 0}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;font-size:13px;font-weight:600;color:var(--text-main);cursor:pointer;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#00000008}.section-arrow[_ngcontent-%COMP%]{width:12px;height:12px;margin-right:8px;transition:transform .2s;color:var(--text-muted)}.collapsed-arrow[_ngcontent-%COMP%]{transform:rotate(-90deg)}.options-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px 8px 32px;font-size:13px;color:var(--text-main);cursor:pointer}.menu-item[_ngcontent-%COMP%]:hover{background-color:#00000008}.menu-item.selected[_ngcontent-%COMP%]{background-color:var(--primary-bg);color:var(--primary);background-color:color-mix(in srgb,var(--primary) 10%,var(--surface))}.menu-item.no-results[_ngcontent-%COMP%]{color:var(--text-muted);cursor:default}.menu-item.no-results[_ngcontent-%COMP%]:hover{background:none}.item-icon[_ngcontent-%COMP%]{width:14px;height:14px;fill:currentColor}.menu-footer[_ngcontent-%COMP%]{border-top:1px solid var(--border);padding:10px 12px;font-size:13px;color:var(--text-muted);cursor:pointer;display:flex;align-items:center;background:var(--bg-body);border-bottom-left-radius:var(--radius);border-bottom-right-radius:var(--radius)}.menu-footer[_ngcontent-%COMP%]:hover{background-color:var(--border);color:var(--primary)}.plus-icon[_ngcontent-%COMP%]{margin-right:6px;font-size:16px;line-height:1}"]}),n})();class Ui{constructor(t){this.table=t}reloadData(t,e,i){return this.table.dataLoader.load(t,void 0,void 0,void 0,e,i)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(t){return this.table.modules.layout.layout(t)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(t){return this.table.eventBus.subscribed(t)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(t){return this.table.externalEvents.subscribed(t)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(t){return this.table.options[t]}setOption(t,e){return typeof e<"u"&&(this.table.options[t]=e),this.table.options[t]}deprecationCheck(t,e,i){return this.table.deprecationAdvisor.check(t,e,i)}deprecationCheckMsg(t,e){return this.table.deprecationAdvisor.checkMsg(t,e)}deprecationMsg(t){return this.table.deprecationAdvisor.msg(t)}module(t){return this.table.module(t)}}class $t{static elVisible(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)}static elOffset(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}static retrieveNestedData(t,e,i){var s,r=t?e.split(t):[e],o=r.length;for(let a=0;a<o&&(s=i=i[r[a]],i);a++);return s}static deepClone(t,e,i=[]){var r={}.__proto__,o=[].__proto__;for(var s in e||(e=Object.assign(Array.isArray(t)?[]:{},t)),t){let l,c,a=t[s];null!=a&&"object"==typeof a&&(a.__proto__===r||a.__proto__===o)&&(l=i.findIndex(d=>d.subject===a),l>-1?e[s]=i[l].copy:(c=Object.assign(Array.isArray(a)?[]:{},a),i.unshift({subject:a,copy:c}),e[s]=this.deepClone(a,c,i)))}return e}}let Jz=class sT extends Ui{constructor(t,e,i){super(t),this.element=e,this.container=this._lookupContainer(),this.parent=i,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var t=this.table.options.popupContainer;return"string"==typeof t?(t=document.querySelector(t))||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)"):!0===t&&(t=this.table.element),t&&!this._checkContainerIsParent(t)&&(t=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),t||(t=document.body),t}_checkContainerIsParent(t,e=this.table.element){return t===e||!!e.parentNode&&this._checkContainerIsParent(t,e.parentNode)}renderCallback(t){this.renderedCallback=t}containerEventCoords(t){var e=!(t instanceof MouseEvent),i=e?t.touches[0].pageX:t.pageX,r=e?t.touches[0].pageY:t.pageY;if(this.container!==document.body){let o=$t.elOffset(this.container);i-=o.left,r-=o.top}return{x:i,y:r}}elementPositionCoords(t,e="right"){var r,o,s,i=$t.elOffset(t);switch(this.container!==document.body&&(r=$t.elOffset(this.container),i.left-=r.left,i.top-=r.top),e){case"right":o=i.left+t.offsetWidth,s=i.top-1;break;case"bottom":o=i.left,s=i.top+t.offsetHeight;break;case"left":o=i.left,s=i.top-1;break;case"top":o=i.left,s=i.top;break;case"center":o=i.left+t.offsetWidth/2,s=i.top+t.offsetHeight/2}return{x:o,y:s,offset:i}}show(t,e){var i,r,o,s,a;return this.destroyed||this.table.destroyed||(t instanceof HTMLElement?(o=t,s=(a=this.elementPositionCoords(t,e)).offset,i=a.x,r=a.y):"number"==typeof t?(s={top:0,left:0},i=t,r=e):(i=(a=this.containerEventCoords(t)).x,r=a.y,this.reversedX=!1),this.element.style.top=r+"px",this.element.style.left=i+"px",this.container.appendChild(this.element),"function"==typeof this.renderedCallback&&this.renderedCallback(),this._fitToScreen(i,r,o,s,e),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",l=>{l.stopPropagation()})),this}_fitToScreen(t,e,i,r,o){var s=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;(t+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",this.element.style.right=i?this.container.offsetWidth-r.left+"px":this.container.offsetWidth-t+"px",this.reversedX=!0);let a=Math.max(this.container.offsetHeight,s?this.container.scrollHeight:0);e+this.element.offsetHeight>a&&(i?this.element.style.top="bottom"===o?parseInt(this.element.style.top)-this.element.offsetHeight-i.offsetHeight-1+"px":parseInt(this.element.style.top)-this.element.offsetHeight+i.offsetHeight+1+"px":this.element.style.height=a+"px")}isVisible(){return this.visible}hideOnBlur(t){return this.blurable=!0,this.visible&&(setTimeout(()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)},100),this.blurCallback=t),this}_escapeCheck(t){27==t.keyCode&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(t=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!t&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(t){return this.childPopup&&this.childPopup.hide(),this.childPopup=new sT(this.table,t,this),this.childPopup}};class gt extends Ui{constructor(t,e){super(t),this._handler=null}initialize(){}registerTableOption(t,e){this.table.optionsList.register(t,e)}registerColumnOption(t,e){this.table.columnManager.optionsList.register(t,e)}registerTableFunction(t,e){typeof this.table[t]>"u"?this.table[t]=(...i)=>(this.table.initGuard(t),e(...i)):console.warn("Unable to bind table function, name already in use",t)}registerComponentFunction(t,e,i){return this.table.componentFunctionBinder.bind(t,e,i)}registerDataHandler(t,e){this.table.rowManager.registerDataPipelineHandler(t,e),this._handler=t}registerDisplayHandler(t,e){this.table.rowManager.registerDisplayPipelineHandler(t,e),this._handler=t}displayRows(t){var i,e=this.table.rowManager.displayRows.length-1;if(this._handler&&(i=this.table.rowManager.displayPipeline.findIndex(r=>r.handler===this._handler))>-1&&(e=i),t&&(e+=t),this._handler)return e>-1?this.table.rowManager.getDisplayRows(e):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(t,e){e||(e=this._handler),e&&this.table.rowManager.refreshActiveData(e,!1,t)}footerAppend(t){return this.table.footerManager.append(t)}footerPrepend(t){return this.table.footerManager.prepend(t)}footerRemove(t){return this.table.footerManager.remove(t)}popup(t,e){return new Jz(this.table,t,e)}alert(t,e){return this.table.alertManager.alert(t,e)}clearAlert(){return this.table.alertManager.clear()}}var eH={rownum:function(n,t,e,i,r,o){return o.getPosition()}};let tH=(()=>{class n extends gt{static moduleName="accessor";static accessors=eH;constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var i=!1,r={};this.allowedTypes.forEach(o=>{var a,s="accessor"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[s]&&(a=this.lookupAccessor(e.definition[s]))&&(i=!0,r[s]={accessor:a,params:e.definition[s+"Params"]||{}})}),i&&(e.modules.accessor=r)}lookupAccessor(e){var i=!1;switch(typeof e){case"string":n.accessors[e]?i=n.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":i=e}return i}transformRow(e,i){var r="accessor"+(i.charAt(0).toUpperCase()+i.slice(1)),o=e.getComponent(),s=$t.deepClone(e.data||{});return this.table.columnManager.traverse(function(a){var l,c,d,u;a.modules.accessor&&(c=a.modules.accessor[r]||a.modules.accessor.accessor||!1)&&"undefined"!=(l=a.getFieldValue(s))&&(u=a.getComponent(),d="function"==typeof c.params?c.params(l,s,i,u,o):c.params,a.setFieldValue(s,c.accessor(l,s,i,d,u,o)))}),s}}return n})();var iH={method:"GET"};function K0(n,t){var e=[];if(t=t||"",Array.isArray(n))n.forEach((r,o)=>{e=e.concat(K0(r,t?t+"["+o+"]":o))});else if("object"==typeof n)for(var i in n)e=e.concat(K0(n[i],t?t+"["+i+"]":i));else e.push({key:t,value:n});return e}function nH(n){var t=K0(n),e=[];return t.forEach(function(i){e.push(encodeURIComponent(i.key)+"="+encodeURIComponent(i.value))}),e.join("&")}function P2(n,t,e){return n&&e&&Object.keys(e).length&&(!t.method||"get"==t.method.toLowerCase())&&(t.method="get",n+=(n.includes("?")?"&":"?")+nH(e)),n}function rH(n,t,e){var i;return new Promise((r,o)=>{if(n=this.urlGenerator.call(this.table,n,t,e),"GET"!=t.method.toUpperCase())if(i="object"==typeof this.table.options.ajaxContentType?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType]){for(var s in i.headers)t.headers||(t.headers={}),typeof t.headers[s]>"u"&&(t.headers[s]=i.headers[s]);t.body=i.body.call(this,n,t,e)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);n?(typeof t.headers>"u"&&(t.headers={}),typeof t.headers.Accept>"u"&&(t.headers.Accept="application/json"),typeof t.headers["X-Requested-With"]>"u"&&(t.headers["X-Requested-With"]="XMLHttpRequest"),typeof t.mode>"u"&&(t.mode="cors"),"cors"==t.mode?(typeof t.headers.Origin>"u"&&(t.headers.Origin=window.location.origin),typeof t.credentials>"u"&&(t.credentials="same-origin")):typeof t.credentials>"u"&&(t.credentials="include"),fetch(n,t).then(a=>{a.ok?a.json().then(l=>{r(l)}).catch(l=>{o(l),console.warn("Ajax Load Error - Invalid JSON returned",l)}):(console.error("Ajax Load Error - Connection Error: "+a.status,a.statusText),o(a))}).catch(a=>{console.error("Ajax Load Error - Connection Error: ",a),o(a)})):(console.warn("Ajax Load Error - No URL Set"),r([]))})}function X0(n,t){var e=[];if(t=t||"",Array.isArray(n))n.forEach((r,o)=>{e=e.concat(X0(r,t?t+"["+o+"]":o))});else if("object"==typeof n)for(var i in n)e=e.concat(X0(n[i],t?t+"["+i+"]":i));else e.push({key:t,value:n});return e}var oH={json:{headers:{"Content-Type":"application/json"},body:function(n,t,e){return JSON.stringify(e)}},form:{headers:{},body:function(n,t,e){var i=X0(e),r=new FormData;return i.forEach(function(o){r.append(o.key,o.value)}),r}}};let sH=(()=>{class n extends gt{static moduleName="ajax";static defaultConfig=iH;static defaultURLGenerator=P2;static defaultLoaderPromise=rH;static contentTypeFormatters=oH;constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=n.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||n.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||n.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,i,r,o){var s=this.table.options.ajaxParams;return s&&("function"==typeof s&&(s=s.call(this.table)),o=Object.assign(Object.assign({},s),o)),o}requestDataCheck(e,i,r,o){return!((e||!this.url)&&"string"!=typeof e)}requestData(e,i,r,o,s){var a;return!s&&this.requestDataCheck(e)?(e&&this.setUrl(e),a=this.generateConfig(r),this.sendRequest(this.url,i,a)):s}setDefaultConfig(e={}){this.config=Object.assign({},n.defaultConfig),"string"==typeof e?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var i=Object.assign({},this.config);return"string"==typeof e?i.method=e:Object.assign(i,e),i}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,i,r){return!1!==this.table.options.ajaxRequesting.call(this.table,e,i)?this.loaderPromise(e,r,i).then(o=>(this.table.options.ajaxResponse&&(o=this.table.options.ajaxResponse.call(this.table,e,i,o)),o)):Promise.reject()}}return n})();var aH={replace:function(n){return this.table.setData(n)},update:function(n){return this.table.updateOrAddData(n)},insert:function(n){return this.table.addData(n)}},lH={table:function(n){var t=[],e=!0,i=this.table.columnManager.columns,r=[],o=[];return(n=n.split("\n")).forEach(function(s){t.push(s.split("\t"))}),!(!t.length||1===t.length&&t[0].length<2)&&(t[0].forEach(function(s){var a=i.find(function(l){return s&&l.definition.title&&s.trim()&&l.definition.title.trim()===s.trim()});a?r.push(a):e=!1}),e||(e=!0,r=[],t[0].forEach(function(s){var a=i.find(function(l){return s&&l.field&&s.trim()&&l.field.trim()===s.trim()});a?r.push(a):e=!1}),e||(r=this.table.columnManager.columnsByIndex)),e&&t.shift(),t.forEach(function(s){var a={};s.forEach(function(l,c){r[c]&&(a[r[c].field]=l)}),o.push(a)}),o)}},uH={keybindings:{bindings:{copyToClipboard:["ctrl + 67","meta + 67"]},actions:{copyToClipboard:function(n){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}}}};let hH=(()=>{class n extends gt{static moduleName="clipboard";static moduleExtensions=uH;static pasteActions=aH;static pasteParsers=lH;constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(!0===this.mode||"copy"===this.mode)&&this.table.element.addEventListener("copy",e=>{var i,r,o;this.blocked||(e.preventDefault(),this.customSelection?(i=this.customSelection,this.table.options.clipboardCopyFormatter&&(i=this.table.options.clipboardCopyFormatter("plain",i))):(o=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),i=(r=this.table.modules.export.generateHTMLTable(o))?this.generatePlainContent(o):"",this.table.options.clipboardCopyFormatter&&(i=this.table.options.clipboardCopyFormatter("plain",i),r=this.table.options.clipboardCopyFormatter("html",r))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",i):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",i),r&&e.clipboardData.setData("text/html",r)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",i),r&&e.originalEvent.clipboardData.setData("text/html",r)),this.dispatchExternal("clipboardCopied",i,r),this.reset())}),(!0===this.mode||"paste"===this.mode)&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var i=[];return e.forEach(r=>{var o=[];r.columns.forEach(s=>{var a="";if(s)if("group"===r.type&&(s.value=s.component.getKey()),null===s.value)a="";else switch(typeof s.value){case"object":a=JSON.stringify(s.value);break;case"undefined":a="";break;default:a=s.value}o.push(a)}),i.push(o.join("\t"))}),i.join("\n")}copy(e,i){var r,o;this.blocked=!1,this.customSelection=!1,(!0===this.mode||"copy"===this.mode)&&(this.rowRange=e||this.table.options.clipboardCopyRowRange,typeof window.getSelection<"u"&&typeof document.createRange<"u"?((e=document.createRange()).selectNodeContents(this.table.element),(r=window.getSelection()).toString()&&i&&(this.customSelection=r.toString()),r.removeAllRanges(),r.addRange(e)):typeof document.selection<"u"&&typeof document.body.createTextRange<"u"&&((o=document.body.createTextRange()).moveToElementText(this.table.element),o.select()),document.execCommand("copy"),r&&r.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=n.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=n.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e}}paste(e){var i,r,o;this.checkPasteOrigin(e)&&(i=this.getPasteData(e),(r=this.pasteParser.call(this,i))?(e.preventDefault(),this.table.modExists("mutator")&&(r=this.mutateData(r)),o=this.pasteAction.call(this,r),this.dispatchExternal("clipboardPasted",i,r,o)):this.dispatchExternal("clipboardPasteError",i))}mutateData(e){var i=[];return Array.isArray(e)?e.forEach(r=>{i.push(this.table.modules.mutator.transformRow(r,"clipboard"))}):i=e,i}checkPasteOrigin(e){var i=!0;return(this.confirm("clipboard-paste",[e])||!["DIV","SPAN"].includes(e.target.tagName))&&(i=!1),i}getPasteData(e){var i;return window.clipboardData&&window.clipboardData.getData?i=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?i=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(i=e.originalEvent.clipboardData.getData("text/plain")),i}}return n})();class fH{constructor(t){return this._row=t,new Proxy(this,{get:function(e,i,r){return typeof e[i]<"u"?e[i]:e._row.table.componentFunctionBinder.handle("row",e._row,i)}})}getData(t){return this._row.getData(t)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var t=[];return this._row.getCells().forEach(function(e){t.push(e.getComponent())}),t}getCell(t){var e=this._row.getCell(t);return!!e&&e.getComponent()}_getSelf(){return this._row}}class R2{constructor(t){return this._cell=t,new Proxy(this,{get:function(e,i,r){return typeof e[i]<"u"?e[i]:e._cell.table.componentFunctionBinder.handle("cell",e._cell,i)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(t){return this._cell.row.getData(t)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(t,e){typeof e>"u"&&(e=!0),this._cell.setValue(t,e)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class yd extends Ui{constructor(t,e){super(t.table),this.table=t.table,this.column=t,this.row=e,this.element=null,this.value=null,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.column.isRowHeader&&this.element.classList.add("tabulator-row-header")}_configureCell(){var t=this.element,e=this.column.getField();t.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(t.style.display="inline-flex",t.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[this.column.vertAlign]||"",this.column.hozAlign&&(t.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[this.column.hozAlign]||"")),e&&t.setAttribute("tabulator-field",e),this.column.definition.cssClass&&this.column.definition.cssClass.split(" ").forEach(s=>{t.classList.add(s)}),this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var t;switch(typeof(t=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value))){case"object":if(t instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(t)}else this.element.innerHTML="",null!=t&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",t);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=t}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(t){return this.loaded||(this.loaded=!0,t||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(t,e,i){this.setValueProcessData(t,e,i)&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(t,e,i){var r=!1;return(this.value!==t||i)&&(r=!0,e&&(t=this.chain("cell-value-changing",[this,t],null,t))),this.setValueActual(t),r&&this.dispatch("cell-value-changed",this),r}setValueActual(t){this.oldValue=this.value,this.value=t,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,t),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new R2(this)),this.component}}class F2{constructor(t){return this._column=t,this.type="ColumnComponent",new Proxy(this,{get:function(e,i,r){return typeof e[i]<"u"?e[i]:e._column.table.componentFunctionBinder.handle("column",e._column,i)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var t=[];return this._column.cells.forEach(function(e){t.push(e.getComponent())}),t}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(t){t.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(t){t.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var t=[];return this._column.columns.length&&this._column.columns.forEach(function(e){t.push(e.getComponent())}),t}getParentColumn(){return this._column.getParentComponent()}_getSelf(){return this._column}scrollTo(t,e){return this._column.table.columnManager.scrollToColumn(this._column,t,e)}getTable(){return this._column.table}move(t,e){var i=this._column.table.columnManager.findColumn(t);i?this._column.table.columnManager.moveColumn(this._column,i,e):console.warn("Move Error - No matching column found:",i)}getNextColumn(){var t=this._column.nextColumn();return!!t&&t.getComponent()}getPrevColumn(){var t=this._column.prevColumn();return!!t&&t.getComponent()}updateDefinition(t){return this._column.updateDefinition(t)}getWidth(){return this._column.getWidth()}setWidth(t){var e;return e=!0===t?this._column.reinitializeWidth(!0):this._column.setWidth(t),this._column.table.columnManager.rerenderColumns(!0),e}}var I2={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};let xd=(()=>{class n extends Ui{static defaultOptionList=I2;constructor(e,i,r){super(i.table),this.definition=e,this.parent=i,this.type="column",this.columns=[],this.cells=[],this.isGroup=!1,this.isRowHeader=r,this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((o,s)=>{var a=new n(o,this);this.attachColumn(a)}),this.checkColumnVisibility()):i.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.isRowHeader&&e.classList.add("tabulator-row-header"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end"}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let i in e)typeof this.definition[i]>"u"&&(this.definition[i]=e[i]);this.definition=this.table.columnManager.optionsList.generate(n.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{-1===n.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;this.dispatch("column-layout",this),typeof e.visible<"u"&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass&&e.cssClass.split(" ").forEach(r=>{this.element.classList.add(r)}),e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,i=document.createElement("div");if(i.classList.add("tabulator-col-title"),e.headerWordWrap&&i.classList.add("tabulator-col-title-wrap"),e.editableTitle){var r=document.createElement("input");r.classList.add("tabulator-title-editor"),r.addEventListener("click",o=>{o.stopPropagation(),r.focus()}),r.addEventListener("mousedown",o=>{o.stopPropagation()}),r.addEventListener("change",()=>{e.title=r.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),i.appendChild(r),e.field?this.langBind("columns|"+e.field,o=>{r.value=o||e.title||"&nbsp;"}):r.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,o=>{this._formatColumnHeaderTitle(i,o||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(i,e.title||"&nbsp;");return i}_formatColumnHeaderTitle(e,i){var r=this.chain("column-format",[this,i,e],null,()=>i);switch(typeof r){case"object":r instanceof Node?e.appendChild(r):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",r));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=r}}_buildGroupHeader(){this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass&&this.definition.cssClass.split(" ").forEach(i=>{this.element.classList.add(i)}),this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var s,i=e,r=this.fieldStructure,o=r.length;for(let a=0;a<o&&(s=i=i[r[a]],i);a++);return s}_setFlatData(e,i){this.field&&(e[this.field]=i)}_setNestedData(e,i){var r=e,o=this.fieldStructure,s=o.length;for(let a=0;a<s;a++)if(a==s-1)r[o[a]]=i;else{if(!r[o[a]]){if(!(typeof i<"u"))break;r[o[a]]={}}r=r[o[a]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,i){var r=this.parent.isGroup?this.parent.getGroupElement().clientHeight:i||this.parent.getHeadersElement().clientHeight;this.element.style.height=r+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=r-this.contentElement.offsetHeight+"px"),this.columns.forEach(function(o){o.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()}),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(e){var i=[];return e?this.columns.forEach(r=>{i.push(r),i=i.concat(r.getColumns(!0))}):i=this.columns,i}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var i=[];return this.isGroup&&e&&(this.columns.forEach(function(r){i.push(r.getDefinition(!0))}),this.definition.columns=i),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(i){i.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,i){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(r){r.show()}),!this.isGroup&&null===this.width&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,i),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,i){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(r){r.hide()}),this.dispatch("column-hide",this,i),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(i){i.visible&&(e+=i.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.table.initialized&&(this.element.style.width=e+"px"),this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var i=this.columns.indexOf(e);i>-1&&this.columns.splice(i,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(i){i.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this),this.subscribedExternal("columnWidth")&&this.dispatchExternal("columnWidth",this.getComponent())}checkCellHeights(){var e=[];this.cells.forEach(function(i){i.row.heightInitialized&&(null!==i.row.getElement().offsetParent?(e.push(i.row),i.row.clearCellHeight()):i.row.heightInitialized=!1)}),e.forEach(function(i){i.calcHeight()}),e.forEach(function(i){i.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(i){i.visible&&(e+=i.getWidth())}):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(i){i.setMinWidth()})}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(i){i.setMaxWidth()})}delete(){return new Promise((e,i)=>{this.isGroup&&this.columns.forEach(function(o){o.delete()}),this.dispatch("column-delete",this);var r=this.cells.length;for(let o=0;o<r;o++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),this.dispatch("column-deleted",this),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var i=new yd(this,e);return this.cells.push(i),i}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._nextVisibleColumn(e+1)}_nextVisibleColumn(e){var i=this.table.columnManager.getColumnByIndex(e);return!i||i.visible?i:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._prevVisibleColumn(e-1)}_prevVisibleColumn(e){var i=this.table.columnManager.getColumnByIndex(e);return!i||i.visible?i:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,typeof this.definition.width<"u"&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(o=>{o.clearWidth()}));var i=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(o=>{var s=o.getWidth();s>i&&(i=s)}),i)){var r=i+1;e?this.setWidth(r):(this.maxInitialWidth&&!e&&(r=Math.min(r,this.maxInitialWidth)),this.setWidthActual(r))}}}updateDefinition(e){var i;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(i=Object.assign({},this.getDefinition()),i=Object.assign(i,e),this.table.columnManager.addColumn(i,!1,this).then(r=>(i.field==this.field&&(this.field=!1),this.delete().then(()=>r.getComponent()))))}deleteCell(e){var i=this.cells.indexOf(e);i>-1&&this.cells.splice(i,1)}getComponent(){return this.component||(this.component=new F2(this)),this.component}getPosition(){return this.table.columnManager.getVisibleColumnsByIndex().indexOf(this)+1}getParentComponent(){return this.parent instanceof n&&this.parent.getComponent()}}return n})();class If{constructor(t){return this._row=t,new Proxy(this,{get:function(e,i,r){return typeof e[i]<"u"?e[i]:e._row.table.componentFunctionBinder.handle("row",e._row,i)}})}getData(t){return this._row.getData(t)}getElement(){return this._row.getElement()}getCells(){var t=[];return this._row.getCells().forEach(function(e){t.push(e.getComponent())}),t}getCell(t){var e=this._row.getCell(t);return!!e&&e.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(t){return this._row.watchPosition(t)}delete(){return this._row.delete()}scrollTo(t,e){return this._row.table.rowManager.scrollToRow(this._row,t,e)}move(t,e){this._row.moveToRow(t,e)}update(t){return this._row.updateData(t)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var t=this._row.nextRow();return t&&t.getComponent()}getPrevRow(){var t=this._row.prevRow();return t&&t.getComponent()}}class Qi extends Ui{constructor(t,e,i="row"){super(e.table),this.parent=e,this.data={},this.type=i,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(t)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var t=document.createElement("div");t.classList.add("tabulator-row"),t.setAttribute("role","row"),this.element=t}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(t,e){if(this.create(),!this.initialized||t){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,e),t&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,e)}rendered(){this.cells.forEach(t=>{t.cellRendered()})}reinitializeHeight(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(t){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(t){var e=0,i=0;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(i=this.calcMinHeight(),e=this.calcMaxHeight(),this.height=t?Math.max(e,i):this.manualHeight?this.height:Math.max(e,i)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}calcMinHeight(){return this.table.options.resizableRows?this.element.clientHeight:0}calcMaxHeight(){var t=0;return this.cells.forEach(function(e){var i=e.getHeight();i>t&&(t=i)}),t}setCellHeight(){this.cells.forEach(function(t){t.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(t){t.clearHeight()})}normalizeHeight(t){t&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(t),this.setCellHeight()}setHeight(t,e){(this.height!=t||e)&&(this.manualHeight=!0,this.height=t,this.heightStyled=t?t+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight,this.subscribedExternal("rowHeight")&&this.dispatchExternal("rowHeight",this.getComponent()))}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)}setData(t){this.data=this.chain("row-data-init-before",[this,t],void 0,t),this.dispatch("row-data-init-after",this)}updateData(t){var r,e=this.element&&$t.elVisible(this.element),i={};return new Promise((o,s)=>{"string"==typeof t&&(t=JSON.parse(t)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(i=Object.assign(i,this.data),i=Object.assign(i,t)),r=this.chain("row-data-changing",[this,i,t],null,t);for(let a in r)this.data[a]=r[a];this.dispatch("row-data-save-after",this);for(let a in t)this.table.columnManager.getColumnsByFieldRoot(a).forEach(c=>{let d=this.getCell(c.getField());if(d){let u=c.getFieldValue(r);d.getValue()!==u&&(d.setValueProcessData(u),e&&d.cellRendered())}});e?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,e,t),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),o()})}getData(t){return t?this.chain("row-data-retrieve",[this,t],null,this.data):this.data}getCell(t){return t=this.table.columnManager.findColumn(t),!this.initialized&&0===this.cells.length&&this.generateCells(),this.cells.find(function(i){return i.column===t})}getCellIndex(t){return this.cells.findIndex(function(e){return e===t})}findCell(t){return this.cells.find(e=>e.element===t)}getCells(){return!this.initialized&&0===this.cells.length&&this.generateCells(),this.cells}nextRow(){return this.table.rowManager.nextDisplayRow(this,!0)||!1}prevRow(){return this.table.rowManager.prevDisplayRow(this,!0)||!1}moveToRow(t,e){var i=this.table.rowManager.findRow(t);i?(this.table.rowManager.moveRowActual(this,i,!e),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",t)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(t){this.detachModules(),this.table.rowManager.deleteRow(this,t),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var t=this.cells.length;for(let e=0;e<t;e++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return!!this.isDisplayed()&&this.position}setPosition(t){t!=this.position&&(this.position=t,this.positionWatchers.forEach(e=>{e(this.position)}))}watchPosition(t){this.positionWatchers.push(t),t(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new If(this)),this.component}}var pH={avg:function(n,t,e){var i=0,r=typeof e.precision<"u"?e.precision:2;return n.length&&(i=n.reduce(function(o,s){return Number(o)+Number(s)}),i/=n.length,i=!1!==r?i.toFixed(r):i),parseFloat(i).toString()},max:function(n,t,e){var i=null,r=typeof e.precision<"u"&&e.precision;return n.forEach(function(o){((o=Number(o))>i||null===i)&&(i=o)}),null!==i?!1!==r?i.toFixed(r):i:""},min:function(n,t,e){var i=null,r=typeof e.precision<"u"&&e.precision;return n.forEach(function(o){((o=Number(o))<i||null===i)&&(i=o)}),null!==i?!1!==r?i.toFixed(r):i:""},sum:function(n,t,e){var i=0,r=typeof e.precision<"u"&&e.precision;return n.length&&n.forEach(function(o){o=Number(o),i+=isNaN(o)?0:Number(o)}),!1!==r?i.toFixed(r):i},concat:function(n,t,e){var i=0;return n.length&&(i=n.reduce(function(r,o){return String(r)+String(o)})),i},count:function(n,t,e){var i=0;return n.length&&n.forEach(function(r){r&&i++}),i},unique:function(n,t,e){return n.filter((r,o)=>(n||0===r)&&n.indexOf(r)===o).length}};let mH=(()=>{class n extends gt{static moduleName="columnCalcs";static calculations=pH;constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new xd({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,i){return this.topRow&&i.unshift(this.topRow),this.botRow&&i.push(this.botRow),i}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?(("table"==this.table.options.columnCalcs||"both"==this.table.options.columnCalcs)&&this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var i=e.definition,r={topCalcParams:i.topCalcParams||{},botCalcParams:i.bottomCalcParams||{}};if(i.topCalc){switch(typeof i.topCalc){case"string":n.calculations[i.topCalc]?r.topCalc=n.calculations[i.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",i.topCalc);break;case"function":r.topCalc=i.topCalc}r.topCalc&&(e.modules.columnCalcs=r,this.topCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(i.bottomCalc){switch(typeof i.bottomCalc){case"string":n.calculations[i.bottomCalc]?r.botCalc=n.calculations[i.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",i.bottomCalc);break;case"function":r.botCalc=i.bottomCalc}r.botCalc&&(e.modules.columnCalcs=r,this.botCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){var e=document.createDocumentFragment();this.topInitialized||(e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var i,r;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(i=this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),r=this.generateRow("top",i),this.topRow=r;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(r.getElement()),r.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),r=this.generateRow("bottom",i),this.botRow=r;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(r.getElement()),r.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)&&this.table.modules.groupRows.getChildGroups().forEach(i=>{this.recalcGroup(i)})}recalcGroup(e){var i,r;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(i=this.rowsToData(e.rows),r=this.generateRowData("bottom",i),e.calcs.bottom.updateData(r),e.calcs.bottom.reinitialize()),e.calcs.top&&(i=this.rowsToData(e.rows),r=this.generateRowData("top",i),e.calcs.top.updateData(r),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var i=[],r=this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs,o=this.table.modules.dataTree;return e.forEach(s=>{i.push(s.getData()),r&&s.modules.dataTree?.open&&this.rowsToData(o.getFilteredTreeChildren(s)).forEach(a=>{i.push(s)})}),i}generateRow(e,i){var o,r=this.generateRowData(e,i);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),o=new Qi(r,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),o.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),o.component=!1,o.getComponent=()=>(o.component||(o.component=new fH(o)),o.component),o.generateCells=()=>{var s=[];this.table.columnManager.columnsByIndex.forEach(a=>{this.genColumn.setField(a.getField()),this.genColumn.hozAlign=a.hozAlign,this.genColumn.modules.format=a.definition[e+"CalcFormatter"]&&this.table.modExists("format")?{formatter:this.table.modules.format.lookupFormatter(a.definition[e+"CalcFormatter"]),params:a.definition[e+"CalcFormatterParams"]||{}}:{formatter:this.table.modules.format.lookupFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=a.definition.cssClass;var l=new yd(this.genColumn,o);l.getElement(),l.column=a,l.setWidth(),a.cells.push(l),s.push(l),a.visible||l.hide()}),o.cells=s},o}generateRowData(e,i){var a,l,r={},s="top"==e?"topCalc":"botCalc";return("top"==e?this.topCalcs:this.botCalcs).forEach(function(c){var d=[];c.modules.columnCalcs&&c.modules.columnCalcs[s]&&(i.forEach(function(u){d.push(c.getFieldValue(u))}),a="function"==typeof c.modules.columnCalcs[l=s+"Params"]?c.modules.columnCalcs[l](d,i):c.modules.columnCalcs[l],c.setFieldValue(r,c.modules.columnCalcs[s](d,i,a)))}),r}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(r=>{e[r.getKey()]=this.getGroupResults(r)}):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var i=e._getSelf(),r=e.getSubGroups(),o={};return r.forEach(a=>{o[a.getKey()]=this.getGroupResults(a)}),{top:i.calcs.top?i.calcs.top.getData():{},bottom:i.calcs.bottom?i.calcs.bottom.getData():{},groups:o}}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}}return n})(),gH=(()=>class n extends gt{static moduleName="dataTree";constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,i=this.table.options;switch(this.field=i.dataTreeChildField,this.indent=i.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),i.dataTreeBranchElement?!0===i.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof i.dataTreeBranchElement?((e=document.createElement("div")).innerHTML=i.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=i.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),i.dataTreeCollapseElement?"string"==typeof i.dataTreeCollapseElement?((e=document.createElement("div")).innerHTML=i.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=i.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),i.dataTreeExpandElement?"string"==typeof i.dataTreeExpandElement?((e=document.createElement("div")).innerHTML=i.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=i.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof i.dataTreeStartExpanded){case"boolean":this.startOpen=function(r,o){return i.dataTreeStartExpanded};break;case"function":this.startOpen=i.dataTreeStartExpanded;break;default:this.startOpen=function(r,o){return i.dataTreeStartExpanded[o]}}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){e&&this.table.rowManager.getRows().forEach(r=>{this.reinitializeRowChildren(r)})}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||!!e&&e.field}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(i=>{e=e.concat(this.getTreeChildren(i,!1,!0))}),e}rowDataChanged(e,i,r){this.redrawNeeded(r)&&(this.initializeRow(e),i&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){e.column.getField()===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var i=e.getData()[this.field],r=Array.isArray(i),o=r||!r&&"object"==typeof i&&null!==i;!o&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!o&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:!!o&&(e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0)),controlEl:!(!e.modules.dataTree||!o)&&e.modules.dataTree.controlEl,branchEl:!(!e.modules.dataTree||!o)&&e.modules.dataTree.branchEl,parent:!!e.modules.dataTree&&e.modules.dataTree.parent,children:o}}reinitializeRowChildren(e){this.getTreeChildren(e,!1,!0).forEach(function(r){r.reinitialize(!0)})}layoutRow(e){var r=(this.elementField?e.getCell(this.elementField):e.getCells()[0]).getElement(),o=e.modules.dataTree;o.branchEl&&(o.branchEl.parentNode&&o.branchEl.parentNode.removeChild(o.branchEl),o.branchEl=!1),o.controlEl&&(o.controlEl.parentNode&&o.controlEl.parentNode.removeChild(o.controlEl),o.controlEl=!1),this.generateControlElement(e,r),e.getElement().classList.add("tabulator-tree-level-"+o.index),o.index&&(this.branchEl?(o.branchEl=this.branchEl.cloneNode(!0),r.insertBefore(o.branchEl,r.firstChild),this.table.rtl?o.branchEl.style.marginRight=(o.branchEl.offsetWidth+o.branchEl.style.marginLeft)*(o.index-1)+o.index*this.indent+"px":o.branchEl.style.marginLeft=(o.branchEl.offsetWidth+o.branchEl.style.marginRight)*(o.index-1)+o.index*this.indent+"px"):this.table.rtl?r.style.paddingRight=parseInt(window.getComputedStyle(r,null).getPropertyValue("padding-right"))+o.index*this.indent+"px":r.style.paddingLeft=parseInt(window.getComputedStyle(r,null).getPropertyValue("padding-left"))+o.index*this.indent+"px")}generateControlElement(e,i){var r=e.modules.dataTree,o=r.controlEl;i=i||e.getCells()[0].getElement(),!1!==r.children&&(r.open?(r.controlEl=this.collapseEl.cloneNode(!0),r.controlEl.addEventListener("click",s=>{s.stopPropagation(),this.collapseRow(e)})):(r.controlEl=this.expandEl.cloneNode(!0),r.controlEl.addEventListener("click",s=>{s.stopPropagation(),this.expandRow(e)})),r.controlEl.addEventListener("mousedown",s=>{s.stopPropagation()}),o&&o.parentNode===i?o.parentNode.replaceChild(r.controlEl,o):i.insertBefore(r.controlEl,i.firstChild))}getRows(e){var i=[];return e.forEach((r,o)=>{var s;i.push(r),r instanceof Qi&&(r.create(),!(s=r.modules.dataTree).index&&!1!==s.children&&this.getChildren(r,!1,!0).forEach(l=>{l.create(),i.push(l)}))}),i}getChildren(e,i,r){var o=e.modules.dataTree,s=[],a=[];return!1!==o.children&&(o.open||i)&&(Array.isArray(o.children)||(o.children=this.generateChildren(e)),s=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(o.children):o.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(s,r),s.forEach(l=>{a.push(l),this.getChildren(l,!1,!0).forEach(d=>{a.push(d)})})),a}generateChildren(e){var i=[],r=e.getData()[this.field];return Array.isArray(r)||(r=[r]),r.forEach(o=>{var s=new Qi(o||{},this.table.rowManager);s.create(),s.modules.dataTree.index=e.modules.dataTree.index+1,s.modules.dataTree.parent=e,s.modules.dataTree.children&&(s.modules.dataTree.open=this.startOpen(s.getComponent(),s.modules.dataTree.index)),i.push(s)}),i}expandRow(e,i){var r=e.modules.dataTree;!1!==r.children&&(r.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var i=e.modules.dataTree;!1!==i.children&&(i.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var i=e.modules.dataTree;!1!==i.children&&(i.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return!!e.modules.dataTree.parent&&e.modules.dataTree.parent.getComponent()}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var i=e.modules.dataTree,r=[];return i.children&&(Array.isArray(i.children)||(i.children=this.generateChildren(e)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(i.children):i.children).forEach(s=>{s instanceof Qi&&r.push(s)})),r}rowDeleting(e){var i=e.modules.dataTree;i&&i.children&&Array.isArray(i.children)&&i.children.forEach(r=>{r instanceof Qi&&r.wipe()})}rowDelete(e){var r,i=e.modules.dataTree.parent;i&&(!1!==(r=this.findChildIndex(e,i))&&i.data[this.field].splice(r,1),i.data[this.field].length||delete i.data[this.field],this.initializeRow(i),this.layoutRow(i)),this.refreshData(!0)}addTreeChildRow(e,i,r,o){var s=!1;"string"==typeof i&&(i=JSON.parse(i)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),typeof o<"u"&&!1!==(s=this.findChildIndex(o,e))&&e.data[this.field].splice(r?s:s+1,0,i),!1===s&&(r?e.data[this.field].unshift(i):e.data[this.field].push(i)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,i){var r=!1;return"object"==typeof e?e instanceof Qi?r=e.data:e instanceof If?r=e._getSelf().data:typeof HTMLElement<"u"&&e instanceof HTMLElement?i.modules.dataTree&&(r=i.modules.dataTree.children.find(o=>o instanceof Qi&&o.element===e))&&(r=r.data):null===e&&(r=!1):r=!(typeof e>"u")&&i.data[this.field].find(o=>o.data[this.table.options.index]==e),r&&(Array.isArray(i.data[this.field])&&(r=i.data[this.field].indexOf(r)),-1==r&&(r=!1)),r}getTreeChildren(e,i,r){var o=e.modules.dataTree,s=[];return o&&o.children&&(Array.isArray(o.children)||(o.children=this.generateChildren(e)),o.children.forEach(a=>{a instanceof Qi&&(s.push(i?a.getComponent():a),r&&this.getTreeChildren(a,i,r).forEach(l=>{s.push(l)}))})),s}getChildField(){return this.field}redrawNeeded(e){return!!this.field&&typeof e[this.field]<"u"||!!this.elementField&&typeof e[this.elementField]<"u"}})();var CH={csv:function bH(n,t={},e){var i=t.delimiter?t.delimiter:",",r=[],o=[];n.forEach(s=>{var a=[];switch(s.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":s.columns.forEach((l,c)=>{l&&1===l.depth&&(o[c]=typeof l.value>"u"||null===l.value?"":'"'+String(l.value).split('"').join('""')+'"')});break;case"row":s.columns.forEach(l=>{if(l){switch(typeof l.value){case"object":l.value=null!==l.value?JSON.stringify(l.value):"";break;case"undefined":l.value=""}a.push('"'+String(l.value).split('"').join('""')+'"')}}),r.push(a.join(i))}}),o.length&&r.unshift(o.join(i)),r=r.join("\n"),t.bom&&(r="\ufeff"+r),e(r,"text/csv")},json:function vH(n,t,e){var i=[];n.forEach(r=>{var o={};switch(r.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":r.columns.forEach(s=>{s&&(o[s.component.getTitleDownload()||s.component.getField()]=s.value)}),i.push(o)}}),e(i=JSON.stringify(i,null,"\t"),"application/json")},jsonLines:function wH(n,t,e){const i=[];n.forEach(r=>{const o={};switch(r.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":r.columns.forEach(s=>{s&&(o[s.component.getTitleDownload()||s.component.getField()]=s.value)}),i.push(JSON.stringify(o))}}),e(i.join("\n"),"application/x-ndjson")},pdf:function _H(n,t={},e){var d,u,i=[],r=[],o={},s=t.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},a=t.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},l=t.jsPDF||{},c=t.title?t.title:"";function g(b,_){var w=[];return b.columns.forEach(C=>{var M;if(C){switch(typeof C.value){case"object":C.value=null!==C.value?JSON.stringify(C.value):"";break;case"undefined":C.value=""}M={content:C.value,colSpan:C.width,rowSpan:C.height},_&&(M.styles=_),w.push(M)}}),w}l.orientation||(l.orientation=t.orientation||"landscape"),l.unit||(l.unit="pt"),n.forEach(b=>{switch(b.type){case"header":i.push(g(b));break;case"group":r.push(g(b,s));break;case"calc":r.push(g(b,a));break;case"row":r.push(g(b))}}),d=this.dependencyRegistry.lookup("jspdf","jsPDF"),u=new d(l),t.autoTable&&(o="function"==typeof t.autoTable?t.autoTable(u)||{}:t.autoTable),c&&(o.didDrawPage=function(b){u.text(c,40,30)}),o.head=i,o.body=r,u.autoTable(o),t.documentProcessing&&t.documentProcessing(u),e(u.output("arraybuffer"),"application/pdf")},xlsx:function yH(n,t,e){var r=t.sheetName||"Sheet1",o=this.dependencyRegistry.lookup("XLSX"),s=o.utils.book_new(),a=new Ui(this),c=t.writeOptions||{bookType:"xlsx",bookSST:!0,compression:!("compress"in t)||t.compress};function u(){var _=[],w=[],C={},M={s:{c:0,r:0},e:{c:n[0]?n[0].columns.reduce((L,N)=>L+(N&&N.width?N.width:1),0):0,r:n.length}};return n.forEach((L,N)=>{var ce=[];L.columns.forEach(function(De,ze){De?(ce.push(De.value instanceof Date||"object"!=typeof De.value?De.value:JSON.stringify(De.value)),(De.width>1||De.height>-1)&&(De.height>1||De.width>1)&&w.push({s:{r:N,c:ze},e:{r:N+De.height-1,c:ze+De.width-1}})):ce.push("")}),_.push(ce)}),o.utils.sheet_add_aoa(C,_),C["!ref"]=o.utils.encode_range(M),w.length&&(C["!merges"]=w),C}if(c.type="binary",s.SheetNames=[],s.Sheets={},t.sheetOnly)e(u());else{if(t.sheets)for(var g in t.sheets)!0===t.sheets[g]?(s.SheetNames.push(g),s.Sheets[g]=u()):(s.SheetNames.push(g),a.commsSend(t.sheets[g],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(_){s.Sheets[g]=_}}));else s.SheetNames.push(r),s.Sheets[r]=u();t.documentProcessing&&(s=t.documentProcessing(s)),e(function b(_){for(var w=new ArrayBuffer(_.length),C=new Uint8Array(w),M=0;M!=_.length;++M)C[M]=255&_.charCodeAt(M);return w}(o.write(s,c)),"application/octet-stream")}},html:function xH(n,t,e){this.modExists("export",!0)&&e(this.modules.export.generateHTMLTable(n),"text/html")}};let EH=(()=>{class n extends gt{static moduleName="download";static downloaders=CH;constructor(e){super(e),this.registerTableOption("downloadEncoder",function(i,r){return new Blob([i],{type:r})}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){}downloadToTab(e,i,r,o){this.download(e,i,r,o,!0)}download(e,i,r,o,s){var a=!1;if("function"==typeof e?a=e:n.downloaders[e]?a=n.downloaders[e]:console.warn("Download Error - No such download type found: ",e),a){var c=this.generateExportList(o);a.call(this.table,c,r||{},function l(d,u){s?!0===s?this.triggerDownload(d,u,e,i,!0):s(d):this.triggerDownload(d,u,e,i)}.bind(this))}}generateExportList(e){var i=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),r=this.table.options.groupHeaderDownload;return r&&!Array.isArray(r)&&(r=[r]),i.forEach(o=>{var s;"group"===o.type&&(s=o.columns[0],r&&r[o.indent]&&(s.value=r[o.indent](s.value,o.component._group.getRowCount(),o.component._group.getData(),o.component)))}),i}triggerDownload(e,i,r,o,s){var a=document.createElement("a"),l=this.table.options.downloadEncoder(e,i);l&&(s?window.open(window.URL.createObjectURL(l)):(o=o||"Tabulator."+("function"==typeof r?"txt":r),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(l,o):(a.setAttribute("href",window.URL.createObjectURL(l)),a.setAttribute("download",o),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a))),this.dispatchExternal("downloadComplete"))}commsReceived(e,i,r){"intercept"===i&&this.download(r.type,"",r.options,r.active,r.intercept)}}return n})();function Lf(n,t){var e=t.mask,i=typeof t.maskLetterChar<"u"?t.maskLetterChar:"A",r=typeof t.maskNumberChar<"u"?t.maskNumberChar:"9",o=typeof t.maskWildcardChar<"u"?t.maskWildcardChar:"*";function s(a){var l=e[a];typeof l<"u"&&l!==o&&l!==i&&l!==r&&(n.value=n.value+""+l,s(a+1))}n.addEventListener("keydown",a=>{var l=n.value.length,c=a.key;if(a.keyCode>46&&!a.ctrlKey&&!a.metaKey){if(l>=e.length)return a.preventDefault(),a.stopPropagation(),!1;switch(e[l]){case i:if(c.toUpperCase()==c.toLowerCase())return a.preventDefault(),a.stopPropagation(),!1;break;case r:if(isNaN(c))return a.preventDefault(),a.stopPropagation(),!1;break;case o:break;default:if(c!==e[l])return a.preventDefault(),a.stopPropagation(),!1}}}),n.addEventListener("keyup",a=>{a.keyCode>46&&t.maskAutoFill&&s(n.value.length)}),n.placeholder||(n.placeholder=e),t.maskAutoFill&&s(n.value.length)}var BH={input:function MH(n,t,e,i,r){var o=n.getValue(),s=document.createElement("input");if(s.setAttribute("type",r.search?"search":"text"),s.style.padding="4px",s.style.width="100%",s.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let l in r.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),s.setAttribute(l,s.getAttribute(l)+r.elementAttributes["+"+l])):s.setAttribute(l,r.elementAttributes[l]);function a(l){(null===o||typeof o>"u")&&""!==s.value||s.value!==o?e(s.value)&&(o=s.value):i()}return s.value=typeof o<"u"?o:"",t(function(){"cell"===n.getType()&&(s.focus({preventScroll:!0}),s.style.height="100%",r.selectContents&&s.select())}),s.addEventListener("change",a),s.addEventListener("blur",a),s.addEventListener("keydown",function(l){switch(l.keyCode){case 13:a();break;case 27:i();break;case 35:case 36:l.stopPropagation()}}),r.mask&&Lf(s,r),s},textarea:function DH(n,t,e,i,r){var o=n.getValue(),s=r.verticalNavigation||"hybrid",a=String(null!==o&&typeof o<"u"?o:""),l=document.createElement("textarea"),c=0;if(l.style.display="block",l.style.padding="2px",l.style.height="100%",l.style.width="100%",l.style.boxSizing="border-box",l.style.whiteSpace="pre-wrap",l.style.resize="none",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let u in r.elementAttributes)"+"==u.charAt(0)?(u=u.slice(1),l.setAttribute(u,l.getAttribute(u)+r.elementAttributes["+"+u])):l.setAttribute(u,r.elementAttributes[u]);function d(u){(null===o||typeof o>"u")&&""!==l.value||l.value!==o?(e(l.value)&&(o=l.value),setTimeout(function(){n.getRow().normalizeHeight()},300)):i()}return l.value=a,t(function(){"cell"===n.getType()&&(l.focus({preventScroll:!0}),l.style.height="100%",l.style.height=l.scrollHeight+"px",n.getRow().normalizeHeight(),r.selectContents&&l.select())}),l.addEventListener("change",d),l.addEventListener("blur",d),l.addEventListener("keyup",function(){l.style.height="";var u=l.scrollHeight;l.style.height=u+"px",u!=c&&(c=u,n.getRow().normalizeHeight())}),l.addEventListener("keydown",function(u){switch(u.keyCode){case 13:u.shiftKey&&r.shiftEnterSubmit&&d();break;case 27:i();break;case 38:("editor"==s||"hybrid"==s&&l.selectionStart)&&(u.stopImmediatePropagation(),u.stopPropagation());break;case 40:("editor"==s||"hybrid"==s&&l.selectionStart!==l.value.length)&&(u.stopImmediatePropagation(),u.stopPropagation());break;case 35:case 36:u.stopPropagation()}}),r.mask&&Lf(l,r),l},number:function SH(n,t,e,i,r){var o=n.getValue(),s=r.verticalNavigation||"editor",a=document.createElement("input");if(a.setAttribute("type","number"),typeof r.max<"u"&&a.setAttribute("max",r.max),typeof r.min<"u"&&a.setAttribute("min",r.min),typeof r.step<"u"&&a.setAttribute("step",r.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let d in r.elementAttributes)"+"==d.charAt(0)?(d=d.slice(1),a.setAttribute(d,a.getAttribute(d)+r.elementAttributes["+"+d])):a.setAttribute(d,r.elementAttributes[d]);a.value=o;var l=function(d){c()};function c(){var d=a.value;!isNaN(d)&&""!==d&&(d=Number(d)),d!==o?e(d)&&(o=d):i()}return t(function(){"cell"===n.getType()&&(a.removeEventListener("blur",l),a.focus({preventScroll:!0}),a.style.height="100%",a.addEventListener("blur",l),r.selectContents&&a.select())}),a.addEventListener("keydown",function(d){switch(d.keyCode){case 13:c();break;case 27:i();break;case 38:case 40:"editor"==s&&(d.stopImmediatePropagation(),d.stopPropagation());break;case 35:case 36:d.stopPropagation()}}),r.mask&&Lf(a,r),a},range:function TH(n,t,e,i,r){var o=n.getValue(),s=document.createElement("input");if(s.setAttribute("type","range"),typeof r.max<"u"&&s.setAttribute("max",r.max),typeof r.min<"u"&&s.setAttribute("min",r.min),typeof r.step<"u"&&s.setAttribute("step",r.step),s.style.padding="4px",s.style.width="100%",s.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let l in r.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),s.setAttribute(l,s.getAttribute(l)+r.elementAttributes["+"+l])):s.setAttribute(l,r.elementAttributes[l]);function a(){var l=s.value;!isNaN(l)&&""!==l&&(l=Number(l)),l!=o?e(l)&&(o=l):i()}return s.value=o,t(function(){"cell"===n.getType()&&(s.focus({preventScroll:!0}),s.style.height="100%")}),s.addEventListener("blur",function(l){a()}),s.addEventListener("keydown",function(l){switch(l.keyCode){case 13:a();break;case 27:i()}}),s},date:function kH(n,t,e,i,r){var o=r.format,s=r.verticalNavigation||"editor",a=o?window.DateTime||luxon.DateTime:null,l=n.getValue(),c=document.createElement("input");function d(g){return(a.isDateTime(g)?g:"iso"===o?a.fromISO(String(g)):a.fromFormat(String(g),o)).toFormat("yyyy-MM-dd")}if(c.type="date",c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",r.max&&c.setAttribute("max",o?d(r.max):r.max),r.min&&c.setAttribute("min",o?d(r.min):r.min),r.elementAttributes&&"object"==typeof r.elementAttributes)for(let g in r.elementAttributes)"+"==g.charAt(0)?(g=g.slice(1),c.setAttribute(g,c.getAttribute(g)+r.elementAttributes["+"+g])):c.setAttribute(g,r.elementAttributes[g]);function u(){var b,g=c.value;if((null===l||typeof l>"u")&&""!==g||g!==l){if(g&&o)switch(b=a.fromFormat(String(g),"yyyy-MM-dd"),o){case!0:g=b;break;case"iso":g=b.toISO();break;default:g=b.toFormat(o)}e(g)&&(l=c.value)}else i()}return l=typeof l<"u"?l:"",o&&(a?l=d(l):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),c.value=l,t(function(){"cell"===n.getType()&&(c.focus({preventScroll:!0}),c.style.height="100%",r.selectContents&&c.select())}),c.addEventListener("blur",function(g){(g.relatedTarget||g.rangeParent||g.explicitOriginalTarget!==c)&&u()}),c.addEventListener("keydown",function(g){switch(g.keyCode){case 13:u();break;case 27:i();break;case 35:case 36:g.stopPropagation();break;case 38:case 40:"editor"==s&&(g.stopImmediatePropagation(),g.stopPropagation())}}),c},time:function AH(n,t,e,i,r){var l,o=r.format,s=r.verticalNavigation||"editor",a=o?window.DateTime||luxon.DateTime:null,c=n.getValue(),d=document.createElement("input");if(d.type="time",d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let g in r.elementAttributes)"+"==g.charAt(0)?(g=g.slice(1),d.setAttribute(g,d.getAttribute(g)+r.elementAttributes["+"+g])):d.setAttribute(g,r.elementAttributes[g]);function u(){var b,g=d.value;if((null===c||typeof c>"u")&&""!==g||g!==c){if(g&&o)switch(b=a.fromFormat(String(g),"hh:mm"),o){case!0:g=b;break;case"iso":g=b.toISO();break;default:g=b.toFormat(o)}e(g)&&(c=d.value)}else i()}return c=typeof c<"u"?c:"",o&&(a?(l=a.isDateTime(c)?c:"iso"===o?a.fromISO(String(c)):a.fromFormat(String(c),o),c=l.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),d.value=c,t(function(){"cell"==n.getType()&&(d.focus({preventScroll:!0}),d.style.height="100%",r.selectContents&&d.select())}),d.addEventListener("blur",function(g){(g.relatedTarget||g.rangeParent||g.explicitOriginalTarget!==d)&&u()}),d.addEventListener("keydown",function(g){switch(g.keyCode){case 13:u();break;case 27:i();break;case 35:case 36:g.stopPropagation();break;case 38:case 40:"editor"==s&&(g.stopImmediatePropagation(),g.stopPropagation())}}),d},datetime:function OH(n,t,e,i,r){var l,o=r.format,s=r.verticalNavigation||"editor",a=o?this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"):null,c=n.getValue(),d=document.createElement("input");if(d.type="datetime-local",d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let g in r.elementAttributes)"+"==g.charAt(0)?(g=g.slice(1),d.setAttribute(g,d.getAttribute(g)+r.elementAttributes["+"+g])):d.setAttribute(g,r.elementAttributes[g]);function u(){var b,g=d.value;if((null===c||typeof c>"u")&&""!==g||g!==c){if(g&&o)switch(b=a.fromISO(String(g)),o){case!0:g=b;break;case"iso":g=b.toISO();break;default:g=b.toFormat(o)}e(g)&&(c=d.value)}else i()}return c=typeof c<"u"?c:"",o&&(a?(l=a.isDateTime(c)?c:"iso"===o?a.fromISO(String(c)):a.fromFormat(String(c),o),c=l.toFormat("yyyy-MM-dd")+"T"+l.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),d.value=c,t(function(){"cell"===n.getType()&&(d.focus({preventScroll:!0}),d.style.height="100%",r.selectContents&&d.select())}),d.addEventListener("blur",function(g){(g.relatedTarget||g.rangeParent||g.explicitOriginalTarget!==d)&&u()}),d.addEventListener("keydown",function(g){switch(g.keyCode){case 13:u();break;case 27:i();break;case 35:case 36:g.stopPropagation();break;case 38:case 40:"editor"==s&&(g.stopImmediatePropagation(),g.stopPropagation())}}),d},list:function RH(n,t,e,i,r){return new class{constructor(t,e,i,r,o,s){this.edit=t,this.table=t.table,this.cell=e,this.params=this._initializeParams(s),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter="header"===e.getType(),this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:r,cancel:o},this._deprecatedOptionsCheck(),this._initializeValue(),i(this._onRendered.bind(this))}_deprecatedOptionsCheck(){}_initializeValue(){var t=this.cell.getValue();typeof t>"u"&&typeof this.params.defaultValue<"u"&&(t=this.params.defaultValue),this.initialValues=this.params.multiselect?t:[t],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var t=this.cell.getElement();function e(i){i.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),t.addEventListener("click",e),setTimeout(()=>{t.removeEventListener("click",e)},1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var t=document.createElement("div");return t.classList.add("tabulator-edit-list"),t.addEventListener("mousedown",this._preventBlur.bind(this)),t.addEventListener("keydown",this._inputKeyDown.bind(this)),t}_setListWidth(){var t=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=t.offsetWidth+"px",this.params.maxWidth&&(this.listEl.style.maxWidth=!0===this.params.maxWidth?t.offsetWidth+"px":"number"==typeof this.params.maxWidth?this.params.maxWidth+"px":this.params.maxWidth)}_createInputElement(){var t=this.params.elementAttributes,e=document.createElement("input");if(e.setAttribute("type",this.params.clearable?"search":"text"),e.style.padding="4px",e.style.width="100%",e.style.boxSizing="border-box",this.params.autocomplete||(e.style.cursor="default",e.style.caretColor="transparent"),t&&"object"==typeof t)for(let i in t)"+"==i.charAt(0)?(i=i.slice(1),e.setAttribute(i,e.getAttribute(i)+t["+"+i])):e.setAttribute(i,t[i]);return this.params.mask&&Lf(e,this.params),this._bindInputEvents(e),e}_initializeParams(t){var i,e=["values","valuesURL","valuesLookup"];return(t=Object.assign({},t)).verticalNavigation=t.verticalNavigation||"editor",t.placeholderLoading=typeof t.placeholderLoading>"u"?"Searching ...":t.placeholderLoading,t.placeholderEmpty=typeof t.placeholderEmpty>"u"?"No Results Found":t.placeholderEmpty,t.filterDelay=typeof t.filterDelay>"u"?300:t.filterDelay,t.emptyValue=Object.keys(t).includes("emptyValue")?t.emptyValue:"",(i=Object.keys(t).filter(r=>e.includes(r)).length)?i>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),t.autocomplete?t.multiselect&&(t.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(t.freetext&&(t.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),t.filterFunc&&(t.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),t.filterRemote&&(t.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),t.mask&&(t.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),t.allowEmpty&&(t.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),t.listOnEmpty&&(t.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),t.filterRemote&&!("function"==typeof t.valuesLookup||t.valuesURL)&&(t.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),t}_bindInputEvents(t){t.addEventListener("focus",this._inputFocus.bind(this)),t.addEventListener("click",this._inputClick.bind(this)),t.addEventListener("blur",this._inputBlur.bind(this)),t.addEventListener("keydown",this._inputKeyDown.bind(this)),t.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&t.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(t){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList()},this.params.filterDelay)):this._filterList()}_inputClick(t){t.stopPropagation()}_inputBlur(t){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(t){switch(t.keyCode){case 38:this._keyUp(t);break;case 40:this._keyDown(t);break;case 37:case 39:this._keySide(t);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(t);break;case 9:this._keyTab(t);break;default:this._keySelectLetter(t)}}_inputKeyUp(t){switch(t.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(t)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout(()=>{this.popup&&this.popup.restoreHide()},10)}_preventBlur(){this.blurable=!1,setTimeout(()=>{this.blurable=!0},10)}_keyTab(t){this.params.autocomplete&&"typing"===this.lastAction?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(t){var e=this.displayItems.indexOf(this.focusedItem);("editor"==this.params.verticalNavigation||"hybrid"==this.params.verticalNavigation&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e>0&&this._focusItem(this.displayItems[e-1]))}_keyDown(t){var e=this.displayItems.indexOf(this.focusedItem);("editor"==this.params.verticalNavigation||"hybrid"==this.params.verticalNavigation&&e<this.displayItems.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<this.displayItems.length-1&&this._focusItem(-1==e?this.displayItems[0]:this.displayItems[e+1]))}_keySide(t){this.params.autocomplete||(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())}_keyEnter(t){this.params.autocomplete&&"typing"===this.lastAction?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(t){this._cancel()}_keyHomeEnd(t){this.params.autocomplete&&t.stopImmediatePropagation()}_keySelectLetter(t){this.params.autocomplete||(t.preventDefault(),t.keyCode>=38&&t.keyCode<=90&&this._scrollToValue(t.keyCode))}_keyAutoCompLetter(t){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(t){clearTimeout(this.filterTimeout);var e=String.fromCharCode(t).toLowerCase();this.filterTerm+=e.toLowerCase();var i=this.displayItems.find(r=>typeof r.label<"u"&&r.label.toLowerCase().startsWith(this.filterTerm));i&&this._focusItem(i),this.filterTimeout=setTimeout(()=>{this.filterTerm=""},800)}_focusItem(t){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=t,t&&t.element&&(t.element.classList.add("focused"),t.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(t=>{Number.isInteger(t)||console.error("List generation error",t)})}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(t){var e=[],i=++this.listIteration;return this.filtered=!1,this.params.values?e=this.params.values:this.params.valuesURL?e=this._ajaxRequest(this.params.valuesURL,this.input.value):"function"==typeof this.params.valuesLookup?e=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(e=this._uniqueColumnValues(this.params.valuesLookupField)),e instanceof Promise?(t||this._addPlaceholder(this.params.placeholderLoading),e.then().then(r=>this.listIteration===i?this._parseList(r):Promise.reject(i))):Promise.resolve(this._parseList(e))}_addPlaceholder(t){var e=document.createElement("div");"function"==typeof t&&(t=t(this.cell.getComponent(),this.listEl)),t&&(this._clearList(),t instanceof HTMLElement?e=t:(e.classList.add("tabulator-edit-list-placeholder"),e.innerHTML=t),this.listEl.appendChild(e),this._showList())}_ajaxRequest(t,e){return t=P2(t,{},this.params.filterRemote?{term:e}:{}),fetch(t).then(r=>r.ok?r.json().catch(o=>(console.warn("List Ajax Load Error - Invalid JSON returned",o),Promise.reject(o))):(console.error("List Ajax Load Error - Connection Error: "+r.status,r.statusText),Promise.reject(r))).catch(r=>(console.error("List Ajax Load Error - Connection Error: ",r),Promise.reject(r)))}_uniqueColumnValues(t){var r,e={},i=this.table.getData(this.params.valuesLookup);return(r=t?this.table.columnManager.getColumnByField(t):this.cell.getColumn()._getSelf())?i.forEach(o=>{var s=r.getFieldValue(o);this._emptyValueCheck(s)||(this.params.multiselect&&Array.isArray(s)?s.forEach(a=>{this._emptyValueCheck(a)||(e[a]=!0)}):e[s]=!0)}):(console.warn("unable to find matching column to create select lookup list:",t),e=[]),Object.keys(e)}_emptyValueCheck(t){return null===t||typeof t>"u"||""===t}_parseList(t){var e=[];return Array.isArray(t)||(t=Object.entries(t).map(([i,r])=>({label:r,value:i}))),t.forEach(i=>{"object"!=typeof i&&(i={label:i,value:i}),this._parseListItem(i,e,0)}),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=e,e}_parseListItem(t,e,i){var r={};t.options?r=this._parseListGroup(t,i+1):(r={label:t.label,value:t.value,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1,selected:!1,visible:!0,level:i,original:t},this.initialValues&&this.initialValues.indexOf(t.value)>-1&&this._chooseItem(r,!0)),e.push(r)}_parseListGroup(t,e){var i={label:t.label,group:!0,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1,visible:!0,level:e,options:[],original:t};return t.options.forEach(r=>{this._parseListItem(r,i.options,e)}),i}_sortOptions(t){var e;return this.params.sort&&(e="function"==typeof this.params.sort?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(e,t)),t}_sortGroup(t,e){e.sort((i,r)=>t(i.label,r.label,i.value,r.value,i.original,r.original)),e.forEach(i=>{i.group&&this._sortGroup(t,i.options)})}_defaultSortFunction(t,e){var i,r,o,s,l,a=0,c=/(\d+)|(\D+)/g,d=/\d/,u=0;if("desc"===this.params.sort&&([t,e]=[e,t]),t||0===t){if(e||0===e){if(isFinite(t)&&isFinite(e))return t-e;if((i=String(t).toLowerCase())===(r=String(e).toLowerCase()))return 0;if(!d.test(i)||!d.test(r))return i>r?1:-1;for(i=i.match(c),r=r.match(c),l=i.length>r.length?r.length:i.length;a<l;)if((o=i[a])!==(s=r[a++]))return isFinite(o)&&isFinite(s)?("0"===o.charAt(0)&&(o="."+o),"0"===s.charAt(0)&&(s="."+s),o-s):o>s?1:-1;return i.length>r.length}u=1}else u=e||0===e?-1:0;return u}_filterOptions(){var t=this.params.filterFunc||this._defaultFilterFunc,e=this.input.value;return e?(this.filtered=!0,this.data.forEach(i=>{this._filterItem(t,e,i)})):this.filtered=!1,this.data}_filterItem(t,e,i){var r=!1;return i.group?(i.options.forEach(o=>{this._filterItem(t,e,o)&&(r=!0)}),i.visible=r):i.visible=t(e,i.label,i.value,i.original),i.visible}_defaultFilterFunc(t,e,i,r){return t=String(t).toLowerCase(),null!==e&&typeof e<"u"&&(String(e).toLowerCase().indexOf(t)>-1||String(i).toLowerCase().indexOf(t)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(t){this._clearList(),t.forEach(e=>{this._buildItem(e)}),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(t){var i,e=t.element;if(!this.filtered||t.visible){if(!e){if((e=document.createElement("div")).tabIndex=0,(i=this.params.itemFormatter?this.params.itemFormatter(t.label,t.value,t.original,e):t.label)instanceof HTMLElement?e.appendChild(i):e.innerHTML=i,e.classList.add(t.group?"tabulator-edit-list-group":"tabulator-edit-list-item"),e.classList.add("tabulator-edit-list-group-level-"+t.level),t.elementAttributes&&"object"==typeof t.elementAttributes)for(let r in t.elementAttributes)"+"==r.charAt(0)?(r=r.slice(1),e.setAttribute(r,this.input.getAttribute(r)+t.elementAttributes["+"+r])):e.setAttribute(r,t.elementAttributes[r]);e.addEventListener("click",t.group?this._groupClick.bind(this,t):this._itemClick.bind(this,t)),e.addEventListener("mousedown",this._preventBlur.bind(this)),t.element=e}this._styleItem(t),this.listEl.appendChild(e),t.group?t.options.forEach(r=>{this._buildItem(r)}):this.displayItems.push(t)}}_showList(){var t=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&""===this.input.value&&!this.params.listOnEmpty)return void(this.popup&&this.popup.hide(!0));this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),t||setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))},10)}}_styleItem(t){t&&t.element&&(t.selected?t.element.classList.add("active"):t.element.classList.remove("active"))}_itemClick(t,e){e.stopPropagation(),this._chooseItem(t)}_groupClick(t,e){e.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach(t=>{t.selected=!1,this._styleItem(t)}),this.currentItems=[],this.focusedItem=null}_chooseItem(t,e){var i;this.typing=!1,this.params.multiselect?((i=this.currentItems.indexOf(t))>-1?(this.currentItems.splice(i,1),t.selected=!1):(this.currentItems.push(t),t.selected=!0),this.input.value=this.currentItems.map(r=>r.label).join(","),this._styleItem(t)):(this.currentItems=[t],t.selected=!0,this.input.value=t.label,this._styleItem(t),e||this._resolveValue()),this._focusItem(t)}_resolveValue(t){var e,i;if(this.popup&&this.popup.hide(!0),this.params.multiselect)e=this.currentItems.map(r=>r.value);else if(t&&this.params.autocomplete&&this.typing){if(!(this.params.freetext||this.params.allowEmpty&&""===this.input.value))return void this.actions.cancel();e=this.input.value}else e=this.currentItems[0]?this.currentItems[0].value:null===(i=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues)||typeof i>"u"||""===i?i:this.params.emptyValue;""===e&&(e=this.params.emptyValue),this.actions.success(e),this.isFilter&&(this.initialValues=e&&!Array.isArray(e)?[e]:e,this.currentItems=[])}}(this,n,t,e,i,r).input},star:function FH(n,t,e,i,r){var o=this,s=n.getElement(),a=n.getValue(),l=s.getElementsByTagName("svg").length||5,c=s.getElementsByTagName("svg")[0]?s.getElementsByTagName("svg")[0].getAttribute("width"):14,d=[],u=document.createElement("div"),g=document.createElementNS("http://www.w3.org/2000/svg","svg");function b(M){d.forEach(function(L,N){N<M?("ie"==o.table.browser?L.setAttribute("class","tabulator-star-active"):L.classList.replace("tabulator-star-inactive","tabulator-star-active"),L.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==o.table.browser?L.setAttribute("class","tabulator-star-inactive"):L.classList.replace("tabulator-star-active","tabulator-star-inactive"),L.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function _(M){var L=document.createElement("span"),N=g.cloneNode(!0);d.push(N),L.addEventListener("mouseenter",function(ce){ce.stopPropagation(),ce.stopImmediatePropagation(),b(M)}),L.addEventListener("mousemove",function(ce){ce.stopPropagation(),ce.stopImmediatePropagation()}),L.addEventListener("click",function(ce){ce.stopPropagation(),ce.stopImmediatePropagation(),e(M),s.blur()}),L.appendChild(N),u.appendChild(L)}function w(M){a=M,b(M)}if(s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",u.style.verticalAlign="middle",u.style.display="inline-block",u.style.padding="4px",g.setAttribute("width",c),g.setAttribute("height",c),g.setAttribute("viewBox","0 0 512 512"),g.setAttribute("xml:space","preserve"),g.style.padding="0 1px",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let M in r.elementAttributes)"+"==M.charAt(0)?(M=M.slice(1),u.setAttribute(M,u.getAttribute(M)+r.elementAttributes["+"+M])):u.setAttribute(M,r.elementAttributes[M]);for(var C=1;C<=l;C++)_(C);return b(a=Math.min(parseInt(a),l)),u.addEventListener("mousemove",function(M){b(0)}),u.addEventListener("click",function(M){e(0)}),s.addEventListener("blur",function(M){i()}),s.addEventListener("keydown",function(M){switch(M.keyCode){case 39:w(a+1);break;case 37:w(a-1);break;case 13:e(a);break;case 27:i()}}),u},progress:function IH(n,t,e,i,r){var g,b,o=n.getElement(),s=typeof r.max>"u"?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("max")||100:r.max,a=typeof r.min>"u"?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("min")||0:r.min,l=(s-a)/100,c=n.getValue()||0,d=document.createElement("div"),u=document.createElement("div");function _(){var w=window.getComputedStyle(o,null),C=l*Math.round(u.offsetWidth/((o.clientWidth-parseInt(w.getPropertyValue("padding-left"))-parseInt(w.getPropertyValue("padding-right")))/100))+a;e(C),o.setAttribute("aria-valuenow",C),o.setAttribute("aria-label",c)}if(d.style.position="absolute",d.style.right="0",d.style.top="0",d.style.bottom="0",d.style.width="5px",d.classList.add("tabulator-progress-handle"),u.style.display="inline-block",u.style.position="relative",u.style.height="100%",u.style.backgroundColor="#488CE9",u.style.maxWidth="100%",u.style.minWidth="0%",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let w in r.elementAttributes)"+"==w.charAt(0)?(w=w.slice(1),u.setAttribute(w,u.getAttribute(w)+r.elementAttributes["+"+w])):u.setAttribute(w,r.elementAttributes[w]);return o.style.padding="4px 4px",c=Math.min(parseFloat(c),s),c=Math.max(parseFloat(c),a),c=Math.round((c-a)/l),u.style.width=c+"%",o.setAttribute("aria-valuemin",a),o.setAttribute("aria-valuemax",s),u.appendChild(d),d.addEventListener("mousedown",function(w){g=w.screenX,b=u.offsetWidth}),d.addEventListener("mouseover",function(){d.style.cursor="ew-resize"}),o.addEventListener("mousemove",function(w){g&&(u.style.width=b+w.screenX-g+"px")}),o.addEventListener("mouseup",function(w){g&&(w.stopPropagation(),w.stopImmediatePropagation(),g=!1,b=!1,_())}),o.addEventListener("keydown",function(w){switch(w.keyCode){case 39:w.preventDefault(),u.style.width=u.clientWidth+o.clientWidth/100+"px";break;case 37:w.preventDefault(),u.style.width=u.clientWidth-o.clientWidth/100+"px";break;case 9:case 13:_();break;case 27:i()}}),o.addEventListener("blur",function(){i()}),u},tickCross:function LH(n,t,e,i,r){var o=n.getValue(),s=document.createElement("input"),a=r.tristate,l=typeof r.indeterminateValue>"u"?null:r.indeterminateValue,c=!1,d=Object.keys(r).includes("trueValue"),u=Object.keys(r).includes("falseValue");if(s.setAttribute("type","checkbox"),s.style.marginTop="5px",s.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let b in r.elementAttributes)"+"==b.charAt(0)?(b=b.slice(1),s.setAttribute(b,s.getAttribute(b)+r.elementAttributes["+"+b])):s.setAttribute(b,r.elementAttributes[b]);function g(b){var _=s.checked;return d&&_?_=r.trueValue:u&&!_&&(_=r.falseValue),a?b?c?l:_:s.checked&&!c?(s.checked=!1,s.indeterminate=!0,c=!0,l):(c=!1,_):_}return s.value=o,a&&(typeof o>"u"||o===l||""===o)&&(c=!0,s.indeterminate=!0),"firefox"!=this.table.browser&&"safari"!=this.table.browser&&t(function(){"cell"===n.getType()&&s.focus({preventScroll:!0})}),s.checked=d?o===r.trueValue:!0===o||"true"===o||"True"===o||1===o,s.addEventListener("change",function(b){e(g())}),s.addEventListener("blur",function(b){e(g(!0))}),s.addEventListener("keydown",function(b){13==b.keyCode&&e(g()),27==b.keyCode&&i()}),s},adaptable:function NH(n,t,e,i,r){var s,l,o=n._getSelf().column;return s=r.editorLookup?r.editorLookup(n):function c(d){var u=d.getValue(),g="input";switch(typeof u){case"number":g="number";break;case"boolean":g="tickCross";break;case"string":u.includes("\n")&&(g="textarea")}return g}(n),r.paramsLookup&&(l="function"==typeof r.paramsLookup?r.paramsLookup(s,n):r.paramsLookup[s]),this.table.modules.edit.lookupEditor(s,o).call(this,n,t,e,i,l||{})}};let VH=(()=>{class n extends gt{static moduleName="edit";static editors=BH;constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.convertEmptyValues=!1,this.editors=n.editors,this.registerTableOption("editTriggerEvent","focus"),this.registerTableOption("editorEmptyValue"),this.registerTableOption("editorEmptyValueFunc",this.emptyValueCheck.bind(this)),this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("editorEmptyValue"),this.registerColumnOption("editorEmptyValueFunc"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("clipboard-paste",this.pasteBlocker.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0)),Object.keys(this.table.options).includes("editorEmptyValue")&&(this.convertEmptyValues=!0)}pasteBlocker(e){if(this.currentCell)return!0}keybindingNavigateNext(e){var i=this.currentCell,r=this.options("tabEndNewRow");i&&(this.navigateNext(i,e)||r&&(i.getElement().firstChild.blur(),this.invalidEdit||(r=this.table.addRow(!0===r?{}:"function"==typeof r?r(i.row.getComponent()):Object.assign({},r))).then(()=>{setTimeout(()=>{i.getComponent().navigateNext()})})))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(i=>{this.table.modules.edit.clearEdited(i._getSelf())})}navigatePrev(e=this.currentCell,i){var r,o;if(e){if(i&&i.preventDefault(),r=this.navigateLeft())return!0;if((o=this.table.rowManager.prevDisplayRow(e.row,!0))&&(r=this.findPrevEditableCell(o,o.cells.length)))return r.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,i){var r,o;if(e){if(i&&i.preventDefault(),r=this.navigateRight())return!0;if((o=this.table.rowManager.nextDisplayRow(e.row,!0))&&(r=this.findNextEditableCell(o,-1)))return r.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,i){var r,o;return!(!e||(i&&i.preventDefault(),r=e.getIndex(),o=this.findPrevEditableCell(e.row,r),!o)||(o.getComponent().edit(),0))}navigateRight(e=this.currentCell,i){var r,o;return!(!e||(i&&i.preventDefault(),r=e.getIndex(),o=this.findNextEditableCell(e.row,r),!o)||(o.getComponent().edit(),0))}navigateUp(e=this.currentCell,i){var r,o;return!(!e||(i&&i.preventDefault(),r=e.getIndex(),o=this.table.rowManager.prevDisplayRow(e.row,!0),!o)||(o.cells[r].getComponent().edit(),0))}navigateDown(e=this.currentCell,i){var r,o;return!(!e||(i&&i.preventDefault(),r=e.getIndex(),o=this.table.rowManager.nextDisplayRow(e.row,!0),!o)||(o.cells[r].getComponent().edit(),0))}findNextEditableCell(e,i){var r=!1;if(i<e.cells.length-1)for(var o=i+1;o<e.cells.length;o++){let s=e.cells[o];if(s.column.modules.edit&&$t.elVisible(s.getElement())&&this.allowEdit(s)){r=s;break}}return r}findPrevEditableCell(e,i){var r=!1;if(i>0)for(var o=i-1;o>=0;o--){let s=e.cells[o];if(s.column.modules.edit&&$t.elVisible(s.getElement())&&this.allowEdit(s)){r=s;break}}return r}initializeColumnCheck(e){typeof e.definition.editor<"u"&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach(i=>{i.column.modules.edit&&"function"==typeof i.column.modules.edit.check&&this.updateCellClass(i)})}initializeColumn(e){var i=Object.keys(e.definition).includes("editorEmptyValue"),r={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{},convertEmptyValues:i,editorEmptyValue:e.definition.editorEmptyValue,editorEmptyValueFunc:e.definition.editorEmptyValueFunc};r.editor=this.lookupEditor(e.definition.editor,e),r.editor&&(e.modules.edit=r)}lookupEditor(e,i){var r;switch(typeof e){case"string":this.editors[e]?r=this.editors[e]:console.warn("Editor Error - No such editor found: ",e);break;case"function":r=e;break;case"boolean":!0===e&&("function"!=typeof i.definition.formatter?r=this.editors[i.definition.formatter]?this.editors[i.definition.formatter]:this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",i.definition.formatter))}return r}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(e){var r,i=this.currentCell;if(this.invalidEdit=!1,i){for(this.currentCell=!1,r=i.getElement(),this.dispatch("edit-editor-clear",i,e),r.classList.remove("tabulator-editing");r.firstChild;)r.removeChild(r.firstChild);i.row.getElement().classList.remove("tabulator-editing"),i.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,i=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),("textarea"==e.column.definition.editor||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,i),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",i)}}bindEditor(e){if(e.column.modules.edit){var i=this,r=e.getElement(!0);this.updateCellClass(e),r.setAttribute("tabindex",0),r.addEventListener("mousedown",function(o){2===o.button?o.preventDefault():i.mouseClick=!0}),"dblclick"===this.options("editTriggerEvent")&&r.addEventListener("dblclick",function(o){r.classList.contains("tabulator-editing")||(r.focus({preventScroll:!0}),i.edit(e,o,!1))}),("focus"===this.options("editTriggerEvent")||"click"===this.options("editTriggerEvent"))&&r.addEventListener("click",function(o){r.classList.contains("tabulator-editing")||(r.focus({preventScroll:!0}),i.edit(e,o,!1))}),"focus"===this.options("editTriggerEvent")&&r.addEventListener("focus",function(o){i.recursionBlock||i.edit(e,o,!1)})}}focusCellNoEvent(e,i){this.recursionBlock=!0,i&&"ie"===this.table.browser||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,i){this.focusCellNoEvent(e),this.edit(e,!1,i)}focusScrollAdjust(e){if("virtual"==this.table.rowManager.getRenderMode()){var i=this.table.rowManager.element.scrollTop,r=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,o=e.row.getElement();o.offsetTop<i?this.table.rowManager.element.scrollTop-=i-o.offsetTop:o.offsetTop+o.offsetHeight>r&&(this.table.rowManager.element.scrollTop+=o.offsetTop+o.offsetHeight-r);var s=this.table.rowManager.element.scrollLeft,a=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,l=e.getElement();this.table.modExists("frozenColumns")&&(s+=parseInt(this.table.modules.frozenColumns.leftMargin||0),a-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),"virtual"===this.table.options.renderHorizontal&&(s-=parseInt(this.table.columnManager.renderer.vDomPadLeft),a-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),l.offsetLeft<s?this.table.rowManager.element.scrollLeft-=s-l.offsetLeft:l.offsetLeft+l.offsetWidth>a&&(this.table.rowManager.element.scrollLeft+=l.offsetLeft+l.offsetWidth-a)}}allowEdit(e){var i=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(i=e.column.modules.edit.check(e.getComponent()));break;case"string":i=!!e.row.data[e.column.modules.edit.check];break;case"boolean":i=e.column.modules.edit.check}return i}edit(e,i,r){var d,u,g,o=this,a=function(){},l=e.getElement(),c=!1;if(!this.currentCell){if(e.column.modules.edit.blocked)return this.mouseClick=!1,this.blur(l),!1;if(i&&i.stopPropagation(),this.allowEdit(e)||r){if(o.cancelEdit(),o.currentCell=e,this.focusScrollAdjust(e),u=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,i,u)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,u),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",u),g="function"==typeof e.column.modules.edit.params?e.column.modules.edit.params(u):e.column.modules.edit.params,d=e.column.modules.edit.editor.call(o,u,function w(L){a=L},function b(L){if(o.currentCell===e&&!c){var N=o.chain("edit-success",[e,L],!0,!0);return!0===N||"highlight"===o.table.options.validationMode?(c=!0,o.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,-1==o.editedCells.indexOf(e)&&o.editedCells.push(e),L=o.transformEmptyValues(L,e),e.setValue(L,!0),!0===N):(c=!0,o.invalidEdit=!0,o.focusCellNoEvent(e,!0),a(),setTimeout(()=>{c=!1},10),!1)}},function _(){o.currentCell===e&&!c&&o.cancelEdit()},g),!this.currentCell||!1===d)return this.blur(l),!1;if(!(d instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",d),this.blur(l),!1;for(l.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");l.firstChild;)l.removeChild(l.firstChild);l.appendChild(d),a();for(var C=l.children,M=0;M<C.length;M++)C[M].addEventListener("click",function(L){L.stopPropagation()});return!0}return this.mouseClick=!1,this.blur(l),!1}!this.invalidEdit&&this.currentCell!==e&&this.cancelEdit()}emptyValueCheck(e){return""===e||null===e||typeof e>"u"}transformEmptyValues(e,i){var s,r=i.column.modules.edit;return(r.convertEmptyValues||this.convertEmptyValues)&&(s=r.editorEmptyValueFunc||this.options("editorEmptyValueFunc"))&&s(e)&&(e=r.convertEmptyValues?r.editorEmptyValue:this.options("editorEmptyValue")),e}blur(e){this.confirm("edit-blur",[e])||e.blur()}getEditedCells(){var e=[];return this.editedCells.forEach(i=>{e.push(i.getComponent())}),e}clearEdited(e){var i;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),(i=this.editedCells.indexOf(e))>-1&&this.editedCells.splice(i,1)}}return n})();class L2{constructor(t,e,i,r){this.type=t,this.columns=e,this.component=i||!1,this.indent=r||0}}class Z0{constructor(t,e,i,r,o){this.value=t,this.component=e||!1,this.width=i,this.height=r,this.depth=o}}var zH={},HH={visible:function(){return this.rowManager.getVisibleRows(!1,!0)},all:function(){return this.rowManager.rows},selected:function(){return this.modules.selectRow.selectedRows},active:function(){return this.options.pagination?this.rowManager.getDisplayRows(this.rowManager.displayRows.length-2):this.rowManager.getDisplayRows()}};let jH=(()=>{class n extends gt{static moduleName="export";static columnLookups=zH;static rowLookups=HH;constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.colVisPropAttach="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,i,r,o){var s,a,l,c;return this.cloneTableStyle=i,this.config=e||{},this.colVisProp=o,this.colVisPropAttach=this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1),(c=n.columnLookups[r])&&(l=(l=c.call(this.table)).filter(d=>this.columnVisCheck(d))),s=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders(l)):[],l&&(l=l.map(d=>d.getComponent())),a=this.bodyToExportRows(this.rowLookup(r),l),s.concat(a)}generateTable(e,i,r,o){var s=this.generateExportList(e,i,r,o);return this.generateTableElement(s)}rowLookup(e){var i=[];return"function"==typeof e?e.call(this.table).forEach(o=>{(o=this.table.rowManager.findRow(o))&&i.push(o)}):i=(n.rowLookups[e]||n.rowLookups.active).call(this.table),Object.assign([],i)}generateColumnGroupHeaders(e){var i=[];return e||(e=!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex),e.forEach(r=>{var o=this.processColumnGroup(r);o&&i.push(o)}),i}processColumnGroup(e){var i=e.columns,r=0,s={title:e.definition["title"+this.colVisPropAttach]||e.definition.title,column:e,depth:1};if(i.length){if(s.subGroups=[],s.width=0,i.forEach(a=>{var l=this.processColumnGroup(a);l&&(s.width+=l.width,s.subGroups.push(l),l.depth>r&&(r=l.depth))}),s.depth+=r,!s.width)return!1}else{if(!this.columnVisCheck(e))return!1;s.width=1}return s}columnVisCheck(e){var i=e.definition[this.colVisProp];return(!1!==this.config.rowHeaders||!e.isRowHeader)&&("function"==typeof i&&(i=i.call(this.table,e.getComponent())),!1===i||!0===i?i:e.visible&&e.field)}headersToExportRows(e){var i=[],r=0,o=[];function s(a,l){var c=r-l;if(typeof i[l]>"u"&&(i[l]=[]),a.height=a.subGroups?1:c-a.depth+1,i[l].push(a),a.height>1)for(let d=1;d<a.height;d++)typeof i[l+d]>"u"&&(i[l+d]=[]),i[l+d].push(!1);if(a.width>1)for(let d=1;d<a.width;d++)i[l].push(!1);a.subGroups&&a.subGroups.forEach(function(d){s(d,l+1)})}return e.forEach(function(a){a.depth>r&&(r=a.depth)}),e.forEach(function(a){s(a,0)}),i.forEach(a=>{var l=[];a.forEach(c=>{l.push(c?new Z0(typeof c.title>"u"?"":c.title,c.column.getComponent(),c.width,c.height,c.depth):null)}),o.push(new L2("header",l))}),o}bodyToExportRows(e,i=[]){var r=[];return 0===i.length&&this.table.columnManager.columnsByIndex.forEach(o=>{this.columnVisCheck(o)&&i.push(o.getComponent())}),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),(e=e.filter(o=>{switch(o.type){case"group":return!1!==this.config.rowGroups;case"calc":return!1!==this.config.columnCalcs;case"row":return!(this.table.options.dataTree&&!1===this.config.dataTree&&o.modules.dataTree.parent)}return!0})).forEach((o,s)=>{var a=o.getData(this.colVisProp),l=[],c=0;switch(o.type){case"group":c=o.level,l.push(new Z0(o.key,o.getComponent(),i.length,1));break;case"calc":case"row":i.forEach(d=>{l.push(new Z0(d._column.getFieldValue(a),d,1,1))}),this.table.options.dataTree&&!1!==this.config.dataTree&&(c=o.modules.dataTree.index)}r.push(new L2(o.type,l,o.getComponent(),c))}),r}generateTableElement(e){var i=document.createElement("table"),r=document.createElement("thead"),o=document.createElement("tbody"),s=this.lookupTableStyles(),a=this.table.options["rowFormatter"+this.colVisPropAttach],l={};return l.rowFormatter=null!==a?a:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(l.treeElementField=this.table.modules.dataTree.elementField),l.groupHeader=this.table.options["groupHeader"+this.colVisPropAttach],l.groupHeader&&!Array.isArray(l.groupHeader)&&(l.groupHeader=[l.groupHeader]),i.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),r,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((c,d)=>{let u;switch(c.type){case"header":r.appendChild(this.generateHeaderElement(c,l,s));break;case"group":o.appendChild(this.generateGroupElement(c,l,s));break;case"calc":o.appendChild(this.generateCalcElement(c,l,s));break;case"row":u=this.generateRowElement(c,l,s),this.mapElementStyles(d%2&&s.evenRow?s.evenRow:s.oddRow,u,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o.appendChild(u)}}),r.innerHTML&&i.appendChild(r),i.appendChild(o),this.mapElementStyles(this.table.element,i,["border-top","border-left","border-right","border-bottom"]),i}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.styleRowHeader=e.firstRow.getElementsByClassName("tabulator-row-header")[0],e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,i,r){var o=document.createElement("tr");return e.columns.forEach(s=>{if(s){var a=document.createElement("th"),l=s.component._column.definition.cssClass?s.component._column.definition.cssClass.split(" "):[];a.colSpan=s.width,a.rowSpan=s.height,a.innerHTML=s.value,this.cloneTableStyle&&(a.style.boxSizing="border-box"),l.forEach(function(c){a.classList.add(c)}),this.mapElementStyles(s.component.getElement(),a,["text-align","border-left","border-right","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(s.component._column.contentElement,a,["padding-top","padding-left","padding-right","padding-bottom"]),s.component._column.visible?this.mapElementStyles(s.component.getElement(),a,["width"]):s.component._column.definition.width&&(a.style.width=s.component._column.definition.width+"px"),this.mapElementStyles(s.component._column.parent&&s.component._column.parent.isGroup?s.component._column.parent.groupElement:s.component.getElement(),a,["border-top"]),this.mapElementStyles(s.component._column.isGroup?s.component.getElement():this.table.columnManager.getElement(),a,["border-bottom"]),o.appendChild(a)}}),o}generateGroupElement(e,i,r){var o=document.createElement("tr"),s=document.createElement("td"),a=e.columns[0];return o.classList.add("tabulator-print-table-row"),i.groupHeader&&i.groupHeader[e.indent]?a.value=i.groupHeader[e.indent](a.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):!1!==i.groupHeader&&(a.value=e.component._group.generator(a.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),s.colSpan=a.width,s.innerHTML=a.value,o.classList.add("tabulator-print-table-group"),o.classList.add("tabulator-group-level-"+e.indent),a.component.isVisible()&&o.classList.add("tabulator-group-visible"),this.mapElementStyles(r.firstGroup,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(r.firstGroup,s,["padding-top","padding-left","padding-right","padding-bottom"]),o.appendChild(s),o}generateCalcElement(e,i,r){var o=this.generateRowElement(e,i,r);return o.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(r.calcRow,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o}generateRowElement(e,i,r){var o=document.createElement("tr");return o.classList.add("tabulator-print-table-row"),e.columns.forEach((s,a)=>{if(s){var b,_,l=document.createElement("td"),c=s.component._column,d=this.table,u=d.columnManager.findColumnIndex(c),g=s.value,w={modules:{},getValue:function(){return g},getField:function(){return c.definition.field},getElement:function(){return l},getType:function(){return"cell"},getColumn:function(){return c.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getTable:function(){return d},getComponent:function(){return w},column:c};if((c.definition.cssClass?c.definition.cssClass.split(" "):[]).forEach(function(M){l.classList.add(M)}),this.table.modExists("format")&&!1!==this.config.formatCells)g=this.table.modules.format.formatExportValue(w,this.colVisProp);else switch(typeof g){case"object":g=null!==g?JSON.stringify(g):"";break;case"undefined":g=""}g instanceof Node?l.appendChild(g):l.innerHTML=g,_=["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"],c.isRowHeader?(b=r.styleRowHeader,_.push("background-color")):b=r.styleCells&&r.styleCells[u]?r.styleCells[u]:r.firstCell,b&&(this.mapElementStyles(b,l,_),c.definition.align&&(l.style.textAlign=c.definition.align)),this.table.options.dataTree&&!1!==this.config.dataTree&&(i.treeElementField&&i.treeElementField==c.field||!i.treeElementField&&0==a)&&(e.component._row.modules.dataTree.controlEl&&l.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),l.firstChild),e.component._row.modules.dataTree.branchEl&&l.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),l.firstChild)),o.appendChild(l),w.modules.format&&w.modules.format.renderedCallback&&w.modules.format.renderedCallback()}}),i.rowFormatter&&"row"===e.type&&!1!==this.config.formatCells&&(Object.assign(e.component).getElement=function(){return o},i.rowFormatter(e.component)),o}generateHTMLTable(e){var i=document.createElement("div");return i.appendChild(this.generateTableElement(e)),i.innerHTML}getHtml(e,i,r,o){var s=this.generateExportList(r||this.table.options.htmlOutputConfig,i,e,o||"htmlOutput");return this.generateHTMLTable(s)}mapElementStyles(e,i,r){if(this.cloneTableStyle&&e&&i){var o={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var s=window.getComputedStyle(e);r.forEach(function(a){i.style[o[a]]||(i.style[o[a]]=s.getPropertyValue(a))})}}}}return n})();var UH={"=":function(n,t,e,i){return t==n},"<":function(n,t,e,i){return t<n},"<=":function(n,t,e,i){return t<=n},">":function(n,t,e,i){return t>n},">=":function(n,t,e,i){return t>=n},"!=":function(n,t,e,i){return t!=n},regex:function(n,t,e,i){return"string"==typeof n&&(n=new RegExp(n)),n.test(t)},like:function(n,t,e,i){return null===n||typeof n>"u"?t===n:typeof t<"u"&&null!==t&&String(t).toLowerCase().indexOf(n.toLowerCase())>-1},keywords:function(n,t,e,i){var r=n.toLowerCase().split(typeof i.separator>"u"?" ":i.separator),o=String(null===t||typeof t>"u"?"":t).toLowerCase(),s=[];return r.forEach(a=>{o.includes(a)&&s.push(!0)}),i.matchAll?s.length===r.length:!!s.length},starts:function(n,t,e,i){return null===n||typeof n>"u"?t===n:typeof t<"u"&&null!==t&&String(t).toLowerCase().startsWith(n.toLowerCase())},ends:function(n,t,e,i){return null===n||typeof n>"u"?t===n:typeof t<"u"&&null!==t&&String(t).toLowerCase().endsWith(n.toLowerCase())},in:function(n,t,e,i){return Array.isArray(n)?!n.length||n.indexOf(t)>-1:(console.warn("Filter Error - filter value is not an array:",n),!1)}};let $H=(()=>{class n extends gt{static moduleName="filter";static filters=UH;constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var i=this.table.columnManager.findColumn(e.field);if(!i)return console.warn("Column Filter Error - No matching column found:",e.field),!1;this.setHeaderFilterValue(i,e.value)}),this.tableInitialized=!0}remoteFilterParams(e,i,r,o){return o.filter=this.getFilters(!0,!0),o}generatePlaceholder(e){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(e,i,r,o){this.setFilter(e,i,r,o),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,i,r,o){this.addFilter(e,i,r,o),this.refreshFilter()}userSetHeaderFilterFocus(e){var i=this.table.columnManager.findColumn(e);if(!i)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.setHeaderFilterFocus(i)}userGetHeaderFilterValue(e){var i=this.table.columnManager.findColumn(e);if(i)return this.getHeaderFilterValue(i);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,i){var r=this.table.columnManager.findColumn(e);if(!r)return console.warn("Column Filter Error - No matching column found:",e),!1;this.setHeaderFilterValue(r,i)}userRemoveFilter(e,i,r){this.removeFilter(e,i,r),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,i,r){return this.search("rows",e,i,r)}searchData(e,i,r){return this.search("data",e,i,r)}initializeColumnHeaderFilter(e){e.definition.headerFilter&&this.initializeColumn(e)}initializeColumn(e,i){var r=this,o=e.getField();e.modules.filter={success:function s(a){var u,l="input"==e.modules.filter.tagType&&"text"==e.modules.filter.attrType||"textarea"==e.modules.filter.tagType?"partial":"match",c="",d="";if(typeof e.modules.filter.prevSuccess>"u"||e.modules.filter.prevSuccess!==a){if(e.modules.filter.prevSuccess=a,e.modules.filter.emptyFunc(a))delete r.headerFilters[o];else{switch(e.modules.filter.value=a,typeof e.definition.headerFilterFunc){case"string":n.filters[e.definition.headerFilterFunc]?(c=e.definition.headerFilterFunc,u=function(g){var b=e.definition.headerFilterFuncParams||{},_=e.getFieldValue(g);return b="function"==typeof b?b(a,_,g):b,n.filters[e.definition.headerFilterFunc](a,_,g,b)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":c=u=function(g){var b=e.definition.headerFilterFuncParams||{},_=e.getFieldValue(g);return b="function"==typeof b?b(a,_,g):b,e.definition.headerFilterFunc(a,_,g,b)}}u||("partial"===l?(u=function(g){var b=e.getFieldValue(g);return typeof b<"u"&&null!==b&&String(b).toLowerCase().indexOf(String(a).toLowerCase())>-1},c="like"):(u=function(g){return e.getFieldValue(g)==a},c="=")),r.headerFilters[o]={value:a,func:u,type:c}}e.modules.filter.value=a,d=JSON.stringify(r.headerFilters),r.prevHeaderFilterChangeCheck!==d&&(r.prevHeaderFilterChangeCheck=d,r.trackChanges(),r.refreshFilter())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,i,r){var l,c,d,u,g,b,_,w,o=this,s=e.modules.filter.success,a=e.getField();if(e.modules.filter.value=i,e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),a){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(L){return!L&&0!==L},(l=document.createElement("div")).classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":o.table.modules.edit.editors[e.definition.headerFilter]?(c=o.table.modules.edit.editors[e.definition.headerFilter],("tick"===e.definition.headerFilter||"tickCross"===e.definition.headerFilter)&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(L){return!0!==L&&!1!==L})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":c=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?c=e.modules.edit.editor:e.definition.formatter&&o.table.modules.edit.editors[e.definition.formatter]?(c=o.table.modules.edit.editors[e.definition.formatter],("tick"===e.definition.formatter||"tickCross"===e.definition.formatter)&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(L){return!0!==L&&!1!==L})):c=o.table.modules.edit.editors.input}if(c){if(u={getValue:function(){return typeof i<"u"?i:""},getField:function(){return e.definition.field},getElement:function(){return l},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},_="function"==typeof(_=e.definition.headerFilterParams||{})?_.call(o.table,u):_,!(d=c.call(this.table.modules.edit,u,function M(L){w=L},s,function C(){},_)))return void console.warn("Filter Error - Cannot add filter to "+a+" column, editor returned a value of false");if(!(d instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+a+" column, editor should return an instance of Node, the editor returned:",d);o.langBind("headerFilters|columns|"+e.definition.field,function(L){d.setAttribute("placeholder",typeof L<"u"&&L?L:e.definition.headerFilterPlaceholder||o.langText("headerFilters|default"))}),d.addEventListener("click",function(L){L.stopPropagation(),d.focus()}),d.addEventListener("focus",L=>{var N=this.table.columnManager.contentsElement.scrollLeft;N!==this.table.rowManager.element.scrollLeft&&(this.table.rowManager.scrollHorizontal(N),this.table.columnManager.scrollHorizontal(N))}),g=!1,b=function(L){g&&clearTimeout(g),g=setTimeout(function(){s(d.value)},o.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=d,e.modules.filter.attrType=d.hasAttribute("type")?d.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=d.tagName.toLowerCase(),!1!==e.definition.headerFilterLiveFilter&&("autocomplete"===e.definition.headerFilter||"tickCross"===e.definition.headerFilter||("autocomplete"===e.definition.editor||"tickCross"===e.definition.editor)&&!0===e.definition.headerFilter||(d.addEventListener("keyup",b),d.addEventListener("search",b),"number"==e.modules.filter.attrType&&d.addEventListener("change",function(L){s(d.value)}),"text"==e.modules.filter.attrType&&"ie"!==this.table.browser&&d.setAttribute("type","search")),("input"==e.modules.filter.tagType||"select"==e.modules.filter.tagType||"textarea"==e.modules.filter.tagType)&&d.addEventListener("mousedown",function(L){L.stopPropagation()})),l.appendChild(d),e.contentElement.appendChild(l),r||o.headerFilterColumns.push(e),w&&w()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,i){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,i,!0),e.modules.filter.success(i)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&("remote"===this.table.options.filterMode?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,i,r,o){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:i,value:r,params:o}]),this.addFilter(e)}addFilter(e,i,r,o){var s=!1;Array.isArray(e)||(e=[{field:e,type:i,value:r,params:o}]),e.forEach(a=>{(a=this.findFilter(a))&&(this.filterList.push(a),s=!0)}),s&&this.trackChanges()}findFilter(e){var i;if(Array.isArray(e))return this.findSubFilters(e);var r=!1;return"function"==typeof e.field?r=function(o){return e.field(o,e.type||{})}:n.filters[e.type]?r=(i=this.table.columnManager.getColumnByField(e.field))?function(o){return n.filters[e.type](e.value,i.getFieldValue(o),o,e.params||{})}:function(o){return n.filters[e.type](e.value,o[e.field],o,e.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=r,!!e.func&&e}findSubFilters(e){var i=[];return e.forEach(r=>{(r=this.findFilter(r))&&i.push(r)}),!!i.length&&i}getFilters(e,i){var r=[];return e&&(r=this.getHeaderFilters()),i&&r.forEach(function(o){"function"==typeof o.type&&(o.type="function")}),r.concat(this.filtersToArray(this.filterList,i))}filtersToArray(e,i){var r=[];return e.forEach(o=>{var s;Array.isArray(o)?r.push(this.filtersToArray(o,i)):(s={field:o.field,type:o.type,value:o.value},i&&"function"==typeof s.type&&(s.type="function"),r.push(s))}),r}getHeaderFilters(){var e=[];for(var i in this.headerFilters)e.push({field:i,type:this.headerFilters[i].type,value:this.headerFilters[i].value});return e}removeFilter(e,i,r){Array.isArray(e)||(e=[{field:e,type:i,value:r}]),e.forEach(o=>{var s;(s=this.filterList.findIndex("object"==typeof o.field?a=>o===a:a=>o.field===a.field&&o.type===a.type&&o.value===a.value))>-1?this.filterList.splice(s,1):console.warn("Filter Error - No matching filter type found, ignoring: ",o.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{typeof e.modules.filter.value<"u"&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,i,r,o){var s=[],a=[];return Array.isArray(i)||(i=[{field:i,type:r,value:o}]),i.forEach(l=>{(l=this.findFilter(l))&&a.push(l)}),this.table.rowManager.rows.forEach(l=>{var c=!0;a.forEach(d=>{this.filterRecurse(d,l.getData())||(c=!1)}),c&&s.push("data"===e?l.getData("data"):l.getComponent())}),s}filter(e,i){var r=[],o=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(s=>{this.filterRow(s)&&r.push(s)}):r=e.slice(0),this.subscribedExternal("dataFiltered")&&(r.forEach(s=>{o.push(s.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(!0),o)),r}filterRow(e,i){var r=!0,o=e.getData();for(var s in this.filterList.forEach(a=>{this.filterRecurse(a,o)||(r=!1)}),this.headerFilters)this.headerFilters[s].func(o)||(r=!1);return r}filterRecurse(e,i){var r=!1;return Array.isArray(e)?e.forEach(o=>{this.filterRecurse(o,i)&&(r=!0)}):r=e.func(i),r}}return n})();var p7={plaintext:function WH(n,t,e){return this.emptyToSpace(this.sanitizeHTML(n.getValue()))},html:function GH(n,t,e){return n.getValue()},textarea:function qH(n,t,e){return n.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(n.getValue()))},money:function YH(n,t,e){var o,s,a,l,c,i=parseFloat(n.getValue()),r="",d=t.decimal||".",u=t.thousand||",",g=t.negativeSign||"-",b=t.symbol||"",_=!!t.symbolAfter,w=typeof t.precision<"u"?t.precision:2;if(isNaN(i))return this.emptyToSpace(this.sanitizeHTML(n.getValue()));if(i<0&&(i=Math.abs(i),r=g),o=!1!==w?i.toFixed(w):i,s=(o=String(o).split("."))[0],a=o.length>1?d+o[1]:"",!1!==t.thousand)for(l=/(\d+)(\d{3})/;l.test(s);)s=s.replace(l,"$1"+u+"$2");return c=s+a,!0===r?(c="("+c+")",_?c+b:b+c):_?r+c+b:r+b+c},link:function KH(n,t,e){var l,i=n.getValue(),r=t.urlPrefix||"",o=t.download,s=i,a=document.createElement("a");if(t.labelField&&(l=n.getData(),s=function c(d,u){var b=u[d.shift()];return d.length&&"object"==typeof b?c(d,b):b}(t.labelField.split(this.table.options.nestedFieldSeparator),l)),t.label)switch(typeof t.label){case"string":s=t.label;break;case"function":s=t.label(n)}if(s){if(t.urlField&&(l=n.getData(),i=$t.retrieveNestedData(this.table.options.nestedFieldSeparator,t.urlField,l)),t.url)switch(typeof t.url){case"string":i=t.url;break;case"function":i=t.url(n)}return a.setAttribute("href",r+i),t.target&&a.setAttribute("target",t.target),t.download&&(o="function"==typeof o?o(n):!0===o?"":o,a.setAttribute("download",o)),a.innerHTML=this.emptyToSpace(this.sanitizeHTML(s)),a}return"&nbsp;"},image:function XH(n,t,e){var i=document.createElement("img"),r=n.getValue();switch(t.urlPrefix&&(r=t.urlPrefix+n.getValue()),t.urlSuffix&&(r+=t.urlSuffix),i.setAttribute("src",r),typeof t.height){case"number":i.style.height=t.height+"px";break;case"string":i.style.height=t.height}switch(typeof t.width){case"number":i.style.width=t.width+"px";break;case"string":i.style.width=t.width}return i.addEventListener("load",function(){n.getRow().normalizeHeight()}),i},tickCross:function ZH(n,t,e){var i=n.getValue(),r=n.getElement(),o=t.allowEmpty,s=t.allowTruthy,a=Object.keys(t).includes("trueValue"),l=typeof t.tickElement<"u"?t.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',c=typeof t.crossElement<"u"?t.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a&&i===t.trueValue||!a&&(s&&i||!0===i||"true"===i||"True"===i||1===i||"1"===i)?(r.setAttribute("aria-checked",!0),l||""):o&&("null"===i||""===i||null===i||typeof i>"u")?(r.setAttribute("aria-checked","mixed"),""):(r.setAttribute("aria-checked",!1),c||"")},datetime:function QH(n,t,e){var l,i=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),r=t.inputFormat||"yyyy-MM-dd HH:mm:ss",o=t.outputFormat||"dd/MM/yyyy HH:mm:ss",s=typeof t.invalidPlaceholder<"u"?t.invalidPlaceholder:"",a=n.getValue();if(typeof i<"u")return(l=i.isDateTime(a)?a:"iso"===r?i.fromISO(String(a)):i.fromFormat(String(a),r)).isValid?(t.timezone&&(l=l.setZone(t.timezone)),l.toFormat(o)):!0!==s&&a?"function"==typeof s?s(a):s:a;console.error("Format Error - 'datetime' formatter is dependant on luxon.js")},datetimediff:function JH(n,t,e){var u,i=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),r=t.inputFormat||"yyyy-MM-dd HH:mm:ss",o=typeof t.invalidPlaceholder<"u"?t.invalidPlaceholder:"",s=typeof t.suffix<"u"&&t.suffix,a=typeof t.unit<"u"?t.unit:"days",l=typeof t.humanize<"u"&&t.humanize,c=typeof t.date<"u"?t.date:i.now(),d=n.getValue();if(typeof i<"u")return(u=i.isDateTime(d)?d:"iso"===r?i.fromISO(String(d)):i.fromFormat(String(d),r)).isValid?l?u.diff(c,a).toHuman()+(s?" "+s:""):parseInt(u.diff(c,a)[a])+(s?" "+s:""):!0===o?d:"function"==typeof o?o(d):o;console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")},lookup:function e7(n,t,e){var i=n.getValue();return typeof t[i]>"u"?(console.warn("Missing display value for "+i),i):t[i]},star:function t7(n,t,e){var i=n.getValue(),r=n.getElement(),o=t&&t.stars?t.stars:5,s=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg");s.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",i=i&&!isNaN(i)?parseInt(i):0,i=Math.max(0,Math.min(i,o));for(var d=1;d<=o;d++){var u=a.cloneNode(!0);u.innerHTML=d<=i?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',s.appendChild(u)}return r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",r.setAttribute("aria-label",i),s},traffic:function n7(n,t,e){var d,i=this.sanitizeHTML(n.getValue())||0,r=document.createElement("span"),o=t&&t.max?t.max:100,s=t&&t.min?t.min:0,a=t&&typeof t.color<"u"?t.color:["red","orange","green"],l="#666666";if(!(isNaN(i)||typeof n.getValue()>"u")){switch(r.classList.add("tabulator-traffic-light"),d=parseFloat(i)<=o?parseFloat(i):o,d=parseFloat(d)>=s?parseFloat(d):s,d=Math.round((d-s)/((o-s)/100)),typeof a){case"string":l=a;break;case"function":l=a(i);break;case"object":if(Array.isArray(a)){var g=Math.floor(d/(100/a.length));g=Math.min(g,a.length-1),l=a[g=Math.max(g,0)];break}}return r.style.backgroundColor=l,r}},progress:function r7(n,t={},e){var c,d,u,g,i=this.sanitizeHTML(n.getValue())||0,r=n.getElement(),o=t.max?t.max:100,s=t.min?t.min:0,a=t.legendAlign?t.legendAlign:"center";switch(c=parseFloat(i)<=o?parseFloat(i):o,c=parseFloat(c)>=s?parseFloat(c):s,c=Math.round((c-s)/((o-s)/100)),typeof t.color){case"string":d=t.color;break;case"function":d=t.color(i);break;case"object":if(Array.isArray(t.color)){let M=Math.floor(c/(100/t.color.length));M=Math.min(M,t.color.length-1),M=Math.max(M,0),d=t.color[M];break}default:d="#2DC214"}switch(typeof t.legend){case"string":u=t.legend;break;case"function":u=t.legend(i);break;case"boolean":u=i;break;default:u=!1}switch(typeof t.legendColor){case"string":g=t.legendColor;break;case"function":g=t.legendColor(i);break;case"object":if(Array.isArray(t.legendColor)){let M=Math.floor(c/(100/t.legendColor.length));M=Math.min(M,t.legendColor.length-1),M=Math.max(M,0),g=t.legendColor[M]}break;default:g="#000"}r.style.minWidth="30px",r.style.position="relative",r.setAttribute("aria-label",c);var b=document.createElement("div");b.style.display="inline-block",b.style.width=c+"%",b.style.backgroundColor=d,b.style.height="100%",b.setAttribute("data-max",o),b.setAttribute("data-min",s);var _=document.createElement("div");if(_.style.position="relative",_.style.width="100%",_.style.height="100%",u){var w=document.createElement("div");w.style.position="absolute",w.style.top=0,w.style.left=0,w.style.textAlign=a,w.style.width="100%",w.style.color=g,w.innerHTML=u}return e(function(){if(!(n instanceof R2)){var C=document.createElement("div");C.style.position="absolute",C.style.top="4px",C.style.bottom="4px",C.style.left="4px",C.style.right="4px",r.appendChild(C),r=C}r.appendChild(_),_.appendChild(b),u&&_.appendChild(w)}),""},color:function o7(n,t,e){return n.getElement().style.backgroundColor=this.sanitizeHTML(n.getValue()),""},buttonTick:function s7(n,t,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function a7(n,t,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},toggle:function l7(n,t,e){var s,a,i=n.getValue(),r=t.size||15,o=r+"px",l=!t.hasOwnProperty("onValue")||t.onValue,c=!!t.hasOwnProperty("offValue")&&t.offValue,d=t.onTruthy?i:i===l;return(s=document.createElement("div")).classList.add("tabulator-toggle"),d?(s.classList.add("tabulator-toggle-on"),s.style.flexDirection="row-reverse",t.onColor&&(s.style.background=t.onColor)):t.offColor&&(s.style.background=t.offColor),s.style.width=2.5*r+"px",s.style.borderRadius=o,t.clickable&&s.addEventListener("click",u=>{n.setValue(d?c:l)}),(a=document.createElement("div")).classList.add("tabulator-toggle-switch"),a.style.height=o,a.style.width=o,a.style.borderRadius=o,s.appendChild(a),s},rownum:function c7(n,t,e){var i=document.createElement("span"),r=n.getRow(),o=n.getTable();return r.watchPosition(s=>{t.relativeToPage&&(s+=o.modules.page.getPageSize()*(o.modules.page.getPage()-1)),i.innerText=s}),i},handle:function d7(n,t,e){return n.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},adaptable:function u7(n,t,e){var i,o;return i=t.formatterLookup?t.formatterLookup(n):function s(a){var l=a.getValue(),c="plaintext";switch(typeof l){case"boolean":c="tickCross";break;case"string":l.includes("\n")&&(c="textarea")}return c}(n),t.paramsLookup&&(o="function"==typeof t.paramsLookup?t.paramsLookup(i,n):t.paramsLookup[i]),this.table.modules.format.lookupFormatter(i).call(this,n,o||{},e)},array:function h7(n,t,e){var s,i=t.delimiter||",",r=n.getValue(),o=this.table;return t.valueMap&&(s="string"==typeof t.valueMap?function(a){return a.map(l=>$t.retrieveNestedData(o.options.nestedFieldSeparator,t.valueMap,l))}:t.valueMap),Array.isArray(r)?(s&&(r=s(r)),r.join(i)):r},json:function f7(n,t,e){var i=t.indent||"\t",r=typeof t.multiline>"u"||t.multiline,o=t.replacer||null,s=n.getValue();return r&&(n.getElement().style.whiteSpace="pre-wrap"),JSON.stringify(s,o,i)}};let m7=(()=>{class n extends gt{static moduleName="format";static formatters=p7;constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupTypeFormatter(e,""),typeof e.definition.formatterPrint<"u"&&(e.modules.format.print=this.lookupTypeFormatter(e,"Print")),typeof e.definition.formatterClipboard<"u"&&(e.modules.format.clipboard=this.lookupTypeFormatter(e,"Clipboard")),typeof e.definition.formatterHtmlOutput<"u"&&(e.modules.format.htmlOutput=this.lookupTypeFormatter(e,"HtmlOutput"))}lookupTypeFormatter(e,i){var r={params:e.definition["formatter"+i+"Params"]||{}};return r.formatter=this.lookupFormatter(e.definition["formatter"+i]),r}lookupFormatter(e){var i;switch(typeof e){case"string":n.formatters[e]?i=n.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),i=n.formatters.plaintext);break;case"function":i=e;break;default:i=n.formatters.plaintext}return i}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,i,r){var o,s,a,l;return e.definition.titleFormatter?(o=this.lookupFormatter(e.definition.titleFormatter),a=c=>{e.titleFormatterRendered=c},l={getValue:function(){return i},getElement:function(){return r},getType:function(){return"header"},getColumn:function(){return e.getComponent()},getTable:()=>this.table},s="function"==typeof(s=e.definition.titleFormatterParams||{})?s():s,o.call(this,l,s,a)):i}formatValue(e){var i=e.getComponent(),r="function"==typeof e.column.modules.format.params?e.column.modules.format.params(i):e.column.modules.format.params;return e.column.modules.format.formatter.call(this,i,r,function o(s){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=s,e.modules.format.rendered=!1})}formatExportValue(e,i){var o,r=e.column.modules.format[i];if(r){let s=function(a){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=a,e.modules.format.rendered=!1};return o="function"==typeof r.params?r.params(e.getComponent()):r.params,r.formatter.call(this,e.getComponent(),o,s)}return this.formatValue(e)}sanitizeHTML(e){if(e){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,function(r){return i[r]})}return e}emptyToSpace(e){return null===e||typeof e>"u"||""===e?"&nbsp;":e}}return n})(),g7=(()=>class n extends gt{static moduleName="frozenColumns";constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-deleted",this.reinitializeColumns.bind(this)),this.subscribe("column-hide",this.reinitializeColumns.bind(this)),this.subscribe("column-show",this.reinitializeColumns.bind(this)),this.subscribe("columns-loaded",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach(e=>{this.initializeColumn(e)}),this.layout()}initializeColumn(e){var i={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(i.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=i):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(i=>{i.calcs.top&&this.layoutRow(i.calcs.top),i.calcs.bottom&&this.layoutRow(i.calcs.bottom),i.groupList&&i.groupList.length&&this.layoutGroupCalcs(i.groupList)})}layoutColumnPosition(e){var i=[],r=0,o=0;this.leftColumns.forEach((s,a)=>{if(s.modules.frozen.marginValue=r,s.modules.frozen.margin=s.modules.frozen.marginValue+"px",s.visible&&(r+=s.getWidth()),s.modules.frozen.edge=a==this.leftColumns.length-1,s.parent.isGroup){var l=this.getColGroupParentElement(s);i.includes(l)||(this.layoutElement(l,s),i.push(l)),l.classList.toggle("tabulator-frozen-left",s.modules.frozen.edge&&"left"===s.modules.frozen.position),l.classList.toggle("tabulator-frozen-right",s.modules.frozen.edge&&"right"===s.modules.frozen.position)}else this.layoutElement(s.getElement(),s);e&&s.cells.forEach(c=>{this.layoutElement(c.getElement(!0),s)})}),this.rightColumns.forEach((s,a)=>{s.modules.frozen.marginValue=o,s.modules.frozen.margin=s.modules.frozen.marginValue+"px",s.visible&&(o+=s.getWidth()),s.modules.frozen.edge=a==this.rightColumns.length-1,this.layoutElement(s.parent.isGroup?this.getColGroupParentElement(s):s.getElement(),s),e&&s.cells.forEach(l=>{this.layoutElement(l.getElement(!0),s)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0);this.table.rowManager.getRows().filter(r=>!e.includes(r)).forEach(r=>{r.deinitialize()}),e.forEach(r=>{"row"===r.type&&this.layoutRow(r)})}layoutRow(e){"fitDataFill"===this.table.options.layout&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(i=>{var r=e.getCell(i);r&&this.layoutElement(r.getElement(!0),i)}),this.rightColumns.forEach(i=>{var r=e.getCell(i);r&&this.layoutElement(r.getElement(!0),i)})}layoutElement(e,i){i.modules.frozen&&e&&(e.style.position="sticky",e.style[this.table.rtl?"left"===i.modules.frozen.position?"right":"left":i.modules.frozen.position]=i.modules.frozen.margin,e.classList.add("tabulator-frozen"),e.classList.toggle("tabulator-frozen-left",i.modules.frozen.edge&&"left"===i.modules.frozen.position),e.classList.toggle("tabulator-frozen-right",i.modules.frozen.edge&&"right"===i.modules.frozen.position))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}getFrozenColumns(){return this.leftColumns.concat(this.rightColumns)}_calcSpace(e,i){var r=0;for(let o=0;o<i;o++)e[o].visible&&(r+=e[o].getWidth());return r}})(),b7=(()=>class n extends gt{static moduleName="frozenRows";constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){var e=document.createDocumentFragment();this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach(e=>{this.initializeRow(e)})}initializeRow(e){var i=this.table.options.frozenRows,r=typeof i;"number"===r?e.getPosition()&&e.getPosition()+this.rows.length<=i&&this.freezeRow(e):"function"===r?i.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(i)&&i.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){return this.rows.indexOf(e)>-1}isFrozen(){return!!this.rows.length}visibleRows(e,i){return this.rows.forEach(r=>{i.push(r)}),i}getRows(e){var i=e.slice(0);return this.rows.forEach(function(r){var o=i.indexOf(r);o>-1&&i.splice(o,1)}),i}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var i=this.rows.indexOf(e);if(i>-1){var r=e.getElement();r.parentNode&&r.parentNode.removeChild(r),this.rows.splice(i,1)}}styleRows(e){this.rows.forEach((i,r)=>{this.table.rowManager.styleRow(i,r)})}})();class v7{constructor(t){return this._group=t,this.type="GroupComponent",new Proxy(this,{get:function(e,i,r){return typeof e[i]<"u"?e[i]:e._group.groupManager.table.componentFunctionBinder.handle("group",e._group,i)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(t,e){return this._group.groupManager.table.rowManager.scrollToRow(this._group,t,e)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class El{constructor(t,e,i,r,o,s,a){this.groupManager=t,this.parent=e,this.key=r,this.level=i,this.field=o,this.hasSubGroups=i<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=s,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=a?a.visible:typeof t.startOpen[i]<"u"?t.startOpen[i]:t.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(t){t||(this.groupList.length?this.groupList.forEach(function(e){e.wipe()}):this.rows.forEach(e=>{e.modules&&delete e.modules.group})),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var t=document.createElement("div");t.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(t),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var t=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]&&this.groupManager.allowedValues[t].forEach(e=>{this._createGroup(e,t)})}addBindings(){this.groupManager.table.options.groupToggleElement&&("arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element).addEventListener("click",e=>{"arrow"===this.groupManager.table.options.groupToggleElement&&(e.stopPropagation(),e.stopImmediatePropagation()),setTimeout(()=>{this.toggleVisibility()})})}_createGroup(t,e){var i=e+"_"+t,r=new El(this.groupManager,this,e,t,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[i]);this.groups[i]=r,this.groupList.push(r)}_addRowToGroup(t){var e=this.level+1;if(this.hasSubGroups){var i=this.groupManager.groupIDLookups[e].func(t.getData()),r=e+"_"+i;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[r]&&this.groups[r].addRow(t):(this.groups[r]||this._createGroup(i,e),this.groups[r].addRow(t))}}_addRow(t){this.rows.push(t),t.modules.group=this}insertRow(t,e,i){var r=this.conformRowData({});t.updateData(r);var o=this.rows.indexOf(e);o>-1?this.rows.splice(i?o+1:o,0,t):i?this.rows.push(t):this.rows.unshift(t),t.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(t){this.arrowElement&&(this.arrowElement.style.marginLeft=t,this.groupList.forEach(function(e){e.scrollHeader(t)}))}getRowIndex(t){}conformRowData(t){return this.field?t[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(t=this.parent.conformRowData(t)),t}removeRow(t){var e=this.rows.indexOf(t),i=t.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(i.parentNode&&i.parentNode.removeChild(i),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this))):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(t){var i,e=t.level+"_"+t.key;this.groups[e]&&(delete this.groups[e],(i=this.groupList.indexOf(t))>-1&&this.groupList.splice(i,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var t=[];return t.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach(function(e){t=t.concat(e.getHeadersAndRows())}):("table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),t.push(this.calcs.top)),t=t.concat(this.rows),"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),t.push(this.calcs.bottom))):!this.groupList.length&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),t.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),t.push(this.calcs.bottom))),t}getData(t,e){var i=[];return this._visSet(),(!t||t&&this.visible)&&this.rows.forEach(r=>{i.push(r.getData(e||"data"))}),i}getRowCount(){var t=0;return this.groupList.length?this.groupList.forEach(e=>{t+=e.getRowCount()}):t=this.rows.length,t}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,"basic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination||(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(t=>{t.getHeadersAndRows().forEach(i=>{i.detachElement()})}):this.rows.forEach(t=>{var e=t.getElement();e.parentNode.removeChild(e)})),this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,"basic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var t=this.generateElement();this.groupList.length?this.groupList.forEach(e=>{e.getHeadersAndRows().forEach(r=>{var o=r.getElement();t.parentNode.insertBefore(o,t.nextSibling),r.initialize(),t=o})}):this.rows.forEach(e=>{var i=e.getElement();t.parentNode.insertBefore(i,t.nextSibling),e.initialize(),t=i}),this.groupManager.updateGroupRows(!0)}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var t=[];"function"==typeof this.visible&&(this.rows.forEach(function(e){t.push(e.getData())}),this.visible=this.visible(this.key,this.getRowCount(),t,this.getComponent()))}getRowGroup(t){var e=!1;return this.groupList.length?this.groupList.forEach(function(i){var r=i.getRowGroup(t);r&&(e=r)}):this.rows.find(function(i){return i===t})&&(e=this),e}getSubGroups(t){var e=[];return this.groupList.forEach(function(i){e.push(t?i.getComponent():i)}),e}getRows(t,e){var i=[];return e&&this.groupList.length?this.groupList.forEach(r=>{i=i.concat(r.getRows(t,e))}):this.rows.forEach(function(r){i.push(t?r.getComponent():r)}),i}generateGroupHeaderContents(){var t=[];for(this.getRows(!1,!0).forEach(function(i){t.push(i.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),t,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(t=[]){return t.unshift(this.key),this.parent&&this.parent.getPath(t),t}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var t=0;t<this.element.childNodes.length;++t)this.element.childNodes[t].parentNode.removeChild(this.element.childNodes[t]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(t){(!this.initialized||t)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,$t.elVisible(this.element)&&this.initialize(!0)}setHeight(t){this.height!=t&&(this.height=t,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new v7(this)),this.component}}let _7=(()=>class n extends gt{static moduleName="groupRows";constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,i=this.table.options.groupStartOpen,r=this.table.options.groupHeader;this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(r)&&e.length>r.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(s,a)=>{this.headerGenerator[0]=(l,c,d)=>(typeof l>"u"?"":l)+"<span>("+c+" "+(1===c?s:a.groups.items)+")</span>"}),this.groupIDLookups=[],e?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(s=>{s.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),s.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}),Array.isArray(e)||(e=[e]),e.forEach((s,a)=>{var l,c;l="function"==typeof s?s:(c=this.table.columnManager.getColumnByField(s))?function(d){return c.getFieldValue(d)}:function(d){return d[s]},this.groupIDLookups.push({field:"function"!=typeof s&&s,func:l,values:!!this.allowedValues&&this.allowedValues[a]})}),i&&(Array.isArray(i)||(i=[i]),i.forEach(s=>{}),this.startOpen=i),r&&(this.headerGenerator=Array.isArray(r)?r:[r])}else this.groupList=[],this.groups={}}rowSample(e,i){if(this.table.options.groupBy){var r=this.getGroups(!1)[0];i.push(r.getRows(!1)[0])}return i}virtualRenderFill(){var e=this.table.rowManager.tableElement,i=this.table.rowManager.getVisibleRows();if(!this.table.options.groupBy)return i;i=i.filter(r=>"group"!==r.type),e.style.minWidth=i.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(e,i,r){if(this.table.options.groupBy){this.assignRowToGroup(e);var o=e.modules.group.rows;return o.length>1&&(!i||i&&-1==o.indexOf(i)?r?o[0]!==e&&this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i=o[0],!r):o[o.length-1]!==e&&this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i=o[o.length-1],!r):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!r)),i}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&!0===this.table.options.columnCalcs&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return!!e.modules.group&&e.modules.group.getComponent()}rowMoving(e,i,r){if(this.table.options.groupBy){!r&&i instanceof El&&(i=this.table.rowManager.prevDisplayRow(e)||i);var o=i instanceof El?i:i.modules.group,s=e instanceof El?e:e.modules.group;o===s?this.table.rowManager.moveRowInArray(o.rows,e,i,r):(s&&s.removeRow(e),o.insertRow(e,i,r))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var i=[];return this.groupList.forEach(function(r){i.push(e?r.getComponent():r)}),i}getChildGroups(e){var i=[];return e||(e=this),e.groupList.forEach(r=>{r.groupList.length?i=i.concat(this.getChildGroups(r)):i.push(r)}),i}wipe(){this.table.options.groupBy&&(this.groupList.forEach(function(e){e.wipe()}),this.groupList=[],this.groups={})}pullGroupListData(e){var i=[];return e.forEach(r=>{var o={level:0,rowCount:0,headerContent:""},s=[];r.hasSubGroups?(s=this.pullGroupListData(r.groupList),o.level=r.level,o.rowCount=s.length-r.groupList.length,o.headerContent=r.generator(r.key,o.rowCount,r.rows,r),i.push(o),i=i.concat(s)):(o.level=r.level,o.headerContent=r.generator(r.key,r.rows.length,r.rows,r),o.rowCount=r.getRows().length,i.push(o),r.getRows().forEach(a=>{i.push(a.getData("data"))}))}),i}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var i=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach(r=>{var o=r.getRowGroup(e);o&&(i=o)}),i}countGroups(){return this.groupList.length}generateGroups(e){var i=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(r=>{this.createGroup(r,0,i)}),e.forEach(r=>{this.assignRowToExistingGroup(r,i)})):e.forEach(r=>{this.assignRowToGroup(r,i)}),Object.values(i).forEach(r=>{r.wipe(!0)})}createGroup(e,i,r){var s,o=i+"_"+e;s=new El(this,!1,i,e,this.groupIDLookups[0].field,this.headerGenerator[0],(r=r||[])[o]),this.groups[o]=s,this.groupList.push(s)}assignRowToExistingGroup(e,i){var o="0_"+this.groupIDLookups[0].func(e.getData());this.groups[o]&&this.groups[o].addRow(e)}assignRowToGroup(e,i){var r=this.groupIDLookups[0].func(e.getData()),o=!this.groups["0_"+r];return o&&this.createGroup(r,0,i),this.groups["0_"+r].addRow(e),!o}reassignRowToGroup(e){if("row"===e.type){var i=e.modules.group,r=i.getPath(),o=this.getExpectedPath(e);r.length==o.length&&r.every((a,l)=>a===o[l])||(i.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var i=[],r=e.getData();return this.groupIDLookups.forEach(o=>{i.push(o.func(r))}),i}updateGroupRows(e){var i=[];return this.blockRedraw||(this.groupList.forEach(r=>{i=i.concat(r.getHeadersAndRows())}),e&&this.refreshData(!0)),i}scrollHeaders(e){this.table.options.groupBy&&("virtual"===this.table.options.renderHorizontal&&(e-=this.table.columnManager.renderer.vDomPadLeft),e+="px",this.groupList.forEach(i=>{i.scrollHeader(e)}))}removeGroup(e){var r,i=e.level+"_"+e.key;this.groups[i]&&(delete this.groups[i],(r=this.groupList.indexOf(e))>-1&&this.groupList.splice(r,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,i=!0;this.table.rowManager.getDisplayRows().forEach((r,o)=>{this.table.rowManager.styleRow(r,o),e.appendChild(r.getElement()),r.initialize(!0),"group"!==r.type&&(i=!1)}),e.style.minWidth=i?this.table.columnManager.getWidth()+"px":""}})();var y7={cellEdit:function(n){n.component.setValueProcessData(n.data.oldValue),n.component.cellRendered()},rowAdd:function(n){n.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowDelete:function(n){var t=this.table.rowManager.addRowActual(n.data.data,n.data.pos,n.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(n.component,t),this.table.rowManager.checkPlaceholder()},rowMove:function(n){var t=n.data.posFrom-n.data.posTo>0;this.table.rowManager.moveRowActual(n.component,this.table.rowManager.getRowFromPosition(n.data.posFrom),t),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},x7={cellEdit:function(n){n.component.setValueProcessData(n.data.newValue),n.component.cellRendered()},rowAdd:function(n){var t=this.table.rowManager.addRowActual(n.data.data,n.data.pos,n.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(n.component,t),this.table.rowManager.checkPlaceholder()},rowDelete:function(n){n.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowMove:function(n){this.table.rowManager.moveRowActual(n.component,this.table.rowManager.getRowFromPosition(n.data.posTo),n.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},E7={keybindings:{bindings:{undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"]},actions:{undo:function(n){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(n.preventDefault(),this.table.modules.history.undo()))},redo:function(n){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(n.preventDefault(),this.table.modules.history.redo()))}}}};let M7=(()=>{class n extends gt{static moduleName="history";static moduleExtensions=E7;static undoers=y7;static redoers=x7;constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,i,r){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:i.getPosition(),to:i,after:r})}rowAdded(e,i,r,o){this.action("rowAdd",e,{data:i,pos:r,index:o})}rowDeleted(e){var i,r;this.table.options.groupBy?(i=(r=e.getComponent().getGroup()._getSelf().rows).indexOf(e))&&(i=r[i-1]):(i=e.table.rowManager.getRowIndex(e))&&(i=e.table.rowManager.rows[i-1]),this.action("rowDelete",e,{data:e.getData(),pos:!i,index:i})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,i,r){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:i,data:r}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var i=this.history.findIndex(function(r){return r.component===e});i>-1&&(this.history.splice(i,1),i<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return n.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}return console.warn(this.options("history")?"History Undo Error - No more history to undo":"History module not enabled"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return n.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}return console.warn(this.options("history")?"History Redo Error - No more history to redo":"History module not enabled"),!1}_rebindRow(e,i){this.history.forEach(function(r){if(r.component instanceof Qi)r.component===e&&(r.component=i);else if(r.component instanceof yd&&r.component.row===e){var o=r.component.column.getField();o&&(r.component=i.getCell(o))}})}}return n})(),D7=(()=>class n extends gt{static moduleName="htmlTableImport";constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,i=this.table.options,r=e.getElementsByTagName("th"),o=e.getElementsByTagName("tbody")[0],s=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),o=o?o.getElementsByTagName("tr"):[],this._extractOptions(e,i),r.length?this._extractHeaders(r,o):this._generateBlankHeaders(r,o);for(var a=0;a<o.length;a++){var c=o[a].getElementsByTagName("td"),d={};this.hasIndex||(d[i.index]=a);for(var u=0;u<c.length;u++)typeof this.fieldIndex[u]<"u"&&(d[this.fieldIndex[u]]=c[u].innerHTML);s.push(d)}i.data=s,this.dispatchExternal("htmlImported")}_extractOptions(e,i,r){var o=e.attributes,s=Object.keys(r||i),a={};for(var l in s.forEach(u=>{a[u.toLowerCase()]=u}),o){var d,c=o[l];c&&"object"==typeof c&&c.name&&0===c.name.indexOf("tabulator-")&&(d=c.name.replace("tabulator-",""),typeof a[d]<"u"&&(i[a[d]]=this._attribValue(c.value)))}}_attribValue(e){return"true"===e||"false"!==e&&e}_findCol(e){return this.table.options.columns.find(r=>r.title===e)||!1}_extractHeaders(e,i){for(var r=0;r<e.length;r++){var l,o=e[r],s=!1,a=this._findCol(o.textContent);a?s=!0:a={title:o.textContent.trim()},a.field||(a.field=o.textContent.trim().toLowerCase().replaceAll(" ","_")),(l=o.getAttribute("width"))&&!a.width&&(a.width=l),this._extractOptions(o,a,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[r]=a.field,a.field==this.table.options.index&&(this.hasIndex=!0),s||this.table.options.columns.push(a)}}_generateBlankHeaders(e,i){for(var r=0;r<e.length;r++){var o=e[r],s={title:"",field:"col"+r};this.fieldIndex[r]=s.field;var a=o.getAttribute("width");a&&(s.width=a),this.table.options.columns.push(s)}}})();var O7={csv:function S7(n){var t=[],e=0,i=0,r=!1;for(let o=0;o<n.length;o++){let s=n[o],a=n[o+1];t[e]||(t[e]=[]),t[e][i]||(t[e][i]=""),'"'==s&&r&&'"'==a?(t[e][i]+=s,o++):'"'!=s?","!=s||r?"\r"!=s||"\n"!=a||r?"\r"!=s&&"\n"!=s||r?t[e][i]+=s:(i=0,e++):(i=0,e++,o++):i++:r=!r}return t},json:function T7(n){try{return JSON.parse(n)}catch(t){return console.warn("JSON Import Error - File contents is invalid JSON",t),Promise.reject()}},array:function k7(n){return n},xlsx:function A7(n){var t=this.dependencyRegistry.lookup("XLSX"),e=t.read(n);return t.utils.sheet_to_json(e.Sheets[e.SheetNames[0]],{header:1})}};let P7=(()=>{class n extends gt{static moduleName="import";static importers=O7;constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text"),this.registerTableOption("importHeaderTransform"),this.registerTableOption("importValueTransform"),this.registerTableOption("importDataValidator"),this.registerTableOption("importFileValidator")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&("string"==typeof e||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,i,r,o,s){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(a=>(console.error("Import Error:",a||"Unable to import data"),Promise.reject(a)))}lookupImporter(e){var i;return e||(e=this.table.options.importFormat),(i="string"==typeof e?n.importers[e]:e)||console.error("Import Error - Importer not found:",e),i}importFromFile(e,i,r){var o=this.lookupImporter(e);if(o)return this.pickFile(i,r).then(this.importData.bind(this,o)).then(this.structureData.bind(this)).then(this.mutateData.bind(this)).then(this.validateData.bind(this)).then(this.setData.bind(this)).catch(s=>(this.dispatch("import-error",s),this.dispatchExternal("importError",s),console.error("Import Error:",s||"Unable to import file"),this.table.dataLoader.alertError(),setTimeout(()=>{this.table.dataLoader.clearAlert()},3e3),Promise.reject(s)))}pickFile(e,i){return new Promise((r,o)=>{var s=document.createElement("input");s.type="file",s.accept=e,s.addEventListener("change",a=>{var l=s.files[0],c=new FileReader,d=this.validateFile(l);if(!0===d){switch(this.dispatch("import-importing",s.files),this.dispatchExternal("importImporting",s.files),i||this.table.options.importReader){case"buffer":c.readAsArrayBuffer(l);break;case"binary":c.readAsBinaryString(l);break;case"url":c.readAsDataURL(l);break;default:c.readAsText(l)}c.onload=u=>{r(c.result)},c.onerror=u=>{console.warn("File Load Error - Unable to read file"),o(u)}}else o(d)}),this.dispatch("import-choose"),this.dispatchExternal("importChoose"),s.click()})}importData(e,i){var r;return this.table.dataLoader.alertLoader(),new Promise((o,s)=>{setTimeout(()=>{(r=e.call(this.table,i))instanceof Promise||r?o(r):s()},10)})}structureData(e){return Array.isArray(e)&&e.length&&Array.isArray(e[0])?this.table.options.autoColumns?this.structureArrayToObject(e):this.structureArrayToColumns(e):e}mutateData(e){var i=[];return Array.isArray(e)?e.forEach(r=>{i.push(this.table.modules.mutator.transformRow(r,"import"))}):i=e,i}transformHeader(e){var i=[];return this.table.options.importHeaderTransform?(e.forEach(r=>{i.push(this.table.options.importHeaderTransform.call(this.table,r,e))}),i):e}transformData(e){var i=[];return this.table.options.importValueTransform?(e.forEach(r=>{i.push(this.table.options.importValueTransform.call(this.table,r,e))}),i):e}structureArrayToObject(e){var i=this.transformHeader(e.shift());return e.map(o=>{var s={};return o=this.transformData(o),i.forEach((a,l)=>{s[a]=o[l]}),s})}structureArrayToColumns(e){var i=[],r=this.transformHeader(e[0]),o=this.table.getColumns();return o[0]&&r[0]&&o[0].getDefinition().title===r[0]&&e.shift(),e.forEach(s=>{var a={};(s=this.transformData(s)).forEach((l,c)=>{var d=o[c];d&&(a[d.getField()]=l)}),i.push(a)}),i}validateFile(e){return!this.table.options.importFileValidator||this.table.options.importFileValidator.call(this.table,e)}validateData(e){var i;return this.table.options.importDataValidator?!0===(i=this.table.options.importDataValidator.call(this.table,e))?e:Promise.reject(i):e}setData(e){return this.dispatch("import-imported",e),this.dispatchExternal("importImported",e),this.table.dataLoader.clearAlert(),this.table.setData(e)}}return n})(),R7=(()=>class n extends gt{static moduleName="interaction";constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){Object.values(this.touchWatchers).forEach(i=>{for(let r in i)i[r]=null})}cellContentsSelectionFixer(e,i){var r;if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==i){e.preventDefault();try{document.selection?((r=document.body.createTextRange()).moveToElementText(i.getElement()),r.select()):window.getSelection&&((r=document.createRange()).selectNode(i.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(r))}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,i){i?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var i=this.eventMap[e];this.touchSubscribers[i+"-touchstart"]||(this.touchSubscribers[i+"-touchstart"]=this.handleTouch.bind(this,i,"start"),this.touchSubscribers[i+"-touchend"]=this.handleTouch.bind(this,i,"end"),this.subscribe(i+"-touchstart",this.touchSubscribers[i+"-touchstart"]),this.subscribe(i+"-touchend",this.touchSubscribers[i+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var i=!0,r=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let o in this.eventMap)this.eventMap[o]===r&&this.subscribers[o]&&(i=!1);i&&(this.unsubscribe(r+"-touchstart",this.touchSubscribers[r+"-touchstart"]),this.unsubscribe(r+"-touchend",this.touchSubscribers[r+"-touchend"]),delete this.touchSubscribers[r+"-touchstart"],delete this.touchSubscribers[r+"-touchend"])}}initializeColumn(e){var i=e.definition;for(let r in this.eventMap)i[r]&&(this.subscriptionChanged(r,!0),this.columnSubscribers[r]||(this.columnSubscribers[r]=[]),this.columnSubscribers[r].push(e))}handle(e,i,r){this.dispatchEvent(e,i,r)}handleTouch(e,i,r,o){var s=this.touchWatchers[e];switch("column"===e&&(e="header"),i){case"start":s.tap=!0,clearTimeout(s.tapHold),s.tapHold=setTimeout(()=>{clearTimeout(s.tapHold),s.tapHold=null,s.tap=null,clearTimeout(s.tapDbl),s.tapDbl=null,this.dispatchEvent(e+"TapHold",r,o)},1e3);break;case"end":s.tap&&(s.tap=null,this.dispatchEvent(e+"Tap",r,o)),s.tapDbl?(clearTimeout(s.tapDbl),s.tapDbl=null,this.dispatchEvent(e+"DblTap",r,o)):s.tapDbl=setTimeout(()=>{clearTimeout(s.tapDbl),s.tapDbl=null},300),clearTimeout(s.tapHold),s.tapHold=null}}dispatchEvent(e,i,r){var s,o=r.getComponent();this.columnSubscribers[e]&&(r instanceof yd?s=r.column.definition[e]:r instanceof xd&&(s=r.definition[e]),s&&s(i,o)),this.dispatchExternal(e,i,o)}})();var F7={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,navLeft:37,navRight:39,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35},I7={keyBlock:function(n){n.stopPropagation(),n.preventDefault()},scrollPageUp:function(n){var t=this.table.rowManager,e=t.scrollTop-t.element.clientHeight;n.preventDefault(),t.displayRowsCount&&(e>=0?t.element.scrollTop=e:t.scrollToRow(t.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(n){var t=this.table.rowManager,e=t.scrollTop+t.element.clientHeight,i=t.element.scrollHeight;n.preventDefault(),t.displayRowsCount&&(e<=i?t.element.scrollTop=e:t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(n){var t=this.table.rowManager;n.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(n){var t=this.table.rowManager;n.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1]),this.table.element.focus()},navPrev:function(n){this.dispatch("keybinding-nav-prev",n)},navNext:function(n){this.dispatch("keybinding-nav-next",n)},navLeft:function(n){this.dispatch("keybinding-nav-left",n)},navRight:function(n){this.dispatch("keybinding-nav-right",n)},navUp:function(n){this.dispatch("keybinding-nav-up",n)},navDown:function(n){this.dispatch("keybinding-nav-down",n)}};let L7=(()=>{class n extends gt{static moduleName="keybindings";static bindings=F7;static actions=I7;constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,i={};this.watchKeys={},this.pressedKeys=[],!1!==e&&(Object.assign(i,n.bindings),Object.assign(i,e),this.mapBindings(i),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let i in e)n.actions[i]?e[i]&&("object"!=typeof e[i]&&(e[i]=[e[i]]),e[i].forEach(r=>{(Array.isArray(r)?r:[r]).forEach(s=>{this.mapBinding(i,s)})})):console.warn("Key Binding Error - no such action:",i)}mapBinding(e,i){var r={action:n.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1};i.toString().toLowerCase().split(" ").join("").split("+").forEach(s=>{switch(s){case"ctrl":r.ctrl=!0;break;case"shift":r.shift=!0;break;case"meta":r.meta=!0;break;default:s=isNaN(s)?s.toUpperCase().charCodeAt(0):parseInt(s),r.keys.push(s),this.watchKeys[s]||(this.watchKeys[s]=[]),this.watchKeys[s].push(r)}})}bindEvents(){var e=this;this.keyupBinding=function(i){var r=i.keyCode,o=e.watchKeys[r];o&&(e.pressedKeys.push(r),o.forEach(function(s){e.checkBinding(i,s)}))},this.keydownBinding=function(i){var r=i.keyCode;if(e.watchKeys[r]){var s=e.pressedKeys.indexOf(r);s>-1&&e.pressedKeys.splice(s,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,i){var r=!0;return e.ctrlKey==i.ctrl&&e.shiftKey==i.shift&&e.metaKey==i.meta&&(i.keys.forEach(o=>{-1==this.pressedKeys.indexOf(o)&&(r=!1)}),r&&i.action.call(this,e),!0)}}return n})(),N7=(()=>class n extends gt{static moduleName="menu";constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var i=e.definition;i.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),i.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),i.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),i.headerMenu&&this.initializeColumnHeaderMenu(e),i.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),i.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),i.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var r,i=e.definition.headerMenuIcon;(r=document.createElement("span")).classList.add("tabulator-header-popup-button"),i?("function"==typeof i&&(i=i(e.getComponent())),i instanceof HTMLElement?r.appendChild(i):r.innerHTML=i):r.innerHTML="&vellip;",r.addEventListener("click",o=>{o.stopPropagation(),o.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,o,e)}),e.titleElement.insertBefore(r,e.titleElement.firstChild)}loadMenuTableCellEvent(e,i,r){r._cell&&(r=r._cell),r.column.definition[e]&&this.loadMenuEvent(r.column.definition[e],i,r)}loadMenuTableColumnEvent(e,i,r){r._column&&(r=r._column),r.definition[e]&&this.loadMenuEvent(r.definition[e],i,r)}loadMenuEvent(e,i,r){r._group?r=r._group:r._row&&(r=r._row),e="function"==typeof e?e.call(this.table,i,r.getComponent()):e,this.loadMenu(i,r,e)}loadMenu(e,i,r,o,s){var c,a=!(e instanceof MouseEvent),l=document.createElement("div");if(l.classList.add("tabulator-menu"),a||e.preventDefault(),r&&r.length){if(o)c=s.child(l);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=c=this.popup(l)}r.forEach(d=>{var u=document.createElement("div"),g=d.label,b=d.disabled;d.separator?u.classList.add("tabulator-menu-separator"):(u.classList.add("tabulator-menu-item"),"function"==typeof g&&(g=g.call(this.table,i.getComponent())),g instanceof Node?u.appendChild(g):u.innerHTML=g,"function"==typeof b&&(b=b.call(this.table,i.getComponent())),b?(u.classList.add("tabulator-menu-item-disabled"),u.addEventListener("click",_=>{_.stopPropagation()})):d.menu&&d.menu.length?u.addEventListener("click",_=>{_.stopPropagation(),this.loadMenu(_,i,d.menu,u,c)}):d.action&&u.addEventListener("click",_=>{d.action(_,i.getComponent())}),d.menu&&d.menu.length&&u.classList.add("tabulator-menu-item-submenu")),l.appendChild(u)}),l.addEventListener("click",d=>{this.rootPopup&&this.rootPopup.hide()}),c.show(o||e),c===this.rootPopup&&(this.rootPopup.hideOnBlur(()=>{this.rootPopup=null,this.currentComponent&&(this.dispatch("menu-closed",r,c),this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}),this.currentComponent=i,this.dispatch("menu-opened",r,c),this.dispatchExternal("menuOpened",i.getComponent()))}}})(),B7=(()=>class n extends gt{static moduleName="moveColumn";constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&(this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("alert-show",this.abortMove.bind(this)))}abortMove(){clearTimeout(this.checkTimeout)}initializeColumn(e){var o,i=this,r={};!e.modules.frozen&&!e.isGroup&&!e.isRowHeader&&(o=e.getElement(),r.mousemove=function(s){e.parent===i.moving.parent&&((i.touchMove?s.touches[0].pageX:s.pageX)-$t.elOffset(o).left+i.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?(i.toCol!==e||!i.toColAfter)&&(o.parentNode.insertBefore(i.placeholderElement,o.nextSibling),i.moveColumn(e,!0)):(i.toCol!==e||i.toColAfter)&&(o.parentNode.insertBefore(i.placeholderElement,o),i.moveColumn(e,!1)))}.bind(i),o.addEventListener("mousedown",function(s){i.touchMove=!1,1===s.which&&(i.checkTimeout=setTimeout(function(){i.startMove(s,e)},i.checkPeriod))}),o.addEventListener("mouseup",function(s){1===s.which&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),i.bindTouchEvents(e)),e.modules.moveColumn=r}bindTouchEvents(e){var o,s,a,l,c,d,i=e.getElement(),r=!1;i.addEventListener("touchstart",u=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,o=e.nextColumn(),a=o?o.getWidth()/2:0,s=e.prevColumn(),l=s?s.getWidth()/2:0,c=0,d=0,r=!1,this.startMove(u,e)},this.checkPeriod)},{passive:!0}),i.addEventListener("touchmove",u=>{var g,b;this.moving&&(this.moveHover(u),r||(r=u.touches[0].pageX),(g=u.touches[0].pageX-r)>0?o&&g-c>a&&(b=o)!==e&&(r=u.touches[0].pageX,b.getElement().parentNode.insertBefore(this.placeholderElement,b.getElement().nextSibling),this.moveColumn(b,!0)):s&&-g-d>l&&(b=s)!==e&&(r=u.touches[0].pageX,b.getElement().parentNode.insertBefore(this.placeholderElement,b.getElement()),this.moveColumn(b,!1)),b&&(o=b.nextColumn(),c=a,a=o?o.getWidth()/2:0,s=b.prevColumn(),d=l,l=s?s.getWidth()/2:0))},{passive:!0}),i.addEventListener("touchend",u=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(u)})}startMove(e,i){var r=i.getElement(),o=this.table.columnManager.getContentsElement(),s=this.table.columnManager.getHeadersElement();this.table.modules.selectRange&&this.table.modules.selectRange.columnSelection&&this.table.modules.selectRange.mousedown&&"column"===this.table.modules.selectRange.selecting||(this.moving=i,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-$t.elOffset(r).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=i.getWidth()+"px",this.placeholderElement.style.height=i.getHeight()+"px",r.parentNode.insertBefore(this.placeholderElement,r),r.parentNode.removeChild(r),this.hoverElement=r.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),o.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=o.clientHeight-s.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e),this.dispatch("column-moving",e,this.moving))}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,i){var r=this.moving.getCells();this.toCol=e,this.toColAfter=i,i?e.getCells().forEach(function(o,s){var a=o.getElement(!0);a.parentNode&&r[s]&&a.parentNode.insertBefore(r[s].getElement(),a.nextSibling)}):e.getCells().forEach(function(o,s){var a=o.getElement(!0);a.parentNode&&r[s]&&a.parentNode.insertBefore(r[s].getElement(),a)})}endMove(e){(1===e.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var s,i=this.table.columnManager.getContentsElement(),r=i.scrollLeft,o=(this.touchMove?e.touches[0].pageX:e.pageX)-$t.elOffset(i).left+r;this.hoverElement.style.left=o-this.startX+"px",o-r<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{s=Math.max(0,r-5),this.table.rowManager.getElement().scrollLeft=s,this.autoScrollTimeout=!1},1))),r+i.clientWidth-o<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{s=Math.min(i.clientWidth,r+5),this.table.rowManager.getElement().scrollLeft=s,this.autoScrollTimeout=!1},1)))}})();var V7={delete:function(n,t,e){n.delete()}},z7={insert:function(n,t,e){return this.table.addRow(n.getData(),void 0,t),!0},add:function(n,t,e){return this.table.addRow(n.getData()),!0},update:function(n,t,e){return!!t&&(t.update(n.getData()),!0)},replace:function(n,t,e){return!!t&&(this.table.addRow(n.getData(),void 0,t),t.delete(),!0)}};let H7=(()=>{class n extends gt{static moduleName="moveRow";static senders=V7;static receivers=z7;constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var i=this,r={};r.mouseup=function(o){i.tableRowDrop(o,e)}.bind(i),r.mousemove=function(o){var s;o.pageY-$t.elOffset(e.element).top+i.table.rowManager.element.scrollTop>e.getHeight()/2?(i.toRow!==e||!i.toRowAfter)&&((s=e.getElement()).parentNode.insertBefore(i.placeholderElement,s.nextSibling),i.moveRow(e,!0)):(i.toRow!==e||i.toRowAfter)&&(s=e.getElement()).previousSibling&&(s.parentNode.insertBefore(i.placeholderElement,s),i.moveRow(e,!1))}.bind(i),e.modules.moveRow=r}initializeRow(e){var o,i=this,r={};r.mouseup=function(s){i.tableRowDrop(s,e)}.bind(i),r.mousemove=function(s){var a=e.getElement();s.pageY-$t.elOffset(a).top+i.table.rowManager.element.scrollTop>e.getHeight()/2?(i.toRow!==e||!i.toRowAfter)&&(a.parentNode.insertBefore(i.placeholderElement,a.nextSibling),i.moveRow(e,!0)):(i.toRow!==e||i.toRowAfter)&&(a.parentNode.insertBefore(i.placeholderElement,a),i.moveRow(e,!1))}.bind(i),this.hasHandle||((o=e.getElement()).addEventListener("mousedown",function(s){1===s.which&&(i.checkTimeout=setTimeout(function(){i.startMove(s,e)},i.checkPeriod))}),o.addEventListener("mouseup",function(s){1===s.which&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=r}initializeColumn(e){e.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&!1!==this.table.options.movableRows){var i=this,r=e.getElement(!0);r.addEventListener("mousedown",function(o){1===o.which&&(i.checkTimeout=setTimeout(function(){i.startMove(o,e.row)},i.checkPeriod))}),r.addEventListener("mouseup",function(o){1===o.which&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),this.bindTouchEvents(e.row,r)}}bindTouchEvents(e,i){var o,s,a,l,c,d,r=!1;i.addEventListener("touchstart",u=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,o=e.nextRow(),a=o?o.getHeight()/2:0,s=e.prevRow(),l=s?s.getHeight()/2:0,c=0,d=0,r=!1,this.startMove(u,e)},this.checkPeriod)},{passive:!0}),i.addEventListener("touchmove",u=>{var g,b;this.moving&&(u.preventDefault(),this.moveHover(u),r||(r=u.touches[0].pageY),(g=u.touches[0].pageY-r)>0?o&&g-c>a&&(b=o)!==e&&(r=u.touches[0].pageY,b.getElement().parentNode.insertBefore(this.placeholderElement,b.getElement().nextSibling),this.moveRow(b,!0)):s&&-g-d>l&&(b=s)!==e&&(r=u.touches[0].pageY,b.getElement().parentNode.insertBefore(this.placeholderElement,b.getElement()),this.moveRow(b,!1)),b&&(o=b.nextRow(),c=a,a=o?o.getHeight()/2:0,s=b.prevRow(),d=l,l=s?s.getHeight()/2:0))}),i.addEventListener("touchend",u=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(u),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{("row"===e.type||"group"===e.type)&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{("row"===e.type||"group"===e.type)&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})}startMove(e,i){var r=i.getElement();this.setStartPosition(e,i),this.moving=i,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=i.getWidth()+"px",this.placeholderElement.style.height=i.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(i)):(r.parentNode.insertBefore(this.placeholderElement,r),r.parentNode.removeChild(r)),this.hoverElement=r.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",i.getComponent()),this.moveHover(e)}setStartPosition(e,i){var s,a,r=this.touchMove?e.touches[0].pageX:e.pageX,o=this.touchMove?e.touches[0].pageY:e.pageY;s=i.getElement(),this.connection?(a=s.getBoundingClientRect(),this.startX=a.left-r+window.pageXOffset,this.startY=a.top-o+window.pageYOffset):this.startY=o-s.getBoundingClientRect().top}endMove(e){(!e||1===e.which||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,i){this.toRow=e,this.toRowAfter=i}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var i=this.table.rowManager.getElement(),r=i.scrollTop,o=(this.touchMove?e.touches[0].pageY:e.pageY)-i.getBoundingClientRect().top+r;this.hoverElement.style.top=Math.min(o-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,i,r){this.dispatchExternal("movableRowsElementDrop",e,i,!!r&&r.getComponent())}connectToTables(e){var i;this.connectionSelectorsTables&&(i=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",i),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(r=>{"string"==typeof r?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(r))):this.connectionElements.push(r)}),this.connectionElements.forEach(r=>{var o=s=>{this.elementRowDrop(s,r,this.moving)};r.addEventListener("mouseup",o),r.tabulatorElementDropEvent=o,r.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(i=>{i.classList.remove("tabulator-movingrow-receiving"),i.removeEventListener("mouseup",i.tabulatorElementDropEvent),delete i.tabulatorElementDropEvent})}connect(e,i){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=i,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(r=>{"row"===r.type&&r.modules.moveRow&&r.modules.moveRow.mouseup&&r.getElement().addEventListener("mouseup",r.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",i,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(i=>{"row"===i.type&&i.modules.moveRow&&i.modules.moveRow.mouseup&&i.getElement().removeEventListener("mouseup",i.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,i,r){var o=!1;if(r){switch(typeof this.table.options.movableRowsSender){case"string":o=n.senders[this.table.options.movableRowsSender];break;case"function":o=this.table.options.movableRowsSender}o?o.call(this,this.moving?this.moving.getComponent():void 0,i?i.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),i?i.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),i?i.getComponent():void 0,e);this.endMove()}tableRowDrop(e,i){var r=!1,o=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":r=n.receivers[this.table.options.movableRowsReceiver];break;case"function":r=this.table.options.movableRowsReceiver}r?o=r.call(this,this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),this.dispatchExternal(o?"movableRowsReceived":"movableRowsReceivedFailed",this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:i,success:o})}commsReceived(e,i,r){switch(i){case"connect":return this.connect(e,r.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,r.row,r.success)}}}return n})();var j7={};let U7=(()=>{class n extends gt{static moduleName="mutator";static mutators=j7;constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard","import"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutatorImport"),this.registerColumnOption("mutatorImportParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,i,r){return this.transformRow(i,"data",r)}initializeColumn(e){var i=!1,r={};this.allowedTypes.forEach(o=>{var a,s="mutator"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[s]&&(a=this.lookupMutator(e.definition[s]))&&(i=!0,r[s]={mutator:a,params:e.definition[s+"Params"]||{}})}),i&&(e.modules.mutate=r)}lookupMutator(e){var i=!1;switch(typeof e){case"string":n.mutators[e]?i=n.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":i=e}return i}transformRow(e,i,r){var s,o="mutator"+(i.charAt(0).toUpperCase()+i.slice(1));return this.enabled&&this.table.columnManager.traverse(a=>{var l,c,d;a.modules.mutate&&(l=a.modules.mutate[o]||a.modules.mutate.mutator||!1)&&(s=a.getFieldValue(typeof r<"u"?r:e),("data"==i&&!r||typeof s<"u")&&(d=a.getComponent(),c="function"==typeof l.params?l.params(s,e,i,d):l.params,a.setFieldValue(e,l.mutator(s,e,i,c,d))))}),e}transformCell(e,i){if(e.column.modules.mutate){var r=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,o={};if(r)return o=Object.assign(o,e.row.getData()),e.column.setFieldValue(o,i),r.mutator(i,o,"edit",r.params,e.getComponent())}return i}mutateLink(e){var i=e.column.definition.mutateLink;i&&(Array.isArray(i)||(i=[i]),i.forEach(r=>{var o=e.row.getCell(r);o&&o.setValue(o.getValue(),!0,!0)}))}enable(){this.enabled=!0}disable(){this.enabled=!1}}return n})();var G7={rows:function $7(n,t,e,i,r){var o=document.createElement("span"),s=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),c=document.createElement("span"),d=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",u=>{s.innerHTML=u}),this.table.modules.localize.langBind("pagination|counter|of",u=>{l.innerHTML=u}),this.table.modules.localize.langBind("pagination|counter|rows",u=>{d.innerHTML=u}),i?(a.innerHTML=" "+t+"-"+Math.min(t+n-1,i)+" ",c.innerHTML=" "+i+" ",o.appendChild(s),o.appendChild(a),o.appendChild(l),o.appendChild(c),o.appendChild(d)):(a.innerHTML=" 0 ",o.appendChild(s),o.appendChild(a),o.appendChild(d)),o},pages:function W7(n,t,e,i,r){var o=document.createElement("span"),s=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),c=document.createElement("span"),d=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",u=>{s.innerHTML=u}),a.innerHTML=" "+e+" ",this.table.modules.localize.langBind("pagination|counter|of",u=>{l.innerHTML=u}),c.innerHTML=" "+r+" ",this.table.modules.localize.langBind("pagination|counter|pages",u=>{d.innerHTML=u}),o.appendChild(s),o.appendChild(a),o.appendChild(l),o.appendChild(c),o.appendChild(d),o}};let q7=(()=>{class n extends gt{static moduleName="page";static pageCounters=G7;constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("paginationOutOfRange",!1),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),"page"==this.table.options.paginationAddRow&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,i){var s,r=this.table.rowManager,o=r.getDisplayRows();return i?o.length?s=o[0]:r.activeRows.length&&(s=r.activeRows[r.activeRows.length-1],i=!1):o.length&&(s=o[o.length-1],i=!(o.length<this.size)),{index:s,top:i}}calculatePageSizes(){var e,i;this.table.options.paginationSize?this.size=this.table.options.paginationSize:((e=document.createElement("div")).classList.add("tabulator-row"),e.style.visibility="hidden",(i=document.createElement("div")).classList.add("tabulator-cell"),i.innerHTML="Page Row Test",e.appendChild(i),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,i,r,o){return this.initialLoad||(this.progressiveLoad&&!r||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),o.page=this.page,this.size&&(o.size=this.size),o}userSetPageToRow(e){return this.table.options.pagination&&(e=this.table.rowManager.findRow(e))?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return!!this.table.options.pagination&&(this.setPageSize(e),this.setPage(1))}scrollVertical(e,i){var r;!i&&!this.table.dataLoader.loading&&(r=this.table.rowManager.getElement()).scrollHeight-r.clientHeight-e<(this.table.options.progressiveLoadScrollMargin||2*r.clientHeight)&&this.nextPage().catch(()=>{})}restOnRenderBefore(e,i){return i||"local"===this.mode&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(e=document.createElement("button")).classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))this.pageSizes=e=this.table.options.paginationSizeSelector,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(let i=1;i<5;i++)e.push(this.size*i);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(i=>{var r=document.createElement("option");r.value=i,!0===i?this.langBind("pagination|all",function(o){r.innerHTML=o}):r.innerHTML=i,this.pageSizeSelect.appendChild(r)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,i=null;e&&((i="function"==typeof e?e:n.pageCounters[e])?(this.pageCounter=i,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var i,r;e||(this.langBind("pagination|first",o=>{this.firstBut.innerHTML=o}),this.langBind("pagination|first_title",o=>{this.firstBut.setAttribute("aria-label",o),this.firstBut.setAttribute("title",o)}),this.langBind("pagination|prev",o=>{this.prevBut.innerHTML=o}),this.langBind("pagination|prev_title",o=>{this.prevBut.setAttribute("aria-label",o),this.prevBut.setAttribute("title",o)}),this.langBind("pagination|next",o=>{this.nextBut.innerHTML=o}),this.langBind("pagination|next_title",o=>{this.nextBut.setAttribute("aria-label",o),this.nextBut.setAttribute("title",o)}),this.langBind("pagination|last",o=>{this.lastBut.innerHTML=o}),this.langBind("pagination|last_title",o=>{this.lastBut.setAttribute("aria-label",o),this.lastBut.setAttribute("title",o)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(i=document.createElement("label"),this.langBind("pagination|page_size",o=>{this.pageSizeSelect.setAttribute("aria-label",o),this.pageSizeSelect.setAttribute("title",o),i.innerHTML=o}),this.element.appendChild(i),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",o=>{this.setPageSize("true"==this.pageSizeSelect.value||this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):"string"==typeof this.table.options.paginationCounterElement&&((r=document.querySelector(this.table.options.paginationCounterElement))?r.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){this.max=e?!0===this.size?1:Math.ceil(e/this.size):1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||("local"==this.mode||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return(e=parseInt(e))>0&&e<=this.max||"local"!==this.mode?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var r=this.displayRows(-1).indexOf(e);if(r>-1){var o=!0===this.size?1:Math.ceil((r+1)/this.size);return this.setPage(o)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){!0!==e&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,i,r){var o;if(this.pageCounter)switch("remote"===this.mode&&(i=this.size,r=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),o=this.pageCounter.call(this,i,r,this.page,e,this.max),typeof o){case"object":if(o instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(o)}else this.pageCounterElement.innerHTML="",null!=o&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",o);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=o}}_setPageButtons(){let e=Math.floor((this.count-1)/2),i=Math.ceil((this.count-1)/2),r=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),o=this.page<=i?Math.min(this.count,this.max):Math.min(this.page+i,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let s=r;s<=o;s++)s>0&&s<=this.max&&this.pagesElement.appendChild(this._generatePageButton(s));this.footerRedraw()}_generatePageButton(e){var i=document.createElement("button");return i.classList.add("tabulator-page"),e==this.page&&i.classList.add("active"),i.setAttribute("type","button"),i.setAttribute("role","button"),this.langBind("pagination|page_title",r=>{i.setAttribute("aria-label",r+" "+e),i.setAttribute("title",r+" "+e)}),i.setAttribute("data-page",e),i.textContent=e,i.addEventListener("click",r=>{this.setPage(e)}),i}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var r,o,s,a,i=0,l=e.filter(c=>"row"===c.type);if("local"==this.mode){r=[],this.setMaxRows(e.length),!0===this.size?(o=0,s=e.length):s=(o=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(let c=o;c<s;c++){let d=e[c];d&&(r.push(d),"row"===d.type&&(a||(a=d),i++))}return this._setPageCounter(l.length,i,a?l.indexOf(a)+1:0),r}return this._setPageButtons(),this._setPageCounter(l.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var r;if(typeof e.last_page>"u"&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data){if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate=typeof e.last_row<"u"?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(e.data,!1,1==this.page):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=1===this.page?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,1!==this.page,1==this.page),this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+(this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight)&&this.page<this.max&&setTimeout(()=>{this.nextPage()})}return!1}if(this.page>this.max&&(console.warn("Remote Pagination Error - Server returned last page value lower than the current page"),r=this.options("paginationOutOfRange")))return this.setPage("function"==typeof r?r.call(this,this.page,this.max):r);this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}return n})();var Y7={local:function(n,t){var e=localStorage.getItem(n+"-"+t);return!!e&&JSON.parse(e)},cookie:function(n,t){var o,s,e=document.cookie,i=n+"-"+t,r=e.indexOf(i+"=");return r>-1&&((o=(e=e.slice(r)).indexOf(";"))>-1&&(e=e.slice(0,o)),s=e.replace(i+"=","")),!!s&&JSON.parse(s)}},K7={local:function(n,t,e){localStorage.setItem(n+"-"+t,JSON.stringify(e))},cookie:function(n,t,e){var i=new Date;i.setDate(i.getDate()+1e4),document.cookie=n+"-"+t+"="+JSON.stringify(e)+"; expires="+i.toUTCString()}};let X7=(()=>{class n extends gt{static moduleName="persistence";static moduleInitOrder=-10;static readers=Y7;static writers=K7;constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var r,e=this.table.options.persistenceMode,i=this.table.options.persistenceID;this.mode=!0!==e?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:n.readers[this.table.options.persistenceReaderFunc]?this.readFunc=n.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):n.readers[this.mode]?this.readFunc=n.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:n.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=n.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):n.writers[this.mode]?this.writeFunc=n.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(i||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,headerFilter:!0===this.table.options.persistence||this.table.options.persistence.headerFilter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(r=this.retrieveData("page"))&&(typeof r.paginationSize<"u"&&(!0===this.config.page||this.config.page.size)&&(this.table.options.paginationSize=r.paginationSize),typeof r.paginationInitialPage<"u"&&(!0===this.config.page||this.config.page.page)&&(this.table.options.paginationInitialPage=r.paginationInitialPage)),this.config.group&&(r=this.retrieveData("group"))&&(typeof r.groupBy<"u"&&(!0===this.config.group||this.config.group.groupBy)&&(this.table.options.groupBy=r.groupBy),typeof r.groupStartOpen<"u"&&(!0===this.config.group||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=r.groupStartOpen),typeof r.groupHeader<"u"&&(!0===this.config.group||this.config.group.groupHeader)&&(this.table.options.groupHeader=r.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,i,r;this.config.sort&&(e=this.load("sort"))&&(this.table.options.initialSort=e),this.config.filter&&(i=this.load("filter"))&&(this.table.options.initialFilter=i),this.config.headerFilter&&(r=this.load("headerFilter"))&&(this.table.options.initialHeaderFilter=r)}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e,!0)),!0}initializeColumn(e){var i;this.config.columns&&(this.defWatcherBlock=!0,i=e.getDefinition(),(!0===this.config.columns?Object.keys(i):this.config.columns).forEach(o=>{var s=Object.getOwnPropertyDescriptor(i,o),a=i[o];s&&Object.defineProperty(i,o,{set:l=>{a=l,this.defWatcherBlock||this.save("columns"),s.set&&s.set(l)},get:()=>(s.get&&s.get(),a)})}),this.defWatcherBlock=!1)}load(e,i){var r=this.retrieveData(e);return i&&(r=r?this.mergeDefinition(i,r):i),r}retrieveData(e){return!!this.readFunc&&this.readFunc(this.id,e)}mergeDefinition(e,i,r){var o=[];return(i=i||[]).forEach((s,a)=>{var c,l=this._findColumn(e,s);l&&(r?c=Object.keys(s):!0===this.config.columns||null==this.config.columns?(c=Object.keys(l)).push("width"):c=this.config.columns,c.forEach(d=>{"columns"!==d&&typeof s[d]<"u"&&(l[d]=s[d])}),l.columns&&(l.columns=this.mergeDefinition(l.columns,s.columns)),o.push(l))}),e.forEach((s,a)=>{this._findColumn(i,s)||(o.length>a?o.splice(a,0,s):o.push(s))}),o}_findColumn(e,i){var r=i.columns?"group":i.field?"field":"object";return e.find(function(o){switch(r){case"group":return o.title===i.title&&o.columns.length===i.columns.length;case"field":return o.field===i.field;case"object":return o===i}})}save(e){var i={};switch(e){case"columns":i=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":i=this.table.modules.filter.getFilters();break;case"headerFilter":i=this.table.modules.filter.getHeaderFilters();break;case"sort":i=this.validateSorters(this.table.modules.sort.getSort());break;case"group":i=this.getGroupConfig();break;case"page":i=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,e,i)}validateSorters(e){return e.forEach(function(i){i.column=i.field,delete i.field}),e}getGroupConfig(){var e={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var i=[],r=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(o=>{var l,s={},a=o.getDefinition();o.isGroup?(s.title=a.title,s.columns=this.parseColumns(o.getColumns())):(s.field=o.getField(),!0===this.config.columns||null==this.config.columns?((l=Object.keys(a)).push("width"),l.push("visible")):l=this.config.columns,l.forEach(c=>{switch(c){case"width":s.width=o.getWidth();break;case"visible":s.visible=o.visible;break;default:"function"!=typeof a[c]&&-1===r.indexOf(c)&&(s[c]=a[c])}})),i.push(s)}),i}}return n})(),Z7=(()=>class n extends gt{static moduleName="popup";constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,i,r){this.loadPopupEvent(i,null,e,r)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var i=e.definition;i.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),i.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),i.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),i.headerPopup&&this.initializeColumnHeaderPopup(e),i.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),i.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),i.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var r,i=e.definition.headerPopupIcon;(r=document.createElement("span")).classList.add("tabulator-header-popup-button"),i?("function"==typeof i&&(i=i(e.getComponent())),i instanceof HTMLElement?r.appendChild(i):r.innerHTML=i):r.innerHTML="&vellip;",r.addEventListener("click",o=>{o.stopPropagation(),o.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,o,e)}),e.titleElement.insertBefore(r,e.titleElement.firstChild)}loadPopupTableCellEvent(e,i,r){r._cell&&(r=r._cell),r.column.definition[e]&&this.loadPopupEvent(r.column.definition[e],i,r)}loadPopupTableColumnEvent(e,i,r){r._column&&(r=r._column),r.definition[e]&&this.loadPopupEvent(r.definition[e],i,r)}loadPopupEvent(e,i,r,o){var s;r._group?r=r._group:r._row&&(r=r._row),e="function"==typeof e?e.call(this.table,i,r.getComponent(),function a(l){s=l}):e,this.loadPopup(i,r,e,s,o)}loadPopup(e,i,r,o,s){var l,c,a=!(e instanceof MouseEvent);r instanceof HTMLElement?l=r:(l=document.createElement("div")).innerHTML=r,l.classList.add("tabulator-popup"),l.addEventListener("click",d=>{d.stopPropagation()}),a||e.preventDefault(),c=this.popup(l),"function"==typeof o&&c.renderCallback(o),e?c.show(e):c.show(i.getElement(),s||"center"),c.hideOnBlur(()=>{this.dispatchExternal("popupClosed",i.getComponent())}),this.dispatchExternal("popupOpened",i.getComponent())}})(),Q7=(()=>class n extends gt{static moduleName="print";constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,i,r){var d,u,o=window.scrollX,s=window.scrollY,a=document.createElement("div"),l=document.createElement("div"),c=this.table.modules.export.generateTable(typeof r<"u"?r:this.table.options.printConfig,typeof i<"u"?i:this.table.options.printStyled,e||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(a.classList.add("tabulator-print-header"),"string"==typeof(d="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?a.innerHTML=d:a.appendChild(d),this.element.appendChild(a)),this.element.appendChild(c),this.table.options.printFooter&&(l.classList.add("tabulator-print-footer"),"string"==typeof(u="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?l.innerHTML=u:l.appendChild(u),this.element.appendChild(l)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,c),window.print(),this.cleanup(),window.scrollTo(o,s),this.manualBlock=!1}})(),J7=(()=>class n extends gt{static moduleName="reactiveData";constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var r,i=this;this.currentVersion++,r=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var s,o=Array.from(arguments);return!i.blocked&&r===i.currentVersion&&(i.block("data-push"),o.forEach(a=>{i.table.rowManager.addRowActual(a,!1)}),s=i.origFuncs.push.apply(e,arguments),i.unblock("data-push")),s}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var s,o=Array.from(arguments);return!i.blocked&&r===i.currentVersion&&(i.block("data-unshift"),o.forEach(a=>{i.table.rowManager.addRowActual(a,!0)}),s=i.origFuncs.unshift.apply(e,arguments),i.unblock("data-unshift")),s}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var o,s;return!i.blocked&&r===i.currentVersion&&(i.block("data-shift"),i.data.length&&(o=i.table.rowManager.getRowFromDataObject(i.data[0]))&&o.deleteActual(),s=i.origFuncs.shift.call(e),i.unblock("data-shift")),s}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var o,s;return!i.blocked&&r===i.currentVersion&&(i.block("data-pop"),i.data.length&&(o=i.table.rowManager.getRowFromDataObject(i.data[i.data.length-1]))&&o.deleteActual(),s=i.origFuncs.pop.call(e),i.unblock("data-pop")),s}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var c,d,o=Array.from(arguments),s=o[0]<0?e.length+o[0]:o[0],a=o[1],l=!!o[2]&&o.slice(2);if(!i.blocked&&r===i.currentVersion){if(i.block("data-splice"),l&&((c=!!e[s]&&i.table.rowManager.getRowFromDataObject(e[s]))?l.forEach(g=>{i.table.rowManager.addRowActual(g,!0,c,!0)}):(l=l.slice().reverse()).forEach(g=>{i.table.rowManager.addRowActual(g,!0,!1,!0)})),0!==a){var u=e.slice(s,typeof o[1]>"u"?o[1]:s+a);u.forEach((g,b)=>{var _=i.table.rowManager.getRowFromDataObject(g);_&&_.deleteActual(b!==u.length-1)})}(l||0!==a)&&i.table.rowManager.reRenderInPosition(),d=i.origFuncs.splice.apply(e,arguments),i.unblock("data-splice")}return d}})}unwatchData(){if(!1!==this.data)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var i=e.getData();for(var r in i)this.watchKey(e,i,r);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var i=this,r=e.getData()[this.table.options.dataTreeChildField],o={};r&&(o.push=r.push,Object.defineProperty(r,"push",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-push");var s=o.push.apply(r,arguments);this.rebuildTree(e),i.unblock("tree-push")}return s}}),o.unshift=r.unshift,Object.defineProperty(r,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-unshift");var s=o.unshift.apply(r,arguments);this.rebuildTree(e),i.unblock("tree-unshift")}return s}}),o.shift=r.shift,Object.defineProperty(r,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-shift");var s=o.shift.call(r);this.rebuildTree(e),i.unblock("tree-shift")}return s}}),o.pop=r.pop,Object.defineProperty(r,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-pop");var s=o.pop.call(r);this.rebuildTree(e),i.unblock("tree-pop")}return s}}),o.splice=r.splice,Object.defineProperty(r,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-splice");var s=o.splice.apply(r,arguments);this.rebuildTree(e),i.unblock("tree-splice")}return s}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,i,r){var o=this,s=Object.getOwnPropertyDescriptor(i,r),a=i[r],l=this.currentVersion;Object.defineProperty(i,r,{set:c=>{if(a=c,!o.blocked&&l===o.currentVersion){o.block("key");var d={};d[r]=c,e.updateData(d),o.unblock("key")}s.set&&s.set(c)},get:()=>(s.get&&s.get(),a)})}unwatchRow(e){var i=e.getData();for(var r in i)Object.defineProperty(i,r,{value:i[r]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}})(),ej=(()=>class n extends gt{static moduleName="resizeColumns";constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1),this.registerTableOption("resizableColumnGuide",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){"row"===e.row.type&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var i=e.prevColumn();this.reinitializeColumn(e),i&&this.reinitializeColumn(i)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach(i=>{this.reinitializeColumn(i)}):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach(i=>{this.reinitializeColumn(i)}))}frozenColumnOffset(e){var i=!1;return e.modules.frozen&&(i=e.modules.frozen.marginValue,"left"===e.modules.frozen.position?i+=e.getWidth()-3:i&&(i-=3)),!1!==i&&i+"px"}reinitializeColumn(e){var i=this.frozenColumnOffset(e);e.cells.forEach(r=>{r.modules.resize&&r.modules.resize.handleEl&&(i&&(r.modules.resize.handleEl.style[e.modules.frozen.position]=i,r.modules.resize.handleEl.style["z-index"]=11),r.element.after(r.modules.resize.handleEl))}),e.modules.resize&&e.modules.resize.handleEl&&(i&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=i),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,i,r,o){var s=this,l=r.definition.resizable,c={},d=r.getLastColumn();if("header"===e&&(c={variableHeight:"textarea"==r.definition.formatter||r.definition.variableHeight}),(!0===l||l==e)&&this._checkResizability(d)){var u=document.createElement("span");u.className="tabulator-col-resize-handle",u.addEventListener("click",function(b){b.stopPropagation()});var g=function(b){s.startColumn=r,s.initialNextColumn=s.nextColumn=d.nextColumn(),s._mouseDown(b,d,u)};u.addEventListener("mousedown",g),u.addEventListener("touchstart",g,{passive:!0}),u.addEventListener("dblclick",b=>{var _=d.getWidth();b.stopPropagation(),d.reinitializeWidth(!0),_!==d.getWidth()&&(s.dispatch("column-resized",d),s.dispatchExternal("columnResized",d.getComponent()))}),r.modules.frozen&&(u.style.position="sticky",u.style[r.modules.frozen.position]=this.frozenColumnOffset(r)),c.handleEl=u,o.parentNode&&r.visible&&o.after(u)}i.modules.resize=c}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach(i=>{this.deInitializeComponent(i)})}deInitializeComponent(e){var i;e.modules.resize&&(i=e.modules.resize.handleEl)&&i.parentElement&&i.parentElement.removeChild(i)}resizeHandle(e,i){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=i)}resize(e,i){var a,l,r=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,o=r-this.startX,s=r-this.latestX;if(this.latestX=r,this.table.rtl&&(o=-o,s=-s),a=i.width==i.minWidth||i.width==i.maxWidth,i.setWidth(this.startWidth+o),l=i.width==i.minWidth||i.width==i.maxWidth,s<0&&(this.nextColumn=this.initialNextColumn),this.table.options.resizableColumnFit&&this.nextColumn&&(!a||!l)){let c=this.nextColumn.getWidth();s>0&&c<=this.nextColumn.minWidth&&(this.nextColumn=this.nextColumn.nextColumn()),this.nextColumn&&this.nextColumn.setWidth(this.nextColumn.getWidth()-s)}this.table.columnManager.rerenderColumns(!0),!this.table.browserSlow&&i.modules.resize&&i.modules.resize.variableHeight&&i.checkCellHeights()}calcGuidePosition(e,i,r){var o=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,s=r.getBoundingClientRect().x-this.table.element.getBoundingClientRect().x,a=this.table.element.getBoundingClientRect().x,l=i.element.getBoundingClientRect().left-a,d=Math.max(s+(o-this.startX),l+i.minWidth);return i.maxWidth&&(d=Math.min(d,l+i.maxWidth)),d}_checkResizability(e){return e.definition.resizable}_mouseDown(e,i,r){var s,o=this;function a(c){o.table.options.resizableColumnGuide?s.style.left=o.calcGuidePosition(c,i,r)+"px":o.resize(c,i)}function l(c){o.table.options.resizableColumnGuide&&(o.resize(c,i),s.remove()),o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!1),o.table.browserSlow&&i.modules.resize&&i.modules.resize.variableHeight&&i.checkCellHeights(),document.body.removeEventListener("mouseup",l),document.body.removeEventListener("mousemove",a),r.removeEventListener("touchmove",a),r.removeEventListener("touchend",l),o.table.element.classList.remove("tabulator-block-select"),o.startWidth!==i.getWidth()&&(o.table.columnManager.verticalAlignHeaders(),o.dispatch("column-resized",i),o.dispatchExternal("columnResized",i.getComponent()))}this.dispatchExternal("columnResizing",i.getComponent()),o.table.options.resizableColumnGuide&&((s=document.createElement("span")).classList.add("tabulator-col-resize-guide"),o.table.element.appendChild(s),setTimeout(()=>{s.style.left=o.calcGuidePosition(e,i,r)+"px"})),o.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!0),o.startX=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,o.latestX=o.startX,o.startWidth=i.getWidth(),document.body.addEventListener("mousemove",a),document.body.addEventListener("mouseup",l),r.addEventListener("touchmove",a,{passive:!0}),r.addEventListener("touchend",l)}})(),tj=(()=>class n extends gt{static moduleName="resizeRows";constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1),this.registerTableOption("resizableRowGuide",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var i=this,r=e.getElement(),o=document.createElement("div");o.className="tabulator-row-resize-handle";var s=document.createElement("div");s.className="tabulator-row-resize-handle prev",o.addEventListener("click",function(c){c.stopPropagation()});var a=function(c){i.startRow=e,i._mouseDown(c,e,o)};o.addEventListener("mousedown",a),o.addEventListener("touchstart",a,{passive:!0}),s.addEventListener("click",function(c){c.stopPropagation()});var l=function(c){var d=i.table.rowManager.prevDisplayRow(e);d&&(i.startRow=d,i._mouseDown(c,d,s))};s.addEventListener("mousedown",l),s.addEventListener("touchstart",l,{passive:!0}),r.appendChild(o),r.appendChild(s)}resize(e,i){i.setHeight(this.startHeight+((typeof e.screenY>"u"?e.touches[0].screenY:e.screenY)-this.startY))}calcGuidePosition(e,i,r){var o=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,s=r.getBoundingClientRect().y-this.table.element.getBoundingClientRect().y,a=this.table.element.getBoundingClientRect().y,l=i.element.getBoundingClientRect().top-a;return Math.max(s+(o-this.startY),l)}_mouseDown(e,i,r){var s,o=this;function a(c){o.table.options.resizableRowGuide?s.style.top=o.calcGuidePosition(c,i,r)+"px":o.resize(c,i)}function l(c){o.table.options.resizableRowGuide&&(o.resize(c,i),s.remove()),document.body.removeEventListener("mouseup",a),document.body.removeEventListener("mousemove",a),r.removeEventListener("touchmove",a),r.removeEventListener("touchend",l),o.table.element.classList.remove("tabulator-block-select"),o.dispatchExternal("rowResized",i.getComponent())}o.dispatchExternal("rowResizing",i.getComponent()),o.table.options.resizableRowGuide&&((s=document.createElement("span")).classList.add("tabulator-row-resize-guide"),o.table.element.appendChild(s),setTimeout(()=>{s.style.top=o.calcGuidePosition(e,i,r)+"px"})),o.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),o.startY=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,o.startHeight=i.getHeight(),document.body.addEventListener("mousemove",a),document.body.addEventListener("mouseup",l),r.addEventListener("touchmove",a,{passive:!0}),r.addEventListener("touchend",l)}})(),ij=(()=>class n extends gt{static moduleName="resizeTable";constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var i,e=this.table;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),typeof IntersectionObserver<"u"&&typeof ResizeObserver<"u"&&"virtual"===e.rowManager.getRenderMode()?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver(r=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var o=Math.floor(r[0].contentRect.height),s=Math.floor(r[0].contentRect.width);(this.tableHeight!=o||this.tableWidth!=s)&&(this.tableHeight=o,this.tableWidth=s,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.redrawTable())}}),this.resizeObserver.observe(e.element),i=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(i.getPropertyValue("max-height")||i.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(r=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var o=Math.floor(r[0].contentRect.height),s=Math.floor(r[0].contentRect.width);(this.containerHeight!=o||this.containerWidth!=s)&&(this.containerHeight=o,this.containerWidth=s,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),this.redrawTable()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell))&&(e.columnManager.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)}),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}})();var rj={format:{formatters:{responsiveCollapse:function nj(n,t,e){var i=document.createElement("div"),r=n.getRow()._row.modules.responsiveLayout;function o(s){var a=r.element;r.open=s,a&&(r.open?(i.classList.add("open"),a.style.display=""):(i.classList.remove("open"),a.style.display="none"))}return i.classList.add("tabulator-responsive-collapse-toggle"),i.innerHTML='<svg class=\'tabulator-responsive-collapse-toggle-open\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>\n\n<svg class=\'tabulator-responsive-collapse-toggle-close\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>',n.getElement().classList.add("tabulator-row-handle"),i.addEventListener("click",function(s){s.stopImmediatePropagation(),o(!r.open),n.getTable().rowManager.adjustTableSize()}),o(r.open),i}}}};let oj=(()=>class n extends gt{static moduleName="responsiveLayout";static moduleExtensions=rj;constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.collapseFormatter&&(this.collapseFormatter=this.collapseFormatter.bind(this.table)),this.table.columnManager.columnsByIndex.forEach((i,r)=>{i.modules.responsive&&i.modules.responsive.order&&i.modules.responsive.visible&&(i.modules.responsive.index=r,e.push(i),!i.visible&&"collapse"===this.mode&&this.hiddenColumns.push(i))}),e=(e=e.reverse()).sort((i,r)=>r.modules.responsive.order-i.modules.responsive.order||r.modules.responsive.index-i.modules.responsive.index),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();for(let i of this.table.columnManager.columnsByIndex)if("responsiveCollapse"==i.definition.formatter){this.collapseHandleColumn=i;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var i=e.getDefinition();e.modules.responsive={order:typeof i.responsive>"u"?1:i.responsive,visible:!1!==i.visible}}initializeRow(e){var i;"calc"!==e.type&&((i=document.createElement("div")).classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:i,open:this.collapseStartOpen},this.collapseStartOpen||(i.style.display="none"))}layoutRow(e){var i=e.getElement();e.modules.responsiveLayout&&(i.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,i){!i&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var i=this.hiddenColumns.length;e.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!i&&this.collapseHandleColumn.show())}showColumn(e){var i;e.show(!1,!0),e.setWidth(e.getWidth()),"collapse"===this.mode&&((i=this.hiddenColumns.indexOf(e))>-1&&this.hiddenColumns.splice(i,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=!0;e;){let i="fitColumns"==this.table.modules.layout.getMode()?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),r=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-i;if(r<0){let o=this.columns[this.index];o?(this.hideColumn(o),this.index++):e=!1}else{let o=this.columns[this.index-1];o&&r>0&&r>=o.getWidth()?(this.showColumn(o),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){this.table.rowManager.getDisplayRows().forEach(i=>{this.generateCollapsedRowContent(i)})}generateCollapsedRowContent(e){var i,r;if(e.modules.responsiveLayout){for(i=e.modules.responsiveLayout.element;i.firstChild;)i.removeChild(i.firstChild);(r=this.collapseFormatter(this.generateCollapsedRowData(e)))&&i.appendChild(r),e.calcHeight(!0)}}generateCollapsedRowData(e){var o,i=e.getData(),r=[];return this.hiddenColumns.forEach(s=>{var a=s.getFieldValue(i);s.definition.title&&s.field&&(s.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters?(o={value:!1,data:{},getValue:function(){return a},getData:function(){return i},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return s.getComponent()},getTable:()=>this.table},r.push({field:s.field,title:s.definition.title,value:s.modules.format.formatter.call(this.table.modules.format,o,s.modules.format.params,function(c){c()})})):r.push({field:s.field,title:s.definition.title,value:a}))}),r}formatCollapsedData(e){var i=document.createElement("table");return e.forEach(r=>{var l,o=document.createElement("tr"),s=document.createElement("td"),a=document.createElement("td"),c=document.createElement("strong");s.appendChild(c),this.modules.localize.bind("columns|"+r.field,function(d){c.innerHTML=d||r.title}),r.value instanceof Node?((l=document.createElement("div")).appendChild(r.value),a.appendChild(l)):a.innerHTML=r.value,o.appendChild(s),o.appendChild(a),i.appendChild(o)}),Object.keys(e).length?i:""}})();var aj={format:{formatters:{rowSelection:function sj(n,t,e){var i=document.createElement("input"),r=!1;if(i.type="checkbox",i.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(i.addEventListener("click",s=>{s.stopPropagation()}),"function"==typeof n.getRow){var o=n.getRow();o instanceof If?(i.addEventListener("change",s=>{"click"===this.table.options.selectableRowsRangeMode&&r?r=!1:o.toggleSelect()}),"click"===this.table.options.selectableRowsRangeMode&&i.addEventListener("click",s=>{r=!0,this.table.modules.selectRow.handleComplexRowClick(o._row,s)}),i.checked=o.isSelected&&o.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(o,i)):i=""}else i.addEventListener("change",s=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(t.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(i);return i}}}};let lj=(()=>class n extends gt{static moduleName="selectRow";static moduleExtensions=aj;constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectableRows","highlight"),this.registerTableOption("selectableRowsRangeMode","drag"),this.registerTableOption("selectableRowsRollingSelection",!0),this.registerTableOption("selectableRowsPersistence",!0),this.registerTableOption("selectableRowsCheck",function(i,r){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.deprecatedOptionsCheck(),"highlight"===this.table.options.selectableRows&&this.table.options.selectableRange&&(this.table.options.selectableRows=!1),!1!==this.table.options.selectableRows&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectableRows&&!this.table.options.selectableRowsPersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}deprecatedOptionsCheck(){}rowRetrieve(e,i){return"selected"===e?this.selectedRows:i}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var i=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],i&&!0!==e&&this._rowSelectionChanged()}initializeRow(e){var i=this,r=i.checkRowSelectability(e),o=e.getElement(),s=function(){setTimeout(function(){i.selecting=!1},50),document.body.removeEventListener("mouseup",s)};e.modules.select={selected:!1},o.classList.toggle("tabulator-selectable",r),o.classList.toggle("tabulator-unselectable",!r),i.checkRowSelectability(e)&&i.table.options.selectableRows&&"highlight"!=i.table.options.selectableRows&&("click"===i.table.options.selectableRowsRangeMode?o.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(o.addEventListener("click",function(a){(!i.table.modExists("edit")||!i.table.modules.edit.getCurrentCell())&&i.table._clearSelection(),i.selecting||i.toggleRow(e)}),o.addEventListener("mousedown",function(a){if(a.shiftKey)return i.table._clearSelection(),i.selecting=!0,i.selectPrev=[],document.body.addEventListener("mouseup",s),document.body.addEventListener("keyup",s),i.toggleRow(e),!1}),o.addEventListener("mouseenter",function(a){i.selecting&&(i.table._clearSelection(),i.toggleRow(e),i.selectPrev[1]==e&&i.toggleRow(i.selectPrev[0]))}),o.addEventListener("mouseout",function(a){i.selecting&&(i.table._clearSelection(),i.selectPrev.unshift(e))})))}handleComplexRowClick(e,i){if(i.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var r=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),o=this.table.rowManager.getDisplayRowIndex(e),s=r<=o?r:o,a=r>=o?r:o,c=this.table.rowManager.getDisplayRows().slice(0).splice(s,a-s+1);i.ctrlKey||i.metaKey?(c.forEach(d=>{d!==this.lastClickedRow&&(!0===this.table.options.selectableRows||this.isRowSelected(e)||this.selectedRows.length<this.table.options.selectableRows)&&this.toggleRow(d)}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),!0!==this.table.options.selectableRows&&c.length>this.table.options.selectableRows&&(c=c.slice(0,this.table.options.selectableRows)),this.selectRows(c)),this.table._clearSelection()}else i.ctrlKey||i.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return!(!e||"row"!==e.type)&&this.table.options.selectableRowsCheck.call(this.table,e.getComponent())}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var r,o,i=[];switch(typeof e){case"undefined":r=this.table.rowManager.rows;break;case"number":r=this.table.rowManager.findRow(e);break;case"string":(r=this.table.rowManager.findRow(e))||(r=this.table.rowManager.getRows(e));break;default:r=e}Array.isArray(r)?r.length&&(r.forEach(s=>{(o=this._selectRow(s,!0,!0))&&i.push(o)}),this._rowSelectionChanged(!1,i)):r&&this._selectRow(r,!1,!0)}_selectRow(e,i,r){if(!isNaN(this.table.options.selectableRows)&&!0!==this.table.options.selectableRows&&!r&&this.selectedRows.length>=this.table.options.selectableRows){if(!this.table.options.selectableRowsRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var o=this.table.rowManager.findRow(e);if(o){if(-1==this.selectedRows.indexOf(o))return o.getElement().classList.add("tabulator-selected"),o.modules.select||(o.modules.select={}),o.modules.select.selected=!0,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!0),this.selectedRows.push(o),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!0),this.dispatchExternal("rowSelected",o.getComponent()),this._rowSelectionChanged(i,o),o}else i||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return-1!==this.selectedRows.indexOf(e)}deselectRows(e,i){var o,s,r=[];switch(typeof e){case"undefined":o=Object.assign([],this.selectedRows);break;case"number":o=this.table.rowManager.findRow(e);break;case"string":(o=this.table.rowManager.findRow(e))||(o=this.table.rowManager.getRows(e));break;default:o=e}Array.isArray(o)?o.length&&(o.forEach(a=>{(s=this._deselectRow(a,!0,!0))&&r.push(s)}),this._rowSelectionChanged(i,[],r)):o&&this._deselectRow(o,i,!0)}_deselectRow(e,i){var s,a,r=this,o=r.table.rowManager.findRow(e);if(o){if((s=r.selectedRows.findIndex(function(l){return l==o}))>-1)return(a=o.getElement())&&a.classList.remove("tabulator-selected"),o.modules.select||(o.modules.select={}),o.modules.select.selected=!1,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!1),r.selectedRows.splice(s,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!1),this.dispatchExternal("rowDeselected",o.getComponent()),r._rowSelectionChanged(i,void 0,o),o}else i||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(i){e.push(i.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(i){e.push(i.getComponent())}),e}_rowSelectionChanged(e,i=[],r=[]){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||(Array.isArray(i)||(i=[i]),i=i.map(o=>o.getComponent()),Array.isArray(r)||(r=[r]),r=r.map(o=>o.getComponent()),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),i,r))}registerRowSelectCheckbox(e,i){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=i}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,i){var r=this.table.modules.dataTree.getChildren(e,!0,!0);if(i)for(let o of r)this._selectRow(o,!0);else for(let o of r)this._deselectRow(o,!0)}})();class cj{constructor(t){return this._range=t,new Proxy(this,{get:function(e,i,r){return typeof e[i]<"u"?e[i]:e._range.table.componentFunctionBinder.handle("range",e._range,i)}})}getElement(){return this._range.element}getData(){return this._range.getData()}getCells(){return this._range.getCells(!0,!0)}getStructuredCells(){return this._range.getStructuredCells()}getRows(){return this._range.getRows().map(t=>t.getComponent())}getColumns(){return this._range.getColumns().map(t=>t.getComponent())}getBounds(){return this._range.getBounds()}getTopEdge(){return this._range.top}getBottomEdge(){return this._range.bottom}getLeftEdge(){return this._range.left}getRightEdge(){return this._range.right}setBounds(t,e){this._range.destroyedGuard("setBounds")&&this._range.setBounds(t&&t._cell,e&&e._cell)}setStartBound(t){this._range.destroyedGuard("setStartBound")&&(this._range.setEndBound(t&&t._cell),this._range.rangeManager.layoutElement())}setEndBound(t){this._range.destroyedGuard("setEndBound")&&(this._range.setEndBound(t&&t._cell),this._range.rangeManager.layoutElement())}clearValues(){this._range.destroyedGuard("clearValues")&&this._range.clearValues()}remove(){this._range.destroyedGuard("remove")&&this._range.destroy(!0)}}class dj extends Ui{constructor(t,e,i,r){super(t),this.rangeManager=e,this.element=null,this.initialized=!1,this.initializing={start:!1,end:!1},this.destroyed=!1,this.top=0,this.bottom=0,this.left=0,this.right=0,this.table=t,this.start={row:0,col:0},this.end={row:0,col:0},this.rangeManager.rowHeader&&(this.left=1,this.right=1,this.start.col=1,this.end.col=1),this.initElement(),setTimeout(()=>{this.initBounds(i,r)})}initElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-range")}initBounds(t,e){this._updateMinMax(),t&&this.setBounds(t,e||t)}setStart(t,e){(this.start.row!==t||this.start.col!==e)&&(this.start.row=t,this.start.col=e,this.initializing.start=!0,this._updateMinMax())}setEnd(t,e){(this.end.row!==t||this.end.col!==e)&&(this.end.row=t,this.end.col=e,this.initializing.end=!0,this._updateMinMax())}setBounds(t,e,i){t&&this.setStartBound(t),this.setEndBound(e||t),this.rangeManager.layoutElement(i)}setStartBound(t){var e,i;"column"===t.type?this.rangeManager.columnSelection&&this.setStart(0,t.getPosition()-1):(e=t.row.position-1,i=t.column.getPosition()-1,this.setStart(e,t.column===this.rangeManager.rowHeader?1:i))}setEndBound(t){var i,r,o,e=this._getTableRows().length;"column"===t.type?this.rangeManager.columnSelection&&("column"===this.rangeManager.selecting?this.setEnd(e-1,t.getPosition()-1):"cell"===this.rangeManager.selecting&&this.setEnd(0,t.getPosition()-1)):(i=t.row.position-1,r=t.column.getPosition()-1,o=t.column===this.rangeManager.rowHeader,"row"===this.rangeManager.selecting?this.setEnd(i,this._getTableColumns().length-1):"row"!==this.rangeManager.selecting&&o?this.setEnd(i,0):this.setEnd("column"===this.rangeManager.selecting?e-1:i,r))}_updateMinMax(){this.top=Math.min(this.start.row,this.end.row),this.bottom=Math.max(this.start.row,this.end.row),this.left=Math.min(this.start.col,this.end.col),this.right=Math.max(this.start.col,this.end.col),this.initialized?this.dispatchExternal("rangeChanged",this.getComponent()):this.initializing.start&&this.initializing.end&&(this.initialized=!0,this.dispatchExternal("rangeAdded",this.getComponent()))}_getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}_getTableRows(){return this.table.rowManager.getDisplayRows().filter(t=>"row"===t.type)}layout(){var o,s,a,l,c,d,u,g,b,_,t=this.table.rowManager.renderer.vDomTop,e=this.table.rowManager.renderer.vDomBottom,i=this.table.columnManager.renderer.leftCol,r=this.table.columnManager.renderer.rightCol;"virtual"===this.table.options.renderHorizontal&&this.rangeManager.rowHeader&&(r+=1),null==t&&(t=0),null==e&&(e=1/0),null==i&&(i=0),null==r&&(r=1/0),this.overlaps(i,t,r,e)&&(o=Math.max(this.top,t),s=Math.min(this.bottom,e),a=Math.max(this.left,i),l=Math.min(this.right,r),c=this.rangeManager.getCell(o,a),d=this.rangeManager.getCell(s,l),u=c.getElement(),g=d.getElement(),b=c.row.getElement(),_=d.row.getElement(),this.element.classList.add("tabulator-range-active"),this.table.rtl?(this.element.style.right=b.offsetWidth-u.offsetLeft-u.offsetWidth+"px",this.element.style.width=u.offsetLeft+u.offsetWidth-g.offsetLeft+"px"):(this.element.style.left=b.offsetLeft+u.offsetLeft+"px",this.element.style.width=g.offsetLeft+g.offsetWidth-u.offsetLeft+"px"),this.element.style.top=b.offsetTop+"px",this.element.style.height=_.offsetTop+_.offsetHeight-b.offsetTop+"px")}atTopLeft(t){return t.row.position-1===this.top&&t.column.getPosition()-1===this.left}atBottomRight(t){return t.row.position-1===this.bottom&&t.column.getPosition()-1===this.right}occupies(t){return this.occupiesRow(t.row)&&this.occupiesColumn(t.column)}occupiesRow(t){return this.top<=t.position-1&&t.position-1<=this.bottom}occupiesColumn(t){return this.left<=t.getPosition()-1&&t.getPosition()-1<=this.right}overlaps(t,e,i,r){return!(this.left>i||t>this.right||this.top>r||e>this.bottom)}getData(){var t=[],e=this.getRows(),i=this.getColumns();return e.forEach(r=>{var o=r.getData(),s={};i.forEach(a=>{s[a.field]=o[a.field]}),t.push(s)}),t}getCells(t,e){var i=[],r=this.getRows(),o=this.getColumns();return t?i=r.map(s=>{var a=[];return s.getCells().forEach(l=>{o.includes(l.column)&&a.push(e?l.getComponent():l)}),a}):r.forEach(s=>{s.getCells().forEach(a=>{o.includes(a.column)&&i.push(e?a.getComponent():a)})}),i}getStructuredCells(){return this.getCells(!0,!0)}getRows(){return this._getTableRows().slice(this.top,this.bottom+1)}getColumns(){return this._getTableColumns().slice(this.left,this.right+1)}clearValues(){var t=this.getCells(),e=this.table.options.selectableRangeClearCellsValue;this.table.blockRedraw(),t.forEach(i=>{i.setValue(e)}),this.table.restoreRedraw()}getBounds(t){var e=this.getCells(!1,t),i={start:null,end:null};return e.length?(i.start=e[0],i.end=e[e.length-1]):console.warn("No bounds defined on range"),i}getComponent(){return this.component||(this.component=new cj(this)),this.component}destroy(t){this.destroyed=!0,this.element.remove(),t&&this.rangeManager.rangeRemoved(this),this.initialized&&this.dispatchExternal("rangeRemoved",this.getComponent())}destroyedGuard(t){return this.destroyed&&console.warn("You cannot call the "+t+" function on a destroyed range"),!this.destroyed}}var bj={keybindings:{bindings:{rangeJumpUp:["ctrl + 38","meta + 38"],rangeJumpDown:["ctrl + 40","meta + 40"],rangeJumpLeft:["ctrl + 37","meta + 37"],rangeJumpRight:["ctrl + 39","meta + 39"],rangeExpandUp:"shift + 38",rangeExpandDown:"shift + 40",rangeExpandLeft:"shift + 37",rangeExpandRight:"shift + 39",rangeExpandJumpUp:["ctrl + shift + 38","meta + shift + 38"],rangeExpandJumpDown:["ctrl + shift + 40","meta + shift + 40"],rangeExpandJumpLeft:["ctrl + shift + 37","meta + shift + 37"],rangeExpandJumpRight:["ctrl + shift + 39","meta + shift + 39"]},actions:{rangeJumpLeft:function(n){this.dispatch("keybinding-nav-range",n,"left",!0,!1)},rangeJumpRight:function(n){this.dispatch("keybinding-nav-range",n,"right",!0,!1)},rangeJumpUp:function(n){this.dispatch("keybinding-nav-range",n,"up",!0,!1)},rangeJumpDown:function(n){this.dispatch("keybinding-nav-range",n,"down",!0,!1)},rangeExpandLeft:function(n){this.dispatch("keybinding-nav-range",n,"left",!1,!0)},rangeExpandRight:function(n){this.dispatch("keybinding-nav-range",n,"right",!1,!0)},rangeExpandUp:function(n){this.dispatch("keybinding-nav-range",n,"up",!1,!0)},rangeExpandDown:function(n){this.dispatch("keybinding-nav-range",n,"down",!1,!0)},rangeExpandJumpLeft:function(n){this.dispatch("keybinding-nav-range",n,"left",!0,!0)},rangeExpandJumpRight:function(n){this.dispatch("keybinding-nav-range",n,"right",!0,!0)},rangeExpandJumpUp:function(n){this.dispatch("keybinding-nav-range",n,"up",!0,!0)},rangeExpandJumpDown:function(n){this.dispatch("keybinding-nav-range",n,"down",!0,!0)}}},clipboard:{pasteActions:{range:function(n){var r,o,s,a,l,t=[],e=this.table.modules.selectRange.activeRange,i=!1;return l=n.length,e&&((r=e.getBounds()).start===r.end&&(i=!0),(o=r.start)&&(s=(t=this.table.rowManager.activeRows.slice()).indexOf(o.row),a=i?n.length:t.indexOf(r.end.row)-s+1,s>-1&&(this.table.blockRedraw(),(t=t.slice(s,s+a)).forEach((c,d)=>{c.updateData(n[d%l])}),this.table.restoreRedraw()))),t}},pasteParsers:{range:function(n){var o,s,a,l,c,t=[],e=[],i=this.table.modules.selectRange.activeRange,r=!1;return!!(i&&(o=i.getBounds(),s=o.start,o.start===o.end&&(r=!0),s&&(n=n.split("\n"),n.forEach(function(d){t.push(d.split("\t"))}),t.length&&(l=this.table.columnManager.getVisibleColumnsByIndex(),c=l.indexOf(s.column),c>-1))))&&(a=r?t[0].length:l.indexOf(o.end.column)-c+1,l=l.slice(c,c+a),t.forEach(d=>{var u={},g=d.length;l.forEach(function(b,_){u[b.field]=d[_%g]}),e.push(u)}),e)}}},export:{columnLookups:{range:function(){var n=this.modules.selectRange.selectedColumns();return this.columnManager.rowHeader&&n.unshift(this.columnManager.rowHeader),n}},rowLookups:{range:function(){return this.modules.selectRange.selectedRows()}}}};let vj=(()=>class n extends gt{static moduleName="selectRange";static moduleInitOrder=1;static moduleExtensions=bj;constructor(e){super(e),this.selecting="cell",this.mousedown=!1,this.ranges=[],this.overlay=null,this.rowHeader=null,this.layoutChangeTimeout=null,this.columnSelection=!1,this.rowSelection=!1,this.maxRanges=0,this.activeRange=!1,this.blockKeydown=!1,this.keyDownEvent=this._handleKeyDown.bind(this),this.mouseUpEvent=this._handleMouseUp.bind(this),this.registerTableOption("selectableRange",!1),this.registerTableOption("selectableRangeColumns",!1),this.registerTableOption("selectableRangeRows",!1),this.registerTableOption("selectableRangeClearCells",!1),this.registerTableOption("selectableRangeClearCellsValue",void 0),this.registerTableOption("selectableRangeAutoFocus",!0),this.registerTableFunction("getRangesData",this.getRangesData.bind(this)),this.registerTableFunction("getRanges",this.getRanges.bind(this)),this.registerTableFunction("addRange",this.addRangeFromComponent.bind(this)),this.registerComponentFunction("cell","getRanges",this.cellGetRanges.bind(this)),this.registerComponentFunction("row","getRanges",this.rowGetRanges.bind(this)),this.registerComponentFunction("column","getRanges",this.colGetRanges.bind(this))}initialize(){this.options("selectableRange")&&(this.options("selectableRows")?console.warn("SelectRange functionality cannot be used in conjunction with row selection"):(this.maxRanges=this.options("selectableRange"),this.initializeTable(),this.initializeWatchers()),this.options("columns").findIndex(e=>e.frozen)>0&&console.warn("Having frozen column in arbitrary position with selectRange option may result in unpredictable behavior."),this.options("columns").filter(e=>e.frozen)>1&&console.warn("Having multiple frozen columns with selectRange option may result in unpredictable behavior."))}initializeTable(){this.overlay=document.createElement("div"),this.overlay.classList.add("tabulator-range-overlay"),this.rangeContainer=document.createElement("div"),this.rangeContainer.classList.add("tabulator-range-container"),this.activeRangeCellElement=document.createElement("div"),this.activeRangeCellElement.classList.add("tabulator-range-cell-active"),this.overlay.appendChild(this.rangeContainer),this.overlay.appendChild(this.activeRangeCellElement),this.table.rowManager.element.addEventListener("keydown",this.keyDownEvent),this.resetRanges(),this.table.rowManager.element.appendChild(this.overlay),this.table.columnManager.element.setAttribute("tabindex",0),this.table.element.classList.add("tabulator-ranges")}initializeWatchers(){this.columnSelection=this.options("selectableRangeColumns"),this.rowSelection=this.options("selectableRangeRows"),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-mousedown",this.handleColumnMouseDown.bind(this)),this.subscribe("column-mousemove",this.handleColumnMouseMove.bind(this)),this.subscribe("column-resized",this.handleColumnResized.bind(this)),this.subscribe("column-moving",this.handleColumnMoving.bind(this)),this.subscribe("column-moved",this.handleColumnMoved.bind(this)),this.subscribe("column-width",this.layoutChange.bind(this)),this.subscribe("column-height",this.layoutChange.bind(this)),this.subscribe("column-resized",this.layoutChange.bind(this)),this.subscribe("columns-loaded",this.updateHeaderColumn.bind(this)),this.subscribe("cell-height",this.layoutChange.bind(this)),this.subscribe("cell-rendered",this.renderCell.bind(this)),this.subscribe("cell-mousedown",this.handleCellMouseDown.bind(this)),this.subscribe("cell-mousemove",this.handleCellMouseMove.bind(this)),this.subscribe("cell-click",this.handleCellClick.bind(this)),this.subscribe("cell-editing",this.handleEditingCell.bind(this)),this.subscribe("page-changed",this.redraw.bind(this)),this.subscribe("scroll-vertical",this.layoutChange.bind(this)),this.subscribe("scroll-horizontal",this.layoutChange.bind(this)),this.subscribe("data-destroy",this.tableDestroyed.bind(this)),this.subscribe("data-processed",this.resetRanges.bind(this)),this.subscribe("table-layout",this.layoutElement.bind(this)),this.subscribe("table-redraw",this.redraw.bind(this)),this.subscribe("table-destroy",this.tableDestroyed.bind(this)),this.subscribe("edit-editor-clear",this.finishEditingCell.bind(this)),this.subscribe("edit-blur",this.restoreFocus.bind(this)),this.subscribe("keybinding-nav-prev",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-next",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-left",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-right",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-up",this.keyNavigate.bind(this,"up")),this.subscribe("keybinding-nav-down",this.keyNavigate.bind(this,"down")),this.subscribe("keybinding-nav-range",this.keyNavigateRange.bind(this))}initializeColumn(e){this.columnSelection&&e.definition.headerSort&&"icon"!==this.options("headerSortClickElement")&&console.warn("Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'.")}updateHeaderColumn(){var e;this.rowSelection&&(this.rowHeader=this.table.columnManager.getVisibleColumnsByIndex()[0],this.rowHeader&&(this.rowHeader.definition.cssClass=this.rowHeader.definition.cssClass+" tabulator-range-row-header",this.rowHeader.definition.headerSort&&console.warn("Using column headerSort with selectableRangeRows option may result in unpredictable behavior"),this.rowHeader.definition.editor&&console.warn("Using column editor with selectableRangeRows option may result in unpredictable behavior"))),this.table.modules.frozenColumns&&this.table.modules.frozenColumns.active&&((e=this.table.modules.frozenColumns.getFrozenColumns()).length>1||1===e.length&&e[0]!==this.rowHeader)&&console.warn("Using frozen columns that are not the range header in combination with the selectRange option may result in unpredictable behavior")}getRanges(){return this.ranges.map(e=>e.getComponent())}getRangesData(){return this.ranges.map(e=>e.getData())}addRangeFromComponent(e,i){return this.addRange(e=e?e._cell:null,i=i?i._cell:null)}cellGetRanges(e){return this.ranges.filter(e.column===this.rowHeader?r=>r.occupiesRow(e.row):r=>r.occupies(e)).map(r=>r.getComponent())}rowGetRanges(e){return this.ranges.filter(r=>r.occupiesRow(e)).map(r=>r.getComponent())}colGetRanges(e){return this.ranges.filter(r=>r.occupiesColumn(e)).map(r=>r.getComponent())}_handleMouseUp(e){this.mousedown=!1,document.removeEventListener("mouseup",this.mouseUpEvent)}_handleKeyDown(e){if(!this.blockKeydown&&(!this.table.modules.edit||this.table.modules.edit&&!this.table.modules.edit.currentCell)){if("Enter"===e.key){if(this.table.modules.edit&&this.table.modules.edit.currentCell)return;this.table.modules.edit.editCell(this.getActiveCell()),e.preventDefault()}("Backspace"===e.key||"Delete"===e.key)&&this.options("selectableRangeClearCells")&&this.activeRange&&this.activeRange.clearValues()}}initializeFocus(e){var i;this.restoreFocus();try{document.selection?((i=document.body.createTextRange()).moveToElementText(e.getElement()),i.select()):window.getSelection&&((i=document.createRange()).selectNode(e.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(i))}catch{}}restoreFocus(e){return this.table.rowManager.element.focus(),!0}handleColumnResized(e){"column"!==this.selecting&&"all"!==this.selecting||this.ranges.some(r=>r.occupiesColumn(e))&&this.ranges.forEach(r=>{r.getColumns(!0).forEach(s=>{s!==e&&s.setWidth(e.width)})})}handleColumnMoving(e,i){this.resetRanges().setBounds(i),this.overlay.style.visibility="hidden"}handleColumnMoved(e,i,r){this.activeRange.setBounds(e),this.layoutElement()}handleColumnMouseDown(e,i){2===e.button&&("column"===this.selecting||"all"===this.selecting)&&this.activeRange.occupiesColumn(i)||this.table.options.movableColumns&&"column"===this.selecting&&this.activeRange.occupiesColumn(i)||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,i))}handleColumnMouseMove(e,i){i===this.rowHeader||!this.mousedown||"all"===this.selecting||this.activeRange.setBounds(!1,i,!0)}renderCell(e){var i=e.getElement(),r=this.ranges.findIndex(o=>o.occupies(e));i.classList.toggle("tabulator-range-selected",-1!==r),i.classList.toggle("tabulator-range-only-cell-selected",1===this.ranges.length&&this.ranges[0].atTopLeft(e)&&this.ranges[0].atBottomRight(e)),i.dataset.range=r}handleCellMouseDown(e,i){2===e.button&&(this.activeRange.occupies(i)||("row"===this.selecting||"all"===this.selecting)&&this.activeRange.occupiesRow(i.row))||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,i))}handleCellMouseMove(e,i){!this.mousedown||"all"===this.selecting||this.activeRange.setBounds(!1,i,!0)}handleCellClick(e,i){this.initializeFocus(i)}handleEditingCell(e){this.activeRange&&this.activeRange.setBounds(e)}finishEditingCell(){this.blockKeydown=!0,this.table.rowManager.element.focus(),setTimeout(()=>{this.blockKeydown=!1},10)}keyNavigate(e,i){this.navigate(!1,!1,e),i.preventDefault()}keyNavigateRange(e,i,r,o){this.navigate(r,o,i),e.preventDefault()}navigate(e,i,r){var s,a,l,c,d,u,g,b,_,w,C;if(this.table.modules.edit&&this.table.modules.edit.currentCell)return!1;if(this.ranges.length>1&&(this.ranges=this.ranges.filter(M=>M===this.activeRange?(M.setEnd(M.start.row,M.start.col),!0):(M.destroy(),!1))),l={top:(s=this.activeRange).top,bottom:s.bottom,left:s.left,right:s.right},c=(a=i?s.end:s.start).row,d=a.col,e)switch(r){case"left":d=this.findJumpCellLeft(s.start.row,a.col);break;case"right":d=this.findJumpCellRight(s.start.row,a.col);break;case"up":c=this.findJumpCellUp(a.row,s.start.col);break;case"down":c=this.findJumpCellDown(a.row,s.start.col)}else{if(i&&("row"===this.selecting&&("left"===r||"right"===r)||"column"===this.selecting&&("up"===r||"down"===r)))return;switch(r){case"left":d=Math.max(d-1,0);break;case"right":d=Math.min(d+1,this.getTableColumns().length-1);break;case"up":c=Math.max(c-1,0);break;case"down":c=Math.min(c+1,this.getTableRows().length-1)}}return this.rowHeader&&0===d&&(d=1),i||s.setStart(c,d),s.setEnd(c,d),i||(this.selecting="cell"),l.top!==s.top||l.bottom!==s.bottom||l.left!==s.left||l.right!==s.right?(u=this.getRowByRangePos(s.end.row),g=this.getColumnByRangePos(s.end.col),b=u.getElement().getBoundingClientRect(),w=g.getElement().getBoundingClientRect(),_=this.table.rowManager.getElement().getBoundingClientRect(),C=this.table.columnManager.getElement().getBoundingClientRect(),b.top>=_.top&&b.bottom<=_.bottom||(u.getElement().parentNode&&g.getElement().parentNode?this.autoScroll(s,u.getElement(),g.getElement()):u.getComponent().scrollTo(void 0,!1)),w.left>=C.left+this.getRowHeaderWidth()&&w.right<=C.right||(u.getElement().parentNode&&g.getElement().parentNode?this.autoScroll(s,u.getElement(),g.getElement()):g.getComponent().scrollTo(void 0,!1)),this.layoutElement(),!0):void 0}rangeRemoved(e){this.ranges=this.ranges.filter(i=>i!==e),this.activeRange===e&&(this.ranges.length?this.activeRange=this.ranges[this.ranges.length-1]:this.addRange()),this.layoutElement()}findJumpRow(e,i,r,o,s){return r&&(i=i.reverse()),this.findJumpItem(o,s,i,function(a){return a.getData()[e.getField()]})}findJumpCol(e,i,r,o,s){return r&&(i=i.reverse()),this.findJumpItem(o,s,i,function(a){return e.getData()[a.getField()]})}findJumpItem(e,i,r,o){var s;for(let a of r){let l=o(a);if(e){if(s=a,l)break}else if(i){if(s=a,l)break}else{if(!l)break;s=a}}return s}findJumpCellLeft(e,i){var r=this.getRowByRangePos(e),o=this.getTableColumns(),s=this.isEmpty(r.getData()[o[i].getField()]),a=!!o[i-1]&&this.isEmpty(r.getData()[o[i-1].getField()]),l=o.slice(this.rowHeader?1:0,i),c=this.findJumpCol(r,l,!0,s,a);return c?c.getPosition()-1:i}findJumpCellRight(e,i){var r=this.getRowByRangePos(e),o=this.getTableColumns(),s=this.isEmpty(r.getData()[o[i].getField()]),a=!!o[i+1]&&this.isEmpty(r.getData()[o[i+1].getField()]),l=this.findJumpCol(r,o.slice(i+1,o.length),!1,s,a);return l?l.getPosition()-1:i}findJumpCellUp(e,i){var r=this.getColumnByRangePos(i),o=this.getTableRows(),s=this.isEmpty(o[e].getData()[r.getField()]),a=!!o[e-1]&&this.isEmpty(o[e-1].getData()[r.getField()]),l=this.findJumpRow(r,o.slice(0,e),!0,s,a);return l?l.position-1:e}findJumpCellDown(e,i){var r=this.getColumnByRangePos(i),o=this.getTableRows(),s=this.isEmpty(o[e].getData()[r.getField()]),a=!!o[e+1]&&this.isEmpty(o[e+1].getData()[r.getField()]),l=this.findJumpRow(r,o.slice(e+1,o.length),!1,s,a);return l?l.position-1:e}newSelection(e,i){var r;if("column"===i.type){if(!this.columnSelection)return;if(i===this.rowHeader){r=this.resetRanges(),this.selecting="all";var o,s=this.getCell(-1,-1);return o=this.getCell(0,this.rowHeader?1:0),void r.setBounds(o,s)}this.selecting="column"}else this.selecting=i.column===this.rowHeader?"row":"cell";e.shiftKey?this.activeRange.setBounds(!1,i):e.ctrlKey?this.addRange().setBounds(i):this.resetRanges().setBounds(i)}autoScroll(e,i,r){var s,a,c,o=this.table.rowManager.element;typeof i>"u"&&(i=this.getRowByRangePos(e.end.row).getElement()),typeof r>"u"&&(r=this.getColumnByRangePos(e.end.col).getElement()),s={left:r.offsetLeft,right:r.offsetLeft+r.offsetWidth,top:i.offsetTop,bottom:i.offsetTop+i.offsetHeight},c=(a={left:o.scrollLeft+this.getRowHeaderWidth(),right:Math.ceil(o.scrollLeft+o.clientWidth),top:o.scrollTop,bottom:o.scrollTop+o.offsetHeight-this.table.rowManager.scrollbarWidth}).top<s.top&&s.top<a.bottom&&a.top<s.bottom&&s.bottom<a.bottom,a.left<s.left&&s.left<a.right&&a.left<s.right&&s.right<a.right||(s.left<a.left?o.scrollLeft=s.left-this.getRowHeaderWidth():s.right>a.right&&(o.scrollLeft=Math.min(s.right-o.clientWidth,s.left-this.getRowHeaderWidth()))),c||(s.top<a.top?o.scrollTop=s.top:s.bottom>a.bottom&&(o.scrollTop=s.bottom-o.clientHeight))}layoutChange(){this.overlay.style.visibility="hidden",clearTimeout(this.layoutChangeTimeout),this.layoutChangeTimeout=setTimeout(this.layoutRanges.bind(this),200)}redraw(e){e&&(this.selecting="cell",this.resetRanges(),this.layoutElement())}layoutElement(e){(e?this.table.rowManager.getVisibleRows(!0):this.table.rowManager.getRows()).forEach(r=>{"row"===r.type&&(this.layoutRow(r),r.cells.forEach(o=>this.renderCell(o)))}),this.getTableColumns().forEach(r=>{this.layoutColumn(r)}),this.layoutRanges()}layoutRow(e){var i=e.getElement(),r=!1,o=this.ranges.some(s=>s.occupiesRow(e));"row"===this.selecting?r=o:"all"===this.selecting&&(r=!0),i.classList.toggle("tabulator-range-selected",r),i.classList.toggle("tabulator-range-highlight",o)}layoutColumn(e){var i=e.getElement(),r=!1,o=this.ranges.some(s=>s.occupiesColumn(e));"column"===this.selecting?r=o:"all"===this.selecting&&(r=!0),i.classList.toggle("tabulator-range-selected",r),i.classList.toggle("tabulator-range-highlight",o)}layoutRanges(){var e,i,r;this.table.initialized&&(e=this.getActiveCell())&&(i=e.getElement(),r=e.row.getElement(),this.table.rtl?this.activeRangeCellElement.style.right=r.offsetWidth-i.offsetLeft-i.offsetWidth+"px":this.activeRangeCellElement.style.left=r.offsetLeft+i.offsetLeft+"px",this.activeRangeCellElement.style.top=r.offsetTop+"px",this.activeRangeCellElement.style.width=i.offsetWidth+"px",this.activeRangeCellElement.style.height=r.offsetHeight+"px",this.ranges.forEach(o=>o.layout()),this.overlay.style.visibility="visible")}getCell(e,i){var r;return i<0&&(i=this.getTableColumns().length+i)<0?null:(e<0&&(e=this.getTableRows().length+e),(r=this.table.rowManager.getRowFromPosition(e+1))?r.getCells(!1,!0).filter(o=>o.column.visible)[i]:null)}getActiveCell(){return this.getCell(this.activeRange.start.row,this.activeRange.start.col)}getRowByRangePos(e){return this.getTableRows()[e]}getColumnByRangePos(e){return this.getTableColumns()[e]}getTableRows(){return this.table.rowManager.getDisplayRows().filter(e=>"row"===e.type)}getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}addRange(e,i){var r;return!0!==this.maxRanges&&this.ranges.length>=this.maxRanges&&this.ranges.shift().destroy(),r=new dj(this.table,this,e,i),this.activeRange=r,this.ranges.push(r),this.rangeContainer.appendChild(r.element),r}resetRanges(){var e,i;return this.ranges.forEach(o=>o.destroy()),this.ranges=[],e=this.addRange(),this.table.rowManager.activeRows.length&&(i=this.table.rowManager.activeRows[0].cells.filter(o=>o.column.visible)[this.rowHeader?1:0])&&(e.setBounds(i),this.options("selectableRangeAutoFocus")&&this.initializeFocus(i)),e}tableDestroyed(){document.removeEventListener("mouseup",this.mouseUpEvent),this.table.rowManager.element.removeEventListener("keydown",this.keyDownEvent)}selectedRows(e){return e?this.activeRange.getRows().map(i=>i.getComponent()):this.activeRange.getRows()}selectedColumns(e){return e?this.activeRange.getColumns().map(i=>i.getComponent()):this.activeRange.getColumns()}getRowHeaderWidth(){return this.rowHeader?this.rowHeader.getElement().offsetWidth:0}isEmpty(e){return null==e||""===e}})();function Q0(n,t,e,i,r,o,s){var a=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),l=s.format||"dd/MM/yyyy HH:mm:ss",c=s.alignEmptyValues,d=0;if(typeof a<"u"){if(a.isDateTime(n)||(n="iso"===l?a.fromISO(String(n)):a.fromFormat(String(n),l)),a.isDateTime(t)||(t="iso"===l?a.fromISO(String(t)):a.fromFormat(String(t),l)),n.isValid){if(t.isValid)return n-t;d=1}else d=t.isValid?-1:0;return("top"===c&&"desc"===o||"bottom"===c&&"asc"===o)&&(d*=-1),d}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}var Sj={number:function _j(n,t,e,i,r,o,s){var a=s.alignEmptyValues,l=s.decimalSeparator,c=s.thousandSeparator,d=0;if(n=String(n),t=String(t),c&&(n=n.split(c).join(""),t=t.split(c).join("")),l&&(n=n.split(l).join("."),t=t.split(l).join(".")),n=parseFloat(n),t=parseFloat(t),isNaN(n))d=isNaN(t)?0:-1;else{if(!isNaN(t))return n-t;d=1}return("top"===a&&"desc"===o||"bottom"===a&&"asc"===o)&&(d*=-1),d},string:function yj(n,t,e,i,r,o,s){var c,a=s.alignEmptyValues,l=0;if(n){if(t){switch(typeof s.locale){case"boolean":s.locale&&(c=this.langLocale());break;case"string":c=s.locale}return String(n).toLowerCase().localeCompare(String(t).toLowerCase(),c)}l=1}else l=t?-1:0;return("top"===a&&"desc"===o||"bottom"===a&&"asc"===o)&&(l*=-1),l},date:function xj(n,t,e,i,r,o,s){return s.format||(s.format="dd/MM/yyyy"),Q0.call(this,n,t,e,i,r,o,s)},time:function wj(n,t,e,i,r,o,s){return s.format||(s.format="HH:mm"),Q0.call(this,n,t,e,i,r,o,s)},datetime:Q0,boolean:function Cj(n,t,e,i,r,o,s){return(!0===n||"true"===n||"True"===n||1===n?1:0)-(!0===t||"true"===t||"True"===t||1===t?1:0)},array:function Ej(n,t,e,i,r,o,s){var u,a=s.type||"length",l=s.alignEmptyValues,c=0,d=this.table;function g(b){var _;switch(u&&(b=u(b)),a){case"length":_=b.length;break;case"sum":_=b.reduce(function(w,C){return w+C});break;case"max":_=Math.max.apply(null,b);break;case"min":_=Math.min.apply(null,b);break;case"avg":_=b.reduce(function(w,C){return w+C})/b.length;break;case"string":_=b.join("")}return _}if(s.valueMap&&(u="string"==typeof s.valueMap?function(b){return b.map(_=>$t.retrieveNestedData(d.options.nestedFieldSeparator,s.valueMap,_))}:s.valueMap),Array.isArray(n)){if(Array.isArray(t))return"string"===a?String(g(n)).toLowerCase().localeCompare(String(g(t)).toLowerCase()):g(t)-g(n);c=1}else c=Array.isArray(t)?-1:0;return("top"===l&&"desc"===o||"bottom"===l&&"asc"===o)&&(c*=-1),c},exists:function Mj(n,t,e,i,r,o,s){return(typeof n>"u"?0:1)-(typeof t>"u"?0:1)},alphanum:function Dj(n,t,e,i,r,o,s){var a,l,c,d,g,u=0,b=/(\d+)|(\D+)/g,_=/\d/,w=s.alignEmptyValues,C=0;if(n||0===n){if(t||0===t){if(isFinite(n)&&isFinite(t))return n-t;if((a=String(n).toLowerCase())===(l=String(t).toLowerCase()))return 0;if(!_.test(a)||!_.test(l))return a>l?1:-1;for(a=a.match(b),l=l.match(b),g=a.length>l.length?l.length:a.length;u<g;)if((c=a[u])!==(d=l[u++]))return isFinite(c)&&isFinite(d)?("0"===c.charAt(0)&&(c="."+c),"0"===d.charAt(0)&&(d="."+d),c-d):c>d?1:-1;return a.length>l.length}C=1}else C=t||0===t?-1:0;return("top"===w&&"desc"===o||"bottom"===w&&"asc"===o)&&(C*=-1),C}};let Tj=(()=>{class n extends gt{static moduleName="sort";static sorters=Sj;constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,i,r,o){var s=this.getSort();return s.forEach(a=>{delete a.column}),o.sort=s,o}userSetSort(e,i){this.setSort(e,i),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var r,o,i=!1;switch(typeof e.definition.sorter){case"string":n.sorters[e.definition.sorter]?i=n.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":i=e.definition.sorter}if(e.modules.sort={sorter:i,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},!1!==e.definition.headerSort){switch("icon"===((r=e.getElement()).classList.add("tabulator-sortable"),(o=document.createElement("div")).classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement)?o.classList.add("tabulator-col-sorter-element"):r.classList.add("tabulator-col-sorter-element"),this.table.options.headerSortElement){case"function":break;case"object":o.appendChild(this.table.options.headerSortElement);break;default:o.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(o),e.modules.sort.element=o,this.setColumnHeaderSortIcon(e,"none"),"icon"===this.table.options.headerSortClickElement&&o.addEventListener("mousedown",s=>{s.stopPropagation()}),("icon"===this.table.options.headerSortClickElement?o:r).addEventListener("click",s=>{var a="",l=[],c=!1;if(e.modules.sort){if(e.modules.sort.tristate)a="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":a="desc";break;case"desc":a="asc";break;default:a=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(s.shiftKey||s.ctrlKey)?((c=(l=this.getSort()).findIndex(d=>d.field===e.getField()))>-1?(l[c].dir=a,c=l.splice(c,1)[0],"none"!=a&&l.push(c)):"none"!=a&&l.push({column:e,dir:a}),this.setSort(l)):"none"==a?this.clear():this.setSort(e,a),this.refreshSort()}})}}refreshSort(){"remote"===this.table.options.sortMode?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var i=[];return this.sortList.forEach(function(r){r.column&&i.push({column:r.column.getComponent(),field:r.column.getField(),dir:r.dir})}),i}setSort(e,i){var r=this,o=[];Array.isArray(e)||(e=[{column:e,dir:i}]),e.forEach(function(s){var a;(a=r.table.columnManager.findColumn(s.column))?(s.column=a,o.push(s),r.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",s.column)}),r.sortList=o,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var s,i=this.table.rowManager.activeRows[0],r="string";if(i&&(i=i.getData(),e.getField()))switch(s=e.getFieldValue(i),typeof s){case"undefined":r="string";break;case"boolean":r="boolean";break;default:isNaN(s)||""===s?s.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(r="alphanum"):r="number"}return n.sorters[r]}sort(e,i){var r=this,o=this.table.options.sortOrderReverse?r.sortList.slice().reverse():r.sortList,s=[],a=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",r.getSort()),i||r.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(o.forEach(function(l,c){var d;l.column&&((d=l.column.modules.sort)&&(d.sorter||(d.sorter=r.findSorter(l.column)),l.params="function"==typeof d.params?d.params(l.column.getComponent(),l.dir):d.params,s.push(l)),i||r.setColumnHeader(l.column,l.dir))}),s.length&&r._sortItems(e,s)):i||o.forEach(function(l,c){r.setColumnHeader(l.column,l.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(l=>{a.push(l.getComponent())}),this.dispatchExternal("dataSorted",r.getSort(),a)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))})}setColumnHeader(e,i){e.modules.sort.dir=i,e.getElement().setAttribute("aria-sort","asc"===i?"ascending":"descending"),this.setColumnHeaderSortIcon(e,i)}setColumnHeaderSortIcon(e,i){var o,r=e.modules.sort.element;if(e.definition.headerSort&&"function"==typeof this.table.options.headerSortElement){for(;r.firstChild;)r.removeChild(r.firstChild);"object"==typeof(o=this.table.options.headerSortElement.call(this.table,e.getComponent(),i))?r.appendChild(o):r.innerHTML=o}}_sortItems(e,i){var r=i.length-1;e.sort((o,s)=>{for(var a,l=r;l>=0;l--){let c=i[l];if(0!==(a=this._sortRow(o,s,c.column,c.dir,c.params)))break}return a})}_sortRow(e,i,r,o,s){var a,l,c="asc"==o?e:i,d="asc"==o?i:e;return e=typeof(e=r.getFieldValue(c.getData()))<"u"?e:"",i=typeof(i=r.getFieldValue(d.getData()))<"u"?i:"",a=c.getComponent(),l=d.getComponent(),r.modules.sort.sorter.call(this,e,i,a,l,r.getComponent(),o,s)}}return n})();class kj{constructor(t,e){this.columnCount=t,this.rowCount=e,this.columnString=[],this.columns=[],this.rows=[]}genColumns(t){var e=Math.max(this.columnCount,Math.max(...t.map(i=>i.length)));this.columnString=[],this.columns=[];for(let i=1;i<=e;i++)this.incrementChar(this.columnString.length-1),this.columns.push(this.columnString.join(""));return this.columns}genRows(t){var e=Math.max(this.rowCount,t.length);this.rows=[];for(let i=1;i<=e;i++)this.rows.push(i);return this.rows}incrementChar(t){let e=this.columnString[t];e?"Z"!==e?this.columnString[t]=String.fromCharCode(this.columnString[t].charCodeAt(0)+1):(this.columnString[t]="A",t?this.incrementChar(t-1):this.columnString.push("A")):this.columnString.push("A")}setRowCount(t){this.rowCount=t}setColumnCount(t){this.columnCount=t}}class N2{constructor(t){return this._sheet=t,new Proxy(this,{get:function(e,i,r){return typeof e[i]<"u"?e[i]:e._sheet.table.componentFunctionBinder.handle("sheet",e._sheet,i)}})}getTitle(){return this._sheet.title}getKey(){return this._sheet.key}getDefinition(){return this._sheet.getDefinition()}getData(){return this._sheet.getData()}setData(t){return this._sheet.setData(t)}clear(){return this._sheet.clear()}remove(){return this._sheet.remove()}active(){return this._sheet.active()}setTitle(t){return this._sheet.setTitle(t)}setRows(t){return this._sheet.setRows(t)}setColumns(t){return this._sheet.setColumns(t)}}class B2 extends Ui{constructor(t,e){super(t.table),this.spreadsheetManager=t,this.definition=e,this.title=this.definition.title||"",this.key=this.definition.key||this.definition.title,this.rowCount=this.definition.rows,this.columnCount=this.definition.columns,this.data=this.definition.data||[],this.element=null,this.isActive=!1,this.grid=new kj(this.columnCount,this.rowCount),this.defaultColumnDefinition={width:100,headerHozAlign:"center",headerSort:!1},this.columnDefinition=Object.assign(this.defaultColumnDefinition,this.options("spreadsheetColumnDefinition")),this.columnDefs=[],this.rowDefs=[],this.columnFields=[],this.columns=[],this.rows=[],this.scrollTop=null,this.scrollLeft=null,this.initialize(),this.dispatchExternal("sheetAdded",this.getComponent())}initialize(){this.initializeElement(),this.initializeColumns(),this.initializeRows()}reinitialize(){this.initializeColumns(),this.initializeRows()}initializeElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tab"),this.element.innerText=this.title,this.element.addEventListener("click",()=>{this.spreadsheetManager.loadSheet(this)})}initializeColumns(){this.grid.setColumnCount(this.columnCount),this.columnFields=this.grid.genColumns(this.data),this.columnDefs=[],this.columnFields.forEach(t=>{var e=Object.assign({},this.columnDefinition);e.field=t,e.title=t,this.columnDefs.push(e)})}initializeRows(){var t;this.grid.setRowCount(this.rowCount),t=this.grid.genRows(this.data),this.rowDefs=[],t.forEach((e,i)=>{var r={_id:e},o=this.data[i];o&&o.forEach((s,a)=>{var l=this.columnFields[a];l&&(r[l]=s)}),this.rowDefs.push(r)})}unload(){this.isActive=!1,this.scrollTop=this.table.rowManager.scrollTop,this.scrollLeft=this.table.rowManager.scrollLeft,this.data=this.getData(!0),this.element.classList.remove("tabulator-spreadsheet-tab-active")}load(){var t=!this.isActive;this.isActive=!0,this.table.blockRedraw(),this.table.setData([]),this.table.setColumns(this.columnDefs),this.table.setData(this.rowDefs),this.table.restoreRedraw(),t&&null!==this.scrollTop&&(this.table.rowManager.element.scrollLeft=this.scrollLeft,this.table.rowManager.element.scrollTop=this.scrollTop),this.element.classList.add("tabulator-spreadsheet-tab-active"),this.dispatchExternal("sheetLoaded",this.getComponent())}getComponent(){return new N2(this)}getDefinition(){return{title:this.title,key:this.key,rows:this.rowCount,columns:this.columnCount,data:this.getData()}}getData(t){var i,r,o,e=[];return this.rowDefs.forEach(s=>{var a=[];this.columnFields.forEach(l=>{a.push(s[l])}),e.push(a)}),!t&&!this.options("spreadsheetOutputFull")&&(i=e.map(s=>s.findLastIndex(a=>typeof a<"u")+1),r=Math.max(...i),o=i.findLastIndex(s=>s>0)+1,e=(e=e.slice(0,o)).map(s=>s.slice(0,r))),e}setData(t){this.data=t,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}clear(){this.setData([])}setTitle(t){this.title=t,this.element.innerText=t,this.dispatchExternal("sheetUpdated",this.getComponent())}setRows(t){this.rowCount=t,this.initializeRows(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}setColumns(t){this.columnCount=t,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}remove(){this.spreadsheetManager.removeSheet(this)}destroy(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.dispatchExternal("sheetRemoved",this.getComponent())}active(){this.spreadsheetManager.loadSheet(this)}}var Pj={integer:function(n,t,e){return""===t||null===t||typeof t>"u"||(t=Number(t),!isNaN(t)&&isFinite(t)&&Math.floor(t)===t)},float:function(n,t,e){return""===t||null===t||typeof t>"u"||(t=Number(t),!isNaN(t)&&isFinite(t)&&t%1!=0)},numeric:function(n,t,e){return""===t||null===t||typeof t>"u"||!isNaN(t)},string:function(n,t,e){return""===t||null===t||typeof t>"u"||isNaN(t)},alphanumeric:function(n,t,e){return""===t||null===t||typeof t>"u"||new RegExp(/^[a-z0-9]+$/i).test(t)},max:function(n,t,e){return""===t||null===t||typeof t>"u"||parseFloat(t)<=e},min:function(n,t,e){return""===t||null===t||typeof t>"u"||parseFloat(t)>=e},starts:function(n,t,e){return""===t||null===t||typeof t>"u"||String(t).toLowerCase().startsWith(String(e).toLowerCase())},ends:function(n,t,e){return""===t||null===t||typeof t>"u"||String(t).toLowerCase().endsWith(String(e).toLowerCase())},minLength:function(n,t,e){return""===t||null===t||typeof t>"u"||String(t).length>=e},maxLength:function(n,t,e){return""===t||null===t||typeof t>"u"||String(t).length<=e},in:function(n,t,e){return""===t||null===t||typeof t>"u"||("string"==typeof e&&(e=e.split("|")),e.indexOf(t)>-1)},regex:function(n,t,e){return""===t||null===t||typeof t>"u"||new RegExp(e).test(t)},unique:function(n,t,e){if(""===t||null===t||typeof t>"u")return!0;var i=!0,r=n.getData(),o=n.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(s){var a=s.getData();a!==r&&t==o.getFieldValue(a)&&(i=!1)}),i},required:function(n,t,e){return""!==t&&null!==t&&typeof t<"u"}},J0=Object.freeze({__proto__:null,AccessorModule:tH,AjaxModule:sH,ClipboardModule:hH,ColumnCalcsModule:mH,DataTreeModule:gH,DownloadModule:EH,EditModule:VH,ExportModule:jH,FilterModule:$H,FormatModule:m7,FrozenColumnsModule:g7,FrozenRowsModule:b7,GroupRowsModule:_7,HistoryModule:M7,HtmlTableImportModule:D7,ImportModule:P7,InteractionModule:R7,KeybindingsModule:L7,MenuModule:N7,MoveColumnsModule:B7,MoveRowsModule:H7,MutatorModule:U7,PageModule:q7,PersistenceModule:X7,PopupModule:Z7,PrintModule:Q7,ReactiveDataModule:J7,ResizeColumnsModule:ej,ResizeRowsModule:tj,ResizeTableModule:ij,ResponsiveLayoutModule:oj,SelectRangeModule:vj,SelectRowModule:lj,SortModule:Tj,SpreadsheetModule:(()=>class n extends gt{static moduleName="spreadsheet";constructor(e){super(e),this.sheets=[],this.element=null,this.registerTableOption("spreadsheet",!1),this.registerTableOption("spreadsheetRows",50),this.registerTableOption("spreadsheetColumns",50),this.registerTableOption("spreadsheetColumnDefinition",{}),this.registerTableOption("spreadsheetOutputFull",!1),this.registerTableOption("spreadsheetData",!1),this.registerTableOption("spreadsheetSheets",!1),this.registerTableOption("spreadsheetSheetTabs",!1),this.registerTableOption("spreadsheetSheetTabsElement",!1),this.registerTableFunction("setSheets",this.setSheets.bind(this)),this.registerTableFunction("addSheet",this.addSheet.bind(this)),this.registerTableFunction("getSheets",this.getSheets.bind(this)),this.registerTableFunction("getSheetDefinitions",this.getSheetDefinitions.bind(this)),this.registerTableFunction("setSheetData",this.setSheetData.bind(this)),this.registerTableFunction("getSheet",this.getSheet.bind(this)),this.registerTableFunction("getSheetData",this.getSheetData.bind(this)),this.registerTableFunction("clearSheet",this.clearSheet.bind(this)),this.registerTableFunction("removeSheet",this.removeSheetFunc.bind(this)),this.registerTableFunction("activeSheet",this.activeSheetFunc.bind(this))}initialize(){this.options("spreadsheet")&&(this.subscribe("table-initialized",this.tableInitialized.bind(this)),this.subscribe("data-loaded",this.loadRemoteData.bind(this)),this.table.options.index="_id",this.options("spreadsheetData")&&this.options("spreadsheetSheets")&&(console.warn("You cannot use spreadsheetData and spreadsheetSheets at the same time, ignoring spreadsheetData"),this.table.options.spreadsheetData=!1),this.compatibilityCheck(),this.options("spreadsheetSheetTabs")&&this.initializeTabset())}compatibilityCheck(){this.options("data")&&console.warn("Do not use the data option when working with spreadsheets, use either spreadsheetData or spreadsheetSheets to pass data into the table"),this.options("pagination")&&console.warn("The spreadsheet module is not compatible with the pagination module"),this.options("groupBy")&&console.warn("The spreadsheet module is not compatible with the row grouping module"),this.options("responsiveCollapse")&&console.warn("The spreadsheet module is not compatible with the responsive collapse module")}initializeTabset(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tabs");var e=this.options("spreadsheetSheetTabsElement");e&&!(e instanceof HTMLElement)&&((e=document.querySelector(e))||console.warn("Unable to find element matching spreadsheetSheetTabsElement selector:",this.options("spreadsheetSheetTabsElement"))),e?e.appendChild(this.element):this.footerAppend(this.element)}tableInitialized(){this.sheets.length?this.loadSheet(this.sheets[0]):this.options("spreadsheetSheets")?this.loadSheets(this.options("spreadsheetSheets")):this.options("spreadsheetData")&&this.loadData(this.options("spreadsheetData"))}loadRemoteData(e,i,r){return console.log("data",e,i,r),Array.isArray(e)?(this.table.dataLoader.clearAlert(),this.dispatchExternal("dataLoaded",e),!e.length||Array.isArray(e[0])?this.loadData(e):this.loadSheets(e)):console.error("Spreadsheet Loading Error - Unable to process remote data due to invalid data type \nExpecting: array \nReceived: ",typeof e,"\nData:     ",e),!1}loadData(e){this.loadSheet(this.newSheet({data:e}))}destroySheets(){this.sheets.forEach(e=>{e.destroy()}),this.sheets=[],this.activeSheet=null}loadSheets(e){Array.isArray(e)||(e=[]),this.destroySheets(),e.forEach(i=>{this.newSheet(i)}),this.loadSheet(this.sheets[0])}loadSheet(e){this.activeSheet!==e&&(this.activeSheet&&this.activeSheet.unload(),this.activeSheet=e,e.load())}newSheet(e={}){var i;return e.rows||(e.rows=this.options("spreadsheetRows")),e.columns||(e.columns=this.options("spreadsheetColumns")),i=new B2(this,e),this.sheets.push(i),this.element&&this.element.appendChild(i.element),i}removeSheet(e){var r,i=this.sheets.indexOf(e);this.sheets.length>1?i>-1&&(this.sheets.splice(i,1),e.destroy(),this.activeSheet===e&&((r=this.sheets[i-1]||this.sheets[0])?this.loadSheet(r):this.activeSheet=null)):console.warn("Unable to remove sheet, at least one sheet must be active")}lookupSheet(e){return e?e instanceof B2?e:e instanceof N2?e._sheet:this.sheets.find(i=>i.key===e)||!1:this.activeSheet}setSheets(e){return this.loadSheets(e),this.getSheets()}addSheet(e){return this.newSheet(e).getComponent()}getSheetDefinitions(){return this.sheets.map(e=>e.getDefinition())}getSheets(){return this.sheets.map(e=>e.getComponent())}getSheet(e){var i=this.lookupSheet(e);return!!i&&i.getComponent()}setSheetData(e,i){e&&!i&&(i=e,e=!1);var r=this.lookupSheet(e);return!!r&&r.setData(i)}getSheetData(e){var i=this.lookupSheet(e);return!!i&&i.getData()}clearSheet(e){var i=this.lookupSheet(e);return!!i&&i.clear()}removeSheetFunc(e){var i=this.lookupSheet(e);i&&this.removeSheet(i)}activeSheetFunc(e){var i=this.lookupSheet(e);return!!i&&this.loadSheet(i)}})(),TooltipModule:(()=>class n extends gt{static moduleName="tooltip";constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,i,r){var o="tooltip"===e?r.column.definition.tooltip:r.definition.headerTooltip;o&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,i,r,o),this.table.options.tooltipDelay))}mouseoutCheck(e,i,r){this.popupInstance||this.clearPopup()}clearPopup(e,i,r){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,i,r){var o,s,a;"function"==typeof r&&(r=r(e,i.getComponent(),function l(c){s=c})),r instanceof HTMLElement?o=r:(o=document.createElement("div"),!0===r&&(i instanceof yd?r=i.value:i.definition.field?this.langBind("columns|"+i.definition.field,c=>{o.innerHTML=r=c||i.definition.title}):r=i.definition.title),o.innerHTML=r),(r||0===r||!1===r)&&(o.classList.add("tabulator-tooltip"),o.addEventListener("mousemove",c=>c.preventDefault()),this.popupInstance=this.popup(o),"function"==typeof s&&this.popupInstance.renderCallback(s),a=this.popupInstance.containerEventCoords(e),this.popupInstance.show(a.x+15,a.y+15).hideOnBlur(()=>{this.dispatchExternal("TooltipClosed",i.getComponent()),this.popupInstance=null}),this.dispatchExternal("TooltipOpened",i.getComponent()))}})(),ValidateModule:(()=>{class n extends gt{static moduleName="validate";static validators=Pj;constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,i,r){var o="manual"===this.table.options.validationMode||this.validate(e.column.modules.validate,e,i);return!0!==o&&setTimeout(()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),i,o)}),o}editorClear(e,i){i&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var i=[];return e.cells.forEach(r=>{!0!==this.cellValidate(r)&&i.push(r.getComponent())}),!i.length||i}rowValidate(e){var i=[];return e.cells.forEach(r=>{!0!==this.cellValidate(r)&&i.push(r.getComponent())}),!i.length||i}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(i=>{this.clearValidation(i._getSelf())})}userValidate(e){var i=[];return this.table.rowManager.rows.forEach(r=>{var o=(r=r.getComponent()).validate();!0!==o&&(i=i.concat(o))}),!i.length||i}initializeColumnCheck(e){typeof e.definition.validator<"u"&&this.initializeColumn(e)}initializeColumn(e){var o,i=this,r=[];e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(s=>{(o=i._extractValidator(s))&&r.push(o)}):(o=this._extractValidator(e.definition.validator))&&r.push(o),e.modules.validate=!!r.length&&r)}_extractValidator(e){var i,r,o;switch(typeof e){case"string":return(o=e.indexOf(":"))>-1?(i=e.substring(0,o),r=e.substring(o+1)):i=e,this._buildValidator(i,r);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,i){var r="function"==typeof e?e:n.validators[e];return r?{type:"function"==typeof e?"function":e,func:r,params:i}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,i,r){var o=this,s=[],a=this.invalidCells.indexOf(i);return e&&e.forEach(l=>{l.func.call(o,i.getComponent(),r,l.params)||s.push({type:l.type,parameters:l.params})}),i.modules.validate||(i.modules.validate={}),s.length?(i.modules.validate.invalid=s,"manual"!==this.table.options.validationMode&&i.getElement().classList.add("tabulator-validation-fail"),-1==a&&this.invalidCells.push(i)):(i.modules.validate.invalid=!1,i.getElement().classList.remove("tabulator-validation-fail"),a>-1&&this.invalidCells.splice(a,1)),!s.length||s}getInvalidCells(){var e=[];return this.invalidCells.forEach(i=>{e.push(i.getComponent())}),e}clearValidation(e){var i;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,(i=this.invalidCells.indexOf(e))>-1&&this.invalidCells.splice(i,1))}}return n})()}),Rj={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},rowHeader:!1,data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{},dependencies:{}};class V2{constructor(t,e,i={}){this.table=t,this.msgType=e,this.registeredDefaults=Object.assign({},i)}register(t,e){this.registeredDefaults[t]=e}generate(t,e={}){var i=Object.assign({},this.registeredDefaults),r=this.table.options.debugInvalidOptions||!0===e.debugInvalidOptions;Object.assign(i,t);for(let o in e)i.hasOwnProperty(o)||(r&&console.warn("Invalid "+this.msgType+" option:",o),i[o]=e.key);for(let o in i)o in e?i[o]=e[o]:Array.isArray(i[o])?i[o]=Object.assign([],i[o]):"object"==typeof i[o]&&null!==i[o]?i[o]=Object.assign({},i[o]):typeof i[o]>"u"&&delete i[o];return i}}class Nf extends Ui{constructor(t){super(t),this.elementVertical=t.rowManager.element,this.elementHorizontal=t.columnManager.element,this.tableElement=t.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(t){}renderRows(){}renderColumns(){}rerenderRows(t){t&&t()}rerenderColumns(t,e){}renderRowCells(t){}rerenderRowCells(t,e){}scrollColumns(t,e){}scrollRows(t,e){}resize(){}scrollToRow(t){}scrollToRowNearestTop(t){}visibleRows(t){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(t,e){var i=t.getElement();e%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(t){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(t,e,i){var r=this.rows().indexOf(t),o=t.getElement(),s=0;return new Promise((a,l)=>{if(r>-1){if(typeof i>"u"&&(i=this.table.options.scrollToRowIfVisible),!i&&$t.elVisible(o)&&(s=$t.elOffset(o).top-$t.elOffset(this.elementVertical).top)>0&&s<this.elementVertical.clientHeight-o.offsetHeight)return a(),!1;switch(typeof e>"u"&&(e=this.table.options.scrollToRowPosition),"nearest"===e&&(e=this.scrollToRowNearestTop(t)?"top":"bottom"),this.scrollToRow(t),e){case"middle":case"center":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop+(o.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-o.offsetTop)/2:this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-o.offsetTop)+o.offsetHeight:this.elementVertical.scrollTop-this.elementVertical.clientHeight+o.offsetHeight;break;case"top":this.elementVertical.scrollTop=o.offsetTop}a()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")})}}class Fj extends Nf{constructor(t){super(t)}renderRowCells(t,e){const i=document.createDocumentFragment();t.cells.forEach(r=>{i.appendChild(r.getElement())}),t.element.appendChild(i),e||t.cells.forEach(r=>{r.cellRendered()})}reinitializeColumnWidths(t){t.forEach(function(e){e.reinitializeWidth()})}}class Ij extends Nf{constructor(t){super(t),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){"fitDataTable"==this.options("layout")&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(t,e){this.dataChange()}scrollColumns(t,e){this.scrollLeft!=t&&(this.scrollLeft=t,this.scroll(t-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var t=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(e=>{if(e.visible){var i=e.getWidth();i>t&&(t=i)}}),this.windowBuffer=2*t}rerenderColumns(t,e){var i={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},r=0;t&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach(o=>{var a,s={};o.visible&&(o.modules.frozen||(a=o.getWidth(),s.leftPos=r,s.rightPos=r+a,s.width=a,this.isFitData&&(s.fitDataCheck=!o.modules.vdomHoz||o.modules.vdomHoz.fitDataCheck),r+a>this.vDomScrollPosLeft&&r<this.vDomScrollPosRight?(-1==this.leftCol&&(this.leftCol=this.columns.length,this.vDomPadLeft=r),this.rightCol=this.columns.length):-1!==this.leftCol&&(this.vDomPadRight+=a),this.columns.push(o),o.modules.vdomHoz=s,r+=a))}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,e||(!t||this.reinitChanged(i))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(t){if(this.initialized)this.initializeRow(t);else{const e=document.createDocumentFragment();t.cells.forEach(i=>{e.appendChild(i.getElement())}),t.element.appendChild(e),t.cells.forEach(i=>{i.cellRendered()})}}rerenderRowCells(t,e){this.reinitializeRow(t,e)}reinitializeColumnWidths(t){for(let e=this.leftCol;e<=this.rightCol;e++){let i=this.columns[e];i&&i.reinitializeWidth()}}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e,i,t=!1;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach(r=>{!r.definition.width&&r.visible&&(t=!0)}),t&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,e=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows())[0])){i=e.getElement(),e.generateCells(),this.tableElement.appendChild(i);for(let r=0;r<e.cells.length;r++){let o=e.cells[r];i.appendChild(o.getElement()),o.column.reinitializeWidth()}i.parentNode.removeChild(i),this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(t){var e=!0;return t.cols.length!==this.columns.length||t.leftCol!==this.leftCol||t.rightCol!==this.rightCol||(t.cols.forEach((i,r)=>{i!==this.columns[r]&&(e=!1)}),!e)}reinitializeRows(){var t=this.getVisibleRows(),e=this.table.rowManager.getRows().filter(i=>!t.includes(i));t.forEach(i=>{this.reinitializeRow(i,!0)}),e.forEach(i=>{i.deinitialize()})}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(t){this.vDomScrollPosLeft+=t,this.vDomScrollPosRight+=t,Math.abs(t)>this.windowBuffer/2?this.rerenderColumns():t>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(t,e,i){for(let r=t;r<e;r++){let o=this.columns[r];o.modules.vdomHoz.leftPos+=i,o.modules.vdomHoz.rightPos+=i}}addColRight(){for(var t=!1,e=!0;e;){let i=this.columns[this.rightCol+1];i&&i.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(t=!0,this.getVisibleRows().forEach(r=>{if("group"!==r.type){var o=r.getCell(i);r.getElement().insertBefore(o.getElement(),r.getCell(this.columns[this.rightCol]).getElement().nextSibling),o.cellRendered()}}),this.fitDataColActualWidthCheck(i),this.rightCol++,this.getVisibleRows().forEach(r=>{"group"!==r.type&&(r.modules.vdomHoz.rightCol=this.rightCol)}),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=i.getWidth()):e=!1}t&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var t=!1,e=!0;e;){let i=this.columns[this.leftCol-1];if(i)if(i.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){t=!0,this.getVisibleRows().forEach(o=>{if("group"!==o.type){var s=o.getCell(i);o.getElement().insertBefore(s.getElement(),o.getCell(this.columns[this.leftCol]).getElement()),s.cellRendered()}}),this.leftCol--,this.getVisibleRows().forEach(o=>{"group"!==o.type&&(o.modules.vdomHoz.leftCol=this.leftCol)}),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=i.getWidth();let r=this.fitDataColActualWidthCheck(i);r&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+r,this.vDomPadRight-=r)}else e=!1;else e=!1}t&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var t=!1,e=!0;e;){let i=this.columns[this.rightCol];i&&i.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(t=!0,this.getVisibleRows().forEach(r=>{if("group"!==r.type){var o=r.getCell(i);try{r.getElement().removeChild(o.getElement())}catch(s){console.warn("Could not removeColRight",s.message)}}}),this.vDomPadRight+=i.getWidth(),this.rightCol--,this.getVisibleRows().forEach(r=>{"group"!==r.type&&(r.modules.vdomHoz.rightCol=this.rightCol)})):e=!1}t&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var t=!1,e=!0;e;){let i=this.columns[this.leftCol];i&&i.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(t=!0,this.getVisibleRows().forEach(r=>{if("group"!==r.type){var o=r.getCell(i);try{r.getElement().removeChild(o.getElement())}catch(s){console.warn("Could not removeColLeft",s.message)}}}),this.vDomPadLeft+=i.getWidth(),this.leftCol++,this.getVisibleRows().forEach(r=>{"group"!==r.type&&(r.modules.vdomHoz.leftCol=this.leftCol)})):e=!1}t&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(t){var e,i;return t.modules.vdomHoz.fitDataCheck&&(t.reinitializeWidth(),(i=(e=t.getWidth())-t.modules.vdomHoz.width)&&(t.modules.vdomHoz.rightPos+=i,t.modules.vdomHoz.width=e,this.colPositionAdjust(this.columns.indexOf(t)+1,this.columns.length,i)),t.modules.vdomHoz.fitDataCheck=!1),i}initializeRow(t){if("group"!==t.type){t.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach(e=>{this.appendCell(t,e)});for(let e=this.leftCol;e<=this.rightCol;e++)this.appendCell(t,this.columns[e]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach(e=>{this.appendCell(t,e)})}}appendCell(t,e){if(e&&e.visible){let i=t.getCell(e);t.getElement().appendChild(i.getElement()),i.cellRendered()}}reinitializeRow(t,e){if("group"!==t.type&&(e||!t.modules.vdomHoz||t.modules.vdomHoz.leftCol!==this.leftCol||t.modules.vdomHoz.rightCol!==this.rightCol)){for(var i=t.getElement();i.firstChild;)i.removeChild(i.firstChild);this.initializeRow(t)}}}class Lj extends Ui{constructor(t){super(t),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.rowHeader=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new V2(this.table,"column definition",I2),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(t){this.table.rtl?this.headersElement.style.marginLeft=t+"px":this.headersElement.style.marginRight=t+"px"}initializeRenderer(){var t;(t="string"==typeof this.table.options.renderHorizontal?{virtual:Ij,basic:Fj}[this.table.options.renderHorizontal]:this.table.options.renderHorizontal)?(this.renderer=new t(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var t=document.createElement("div");return t.classList.add("tabulator-headers"),t.setAttribute("role","row"),t}createHeaderContentsElement(){var t=document.createElement("div");return t.classList.add("tabulator-header-contents"),t.setAttribute("role","rowgroup"),t}createHeaderElement(){var t=document.createElement("div");return t.classList.add("tabulator-header"),t.setAttribute("role","rowgroup"),this.table.options.headerVisible||t.classList.add("tabulator-header-hidden"),t}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(t){this.contentsElement.scrollLeft=t,this.scrollLeft=t,this.renderer.scrollColumns(t)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",t=>{var e;t.deltaX&&(this.table.rowManager.scrollHorizontal(e=this.contentsElement.scrollLeft+t.deltaX),this.table.columnManager.scrollHorizontal(e))})}generateColumnsFromRowData(t){var e=[],i={},o=this.table.options.autoColumnsDefinitions;if(t&&t.length){if(("full"===this.table.options.autoColumns?t:[t[0]]).forEach(s=>{Object.keys(s).forEach((a,l)=>{let d,c=s[a];i[a]?!0!==i[a]&&typeof c<"u"&&(i[a].sorter=this.calculateSorterFromValue(c),i[a]=!0):(d={field:a,title:a,sorter:this.calculateSorterFromValue(c)},e.splice(l,0,d),i[a]=!(typeof c>"u")||d)})}),o)switch(typeof o){case"function":this.table.options.columns=o.call(this.table,e);break;case"object":Array.isArray(o)?e.forEach(s=>{var a=o.find(l=>l.field===s.field);a&&Object.assign(s,a)}):e.forEach(s=>{o[s.field]&&Object.assign(s,o[s.field])}),this.table.options.columns=e}else this.table.options.columns=e;this.setColumns(this.table.options.columns)}}calculateSorterFromValue(t){var e;switch(typeof t){case"undefined":e="string";break;case"boolean":e="boolean";break;case"number":e="number";break;case"object":e=Array.isArray(t)?"array":"string";break;default:e=isNaN(t)||""===t?t.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}return e}setColumns(t,e){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),this.dispatchExternal("columnsLoading"),this.table.options.rowHeader&&(this.rowHeader=new xd(!0===this.table.options.rowHeader?{}:this.table.options.rowHeader,this,!0),this.columns.push(this.rowHeader),this.headersElement.appendChild(this.rowHeader.getElement()),this.rowHeader.columnRendered()),t.forEach((i,r)=>{this._addColumn(i)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.subscribedExternal("columnsLoaded")&&this.dispatchExternal("columnsLoaded",this.getComponents()),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(t,e,i){var r=new xd(t,this),o=r.getElement(),s=i&&this.findColumnIndex(i);if(e&&this.rowHeader&&(!i||i===this.rowHeader)&&(e=!1,i=this.rowHeader,s=0),i&&s>-1){var a=i.getTopColumn(),l=this.columns.indexOf(a),c=a.getElement();e?(this.columns.splice(l,0,r),c.parentNode.insertBefore(o,c)):(this.columns.splice(l+1,0,r),c.parentNode.insertBefore(o,c.nextSibling))}else e?(this.columns.unshift(r),this.headersElement.insertBefore(r.getElement(),this.headersElement.firstChild)):(this.columns.push(r),this.headersElement.appendChild(r.getElement()));return r.columnRendered(),r}registerColumnField(t){t.definition.field&&(this.columnsByField[t.definition.field]=t)}registerColumnPosition(t){this.columnsByIndex.push(t)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(t){t.reRegisterPosition()})}verticalAlignHeaders(){var t=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach(e=>{e.clearVerticalAlign()}),this.columns.forEach(e=>{var i=e.getHeight();i>t&&(t=i)}),this.headersElement.style.height=t+"px",this.columns.forEach(e=>{e.verticalAlign(this.table.options.columnHeaderVertAlign,t)}),this.table.rowManager.adjustTableSize())}findColumn(t){var e;return"object"!=typeof t?this.columnsByField[t]||!1:t instanceof xd?t:t instanceof F2?t._getSelf()||!1:typeof HTMLElement<"u"&&t instanceof HTMLElement&&(e=[],this.columns.forEach(r=>{e.push(r),e=e.concat(r.getColumns(!0))}),e.find(r=>r.element===t)||!1)}getColumnByField(t){return this.columnsByField[t]}getColumnsByFieldRoot(t){var e=[];return Object.keys(this.columnsByField).forEach(i=>{(this.table.options.nestedFieldSeparator?i.split(this.table.options.nestedFieldSeparator)[0]:i)===t&&e.push(this.columnsByField[i])}),e}getColumnByIndex(t){return this.columnsByIndex[t]}getFirstVisibleColumn(){var t=this.columnsByIndex.findIndex(e=>e.visible);return t>-1&&this.columnsByIndex[t]}getVisibleColumnsByIndex(){return this.columnsByIndex.filter(t=>t.visible)}getColumns(){return this.columns}findColumnIndex(t){return this.columnsByIndex.findIndex(e=>t===e)}getRealColumns(){return this.columnsByIndex}traverse(t){this.columnsByIndex.forEach((e,i)=>{t(e,i)})}getDefinitions(t){var e=[];return this.columnsByIndex.forEach(i=>{(!t||t&&i.visible)&&e.push(i.getDefinition())}),e}getDefinitionTree(){var t=[];return this.columns.forEach(e=>{t.push(e.getDefinition(!0))}),t}getComponents(t){var e=[];return(t?this.columns:this.columnsByIndex).forEach(r=>{e.push(r.getComponent())}),e}getWidth(){var t=0;return this.columnsByIndex.forEach(e=>{e.visible&&(t+=e.getWidth())}),t}moveColumn(t,e,i){e.element.parentNode.insertBefore(t.element,e.element),i&&e.element.parentNode.insertBefore(e.element,t.element),this.moveColumnActual(t,e,i),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(t,e,i){this._moveColumnInArray(t.parent.isGroup?t.parent.columns:this.columns,t,e,i),this._moveColumnInArray(this.columnsByIndex,t,e,i,!0),this.rerenderColumns(!0),this.dispatch("column-moved",t,e,i),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",t.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(t,e,i,r,o){var a,s=t.indexOf(e);s>-1&&(t.splice(s,1),(a=t.indexOf(i))>-1?r&&(a+=1):a=s,t.splice(a,0,e),o&&(this.chain("column-moving-rows",[e,i,r],null,[])||[]).concat(this.table.rowManager.rows).forEach(function(c){if(c.cells.length){var d=c.cells.splice(s,1)[0];c.cells.splice(a,0,d)}}))}scrollToColumn(t,e,i){var r=0,o=t.getLeftOffset(),s=0,a=t.getElement();return new Promise((l,c)=>{if(typeof e>"u"&&(e=this.table.options.scrollToColumnPosition),typeof i>"u"&&(i=this.table.options.scrollToColumnIfVisible),t.visible){switch(e){case"middle":case"center":s=-this.element.clientWidth/2;break;case"right":s=a.clientWidth-this.headersElement.clientWidth}if(!i&&o>0&&o+a.offsetWidth<this.element.clientWidth)return!1;r=o+s,r=Math.max(Math.min(r,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(r),this.scrollHorizontal(r),l()}else console.warn("Scroll Error - Column not visible"),c("Scroll Error - Column not visible")})}generateCells(t){var e=[];return this.columnsByIndex.forEach(i=>{e.push(i.generateCell(t))}),e}getFlexBaseWidth(){var t=this.table.element.clientWidth,e=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(t-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(i){var r,o,s;i.visible&&(r=i.definition.width||0,o=parseInt(i.minWidth),s="string"==typeof r?r.indexOf("%")>-1?t/100*parseInt(r):parseInt(r):r,e+=s>o?s:o)}),e}addColumn(t,e,i){return new Promise((r,o)=>{var s=this._addColumn(t,e,i);this._reIndexColumns(),this.dispatch("column-add",t,e,i),"fitColumns"!=this.layoutMode()&&s.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),r(s)})}deregisterColumn(t){var i,e=t.getField();e&&delete this.columnsByField[e],(i=this.columnsByIndex.indexOf(t))>-1&&this.columnsByIndex.splice(i,1),(i=this.columns.indexOf(t))>-1&&this.columns.splice(i,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(t,e){this.redrawBlock?(!1===t||!0===t&&null===this.redrawBlockUpdate)&&(this.redrawBlockUpdate=t):this.renderer.rerenderColumns(t,e)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(t){$t.elVisible(this.element)&&this.verticalAlignHeaders(),t&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",t)||this.layoutRefresh(t),this.dispatch("table-redraw",t),this.table.footerManager.redraw()}}class Nj extends Nf{constructor(t){super(t),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var t=this.tableElement;t.firstChild;)t.removeChild(t.firstChild);t.scrollTop=0,t.scrollLeft=0,t.style.minWidth="",t.style.minHeight="",t.style.display="",t.style.visibility=""}renderRows(){var t=this.tableElement,e=!0,i=document.createDocumentFragment(),r=this.rows();r.forEach((o,s)=>{this.styleRow(o,s),o.initialize(!1,!0),"group"!==o.type&&(e=!1),i.appendChild(o.getElement())}),t.appendChild(i),r.forEach(o=>{o.rendered(),o.heightInitialized||o.calcHeight(!0)}),r.forEach(o=>{o.heightInitialized||o.setCellHeight()}),t.style.minWidth=e?this.table.columnManager.getWidth()+"px":""}rerenderRows(t){this.clearRows(),t&&t(),this.renderRows(),this.rows().length||this.table.rowManager.tableEmpty()}scrollToRowNearestTop(t){var e=$t.elOffset(t.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-e)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-e))}scrollToRow(t){var e=t.getElement();this.elementVertical.scrollTop=$t.elOffset(e).top-$t.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(t){return this.rows()}}class Bj extends Nf{constructor(t){super(t),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var t=this.tableElement;t.firstChild;)t.removeChild(t.firstChild);t.style.paddingTop="",t.style.paddingBottom="",t.style.minHeight="",t.style.display="",t.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(t){for(var e=this.elementVertical.scrollTop,i=!1,r=!1,o=this.table.rowManager.scrollLeft,s=this.rows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(s[a]){var l=e-s[a].getElement().offsetTop;if(!(!1===r||Math.abs(l)<r))break;r=l,i=a}s.forEach(c=>{c.deinitializeHeight()}),t&&t(),this.rows().length?this._virtualRenderFill(!1===i?this.rows.length-1:i,!0,r||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(o)}scrollColumns(t){this.table.rowManager.scrollHorizontal(t)}scrollRows(t,e){var i=t-this.vDomScrollPosTop,r=t-this.vDomScrollPosBottom,o=2*this.vDomWindowBuffer,s=this.rows();if(this.scrollTop=t,-i>o||r>o){var a=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*s.length)),this.scrollColumns(a)}else e?(i<0&&this._addTopRow(s,-i),r<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(s,-r):this.vDomScrollPosBottom=this.scrollTop)):(r>=0&&this._addBottomRow(s,r),i>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(s,i):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(t){var e=this.rows().indexOf(t);return!(Math.abs(this.vDomTop-e)>Math.abs(this.vDomBottom-e))}scrollToRow(t){var e=this.rows().indexOf(t);e>-1&&this._virtualRenderFill(e,!0)}visibleRows(t){var e=this.elementVertical.scrollTop,i=this.elementVertical.clientHeight+e,r=!1,o=0,s=0,a=this.rows();if(t)o=this.vDomTop,s=this.vDomBottom;else for(var l=this.vDomTop;l<=this.vDomBottom;l++)if(a[l])if(r){if(!(i-a[l].getElement().offsetTop>=0))break;s=l}else if(e-a[l].getElement().offsetTop>=0)o=l;else{if(r=!0,!(i-a[l].getElement().offsetTop>=0))break;s=l}return a.slice(o,s+1)}_virtualRenderFill(t,e,i){var w,C,r=this.tableElement,o=this.elementVertical,s=0,a=0,l=0,c=0,d=0,u=0,g=this.rows(),b=g.length,_=0,M=[],L=0,N=0,ce=this.table.rowManager.fixedHeight,De=this.elementVertical.clientHeight,ze=this.table.options.rowHeight,oi=!0;if(i=i||0,t=t||0){for(;r.firstChild;)r.removeChild(r.firstChild);(c=(b-t+1)*this.vDomRowHeight)<De&&(t-=Math.ceil((De-c)/this.vDomRowHeight))<0&&(t=0),t-=s=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),t)}else this.clear();if(b&&$t.elVisible(this.elementVertical)){for(this.vDomTop=t,this.vDomBottom=t-1,ce||this.table.options.maxHeight?(ze&&(N=De/ze+this.vDomWindowBuffer/ze),N=Math.max(this.vDomWindowMinTotalRows,Math.ceil(N))):N=b;(N==b||a<=De+this.vDomWindowBuffer||L<this.vDomWindowMinTotalRows)&&this.vDomBottom<b-1;){for(M=[],C=document.createDocumentFragment(),u=0;u<N&&this.vDomBottom<b-1;)this.styleRow(w=g[_=this.vDomBottom+1],_),w.initialize(!1,!0),!w.heightInitialized&&!this.table.options.rowHeight&&w.clearCellHeight(),C.appendChild(w.getElement()),M.push(w),this.vDomBottom++,u++;if(!M.length)break;r.appendChild(C),M.forEach(Xt=>{Xt.rendered(),Xt.heightInitialized||Xt.calcHeight(!0)}),M.forEach(Xt=>{Xt.heightInitialized||Xt.setCellHeight()}),M.forEach(Xt=>{l=Xt.getHeight(),L<s?d+=l:a+=l,l>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*l),L++}),oi=this.table.rowManager.adjustTableSize(),De=this.elementVertical.clientHeight,oi&&(ce||this.table.options.maxHeight)&&(ze=a/L,N=Math.max(this.vDomWindowMinTotalRows,Math.ceil(De/ze+this.vDomWindowBuffer/ze)))}t?(this.vDomTopPad=e?this.vDomRowHeight*this.vDomTop+i:this.scrollTop-d,this.vDomBottomPad=this.vDomBottom==b-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-a-d,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((a+d)/L),this.vDomBottomPad=this.vDomRowHeight*(b-this.vDomBottom-1),this.vDomScrollHeight=d+a+this.vDomBottomPad-De),r.style.paddingTop=this.vDomTopPad+"px",r.style.paddingBottom=this.vDomBottomPad+"px",e&&(this.scrollTop=this.vDomTopPad+d+i-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-De:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-De),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&e&&(this.scrollTop+=this.elementVertical.offsetHeight-De),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,o.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(t,e){for(var i=this.tableElement,r=[],o=0,s=this.vDomTop-1,a=0,l=!0;l;)if(this.vDomTop){let d,u,c=t[s];c&&a<this.vDomMaxRenderChain?(d=c.getHeight()||this.vDomRowHeight,u=c.initialized,e>=d?(this.styleRow(c,s),i.insertBefore(c.getElement(),i.firstChild),(!c.initialized||!c.heightInitialized)&&r.push(c),c.initialize(),u||(d=c.getElement().offsetHeight,d>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*d)),e-=d,o+=d,this.vDomTop--,s--,a++):l=!1):l=!1}else l=!1;for(let c of r)c.clearCellHeight();this._quickNormalizeRowHeight(r),o&&(this.vDomTopPad-=o,this.vDomTopPad<0&&(this.vDomTopPad=s*this.vDomRowHeight),s<1&&(this.vDomTopPad=0),i.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=o)}_removeTopRow(t,e){for(var i=[],r=0,o=0,s=!0;s;){let l,a=t[this.vDomTop];a&&o<this.vDomMaxRenderChain?(l=a.getHeight()||this.vDomRowHeight,e>=l?(this.vDomTop++,e-=l,r+=l,i.push(a),o++):s=!1):s=!1}for(let a of i){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}r&&(this.vDomTopPad+=r,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?r:r+this.vDomWindowBuffer)}_addBottomRow(t,e){for(var i=this.tableElement,r=[],o=0,s=this.vDomBottom+1,a=0,l=!0;l;){let d,u,c=t[s];c&&a<this.vDomMaxRenderChain?(d=c.getHeight()||this.vDomRowHeight,u=c.initialized,e>=d?(this.styleRow(c,s),i.appendChild(c.getElement()),(!c.initialized||!c.heightInitialized)&&r.push(c),c.initialize(),u||(d=c.getElement().offsetHeight,d>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*d)),e-=d,o+=d,this.vDomBottom++,s++,a++):l=!1):l=!1}for(let c of r)c.clearCellHeight();this._quickNormalizeRowHeight(r),o&&(this.vDomBottomPad-=o,(this.vDomBottomPad<0||s==t.length-1)&&(this.vDomBottomPad=0),i.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=o)}_removeBottomRow(t,e){for(var i=[],r=0,o=0,s=!0;s;){let l,a=t[this.vDomBottom];a&&o<this.vDomMaxRenderChain?(l=a.getHeight()||this.vDomRowHeight,e>=l?(this.vDomBottom--,e-=l,r+=l,i.push(a),o++):s=!1):s=!1}for(let a of i){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}r&&(this.vDomBottomPad+=r,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=r)}_quickNormalizeRowHeight(t){for(let e of t)e.calcHeight();for(let e of t)e.setCellHeight()}}class Vj extends Ui{constructor(t){super(t),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var t=document.createElement("div");return t.classList.add("tabulator-tableholder"),t.setAttribute("tabindex",0),t}createTableElement(){var t=document.createElement("div");return t.classList.add("tabulator-table"),t.setAttribute("role","rowgroup"),t}initializePlaceholder(){var t=this.table.options.placeholder;if("function"==typeof t&&(t=t.call(this.table)),t=this.chain("placeholder",[t],t,t)||t){let e=document.createElement("div");if(e.classList.add("tabulator-placeholder"),"string"==typeof t){let i=document.createElement("div");i.classList.add("tabulator-placeholder-contents"),i.innerHTML=t,e.appendChild(i),this.placeholderContents=i}else typeof HTMLElement<"u"&&t instanceof HTMLElement?(e.appendChild(t),this.placeholderContents=t):(console.warn("Invalid placeholder provided, must be string or HTML Element",t),this.el=null);this.placeholder=e}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var t=this.element.scrollLeft,e=this.scrollLeft>t,i=this.element.scrollTop,r=this.scrollTop>i;this.scrollLeft!=t&&(this.scrollLeft=t,this.dispatch("scroll-horizontal",t,e),this.dispatchExternal("scrollHorizontal",t,e),this._positionPlaceholder()),this.scrollTop!=i&&(this.scrollTop=i,this.renderer.scrollRows(i,r),this.dispatch("scroll-vertical",i,r),this.dispatchExternal("scrollVertical",i,r))})}findRow(t){return"object"!=typeof t?!(typeof t>"u")&&(this.rows.find(i=>i.data[this.table.options.index]==t)||!1):t instanceof Qi?t:t instanceof If?t._getSelf()||!1:typeof HTMLElement<"u"&&t instanceof HTMLElement&&this.rows.find(i=>i.getElement()===t)||!1}getRowFromDataObject(t){return this.rows.find(i=>i.data===t)||!1}getRowFromPosition(t){return this.getDisplayRows().find(e=>"row"===e.type&&e.getPosition()===t&&e.isDisplayed())}scrollToRow(t,e,i){return this.renderer.scrollToRowPosition(t,e,i)}setData(t,e,i){return new Promise((r,o)=>{e&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(t,!0):this.reRenderInPosition(()=>{this._setDataActual(t)}):(this.table.options.autoColumns&&i&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(t),this.resetScroll(),this._setDataActual(t)),r()})}_setDataActual(t,e){this.dispatchExternal("dataProcessing",t),this._wipeElements(),Array.isArray(t)?(this.dispatch("data-processing",t),t.forEach((i,r)=>{if(i&&"object"==typeof i){var o=new Qi(i,this);this.rows.push(o)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",i)}),this.refreshActiveData(!1,!1,e),this.dispatch("data-processed",t),this.dispatchExternal("dataProcessed",t)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof t,"\nData:     ",t)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach(t=>{t.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(t,e){var i=this.rows.indexOf(t),r=this.activeRows.indexOf(t);r>-1&&this.activeRows.splice(r,1),i>-1&&this.rows.splice(i,1),this.setActiveRows(this.activeRows),this.displayRowIterator(o=>{var s=o.indexOf(t);s>-1&&o.splice(s,1)}),e||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",t.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(t,e,i,r){return this.addRowActual(t,e,i,r)}addRows(t,e,i,r){var o=[];return new Promise((s,a)=>{e=this.findAddRowPos(e),Array.isArray(t)||(t=[t]),(typeof i>"u"&&e||typeof i<"u"&&!e)&&t.reverse(),t.forEach((l,c)=>{var d=this.addRow(l,e,i,!0);o.push(d),this.dispatch("row-added",d,l,e,i)}),this.refreshActiveData(!!r&&"displayPipeline",!1,!0),this.regenerateRowPositions(),this.displayRowsCount&&this._clearPlaceholder(),s(o)})}findAddRowPos(t){return typeof t>"u"&&(t=this.table.options.addRowPos),"pos"===t&&(t=!0),"bottom"===t&&(t=!1),t}addRowActual(t,e,i,r){var l,c,o=t instanceof Qi?t:new Qi(t||{},this),s=this.findAddRowPos(e),a=-1;return i||(c=this.chain("row-adding-position",[o,s],null,{index:i,top:s}),i=c.index,s=c.top),typeof i<"u"&&(i=this.findRow(i)),(i=this.chain("row-adding-index",[o,i,s],null,i))&&(a=this.rows.indexOf(i)),i&&a>-1?(l=this.activeRows.indexOf(i),this.displayRowIterator(function(d){var u=d.indexOf(i);u>-1&&d.splice(s?u:u+1,0,o)}),l>-1&&this.activeRows.splice(s?l:l+1,0,o),this.rows.splice(s?a:a+1,0,o)):s?(this.displayRowIterator(function(d){d.unshift(o)}),this.activeRows.unshift(o),this.rows.unshift(o)):(this.displayRowIterator(function(d){d.push(o)}),this.activeRows.push(o),this.rows.push(o)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",o.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r||this.reRenderInPosition(),o}moveRow(t,e,i){this.dispatch("row-move",t,e,i),this.moveRowActual(t,e,i),this.regenerateRowPositions(),this.dispatch("row-moved",t,e,i),this.dispatchExternal("rowMoved",t.getComponent())}moveRowActual(t,e,i){this.moveRowInArray(this.rows,t,e,i),this.moveRowInArray(this.activeRows,t,e,i),this.displayRowIterator(r=>{this.moveRowInArray(r,t,e,i)}),this.dispatch("row-moving",t,e,i)}moveRowInArray(t,e,i,r){var o,s,l;if(e!==i&&((o=t.indexOf(e))>-1&&(t.splice(o,1),s=t.indexOf(i),t.splice(s>-1?r?s+1:s:o,0,e)),t===this.getDisplayRows())){l=s>o?s:o+1;for(let c=o<s?o:s;c<=l;c++)t[c]&&this.styleRow(t[c],c)}}clearData(){this.setData([])}getRowIndex(t){return this.findRowIndex(t,this.rows)}getDisplayRowIndex(t){var e=this.getDisplayRows().indexOf(t);return e>-1&&e}nextDisplayRow(t,e){var i=this.getDisplayRowIndex(t),r=!1;return!1!==i&&i<this.displayRowsCount-1&&(r=this.getDisplayRows()[i+1]),!r||r instanceof Qi&&"row"==r.type?r:this.nextDisplayRow(r,e)}prevDisplayRow(t,e){var i=this.getDisplayRowIndex(t),r=!1;return i&&(r=this.getDisplayRows()[i-1]),!e||!r||r instanceof Qi&&"row"==r.type?r:this.prevDisplayRow(r,e)}findRowIndex(t,e){var i;return!!((t=this.findRow(t))&&(i=e.indexOf(t),i>-1))&&i}getData(t,e){var i=[];return this.getRows(t).forEach(function(o){"row"==o.type&&i.push(o.getData(e||"data"))}),i}getComponents(t){var e=[];return this.getRows(t).forEach(function(r){e.push(r.getComponent())}),e}getDataCount(t){return this.getRows(t).length}scrollHorizontal(t){this.scrollLeft=t,this.element.scrollLeft=t,this.dispatch("scroll-horizontal",t)}registerDataPipelineHandler(t,e){typeof e<"u"?(this.dataPipeline.push({handler:t,priority:e}),this.dataPipeline.sort((i,r)=>i.priority-r.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(t,e){typeof e<"u"?(this.displayPipeline.push({handler:t,priority:e}),this.displayPipeline.sort((i,r)=>i.priority-r.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(t,e,i){var r=this.table,o="",s=0,a=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if("function"==typeof t)if((s=this.dataPipeline.findIndex(l=>l.handler===t))>-1)o="dataPipeline",e&&(s==this.dataPipeline.length-1?o="display":s++);else{if(!((s=this.displayPipeline.findIndex(l=>l.handler===t))>-1))return void console.error("Unable to refresh data, invalid handler provided",t);o="displayPipeline",e&&(s==this.displayPipeline.length-1?o="end":s++)}else o=t||"all",s=0;if(this.redrawBlock)return void((!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===o&&s<this.redrawBlockRestoreConfig.index||a.indexOf(o)<a.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:t,skipStage:e,renderInPosition:i,stage:o,index:s}));$t.elVisible(this.element)?i?this.reRenderInPosition(this.refreshPipelines.bind(this,t,o,s,i)):(this.refreshPipelines(t,o,s,i),t||this.table.columnManager.renderer.renderColumns(),this.renderTable(),r.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(t,o,s,i),this.dispatch("data-refreshed")}}refreshPipelines(t,e,i,r){switch(this.dispatch("data-refreshing"),(!t||!this.activeRowsPipeline[0])&&(this.activeRowsPipeline[0]=this.rows.slice(0)),e){case"all":case"dataPipeline":for(let o=i;o<this.dataPipeline.length;o++){let s=this.dataPipeline[o].handler(this.activeRowsPipeline[o].slice(0));this.activeRowsPipeline[o+1]=s||this.activeRowsPipeline[o].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":i=0,this.resetDisplayRows();case"displayPipeline":for(let o=i;o<this.displayPipeline.length;o++){let s=this.displayPipeline[o].handler((o?this.getDisplayRows(o-1):this.activeRows).slice(0),r);this.setDisplayRows(s||this.getDisplayRows(o-1).slice(0),o)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var t=this.getDisplayRows(),e=1;t.forEach(i=>{"row"===i.type&&(i.setPosition(e),e++)})}setActiveRows(t){this.activeRows=this.activeRows=Object.assign([],t),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(t,e){this.displayRows[e]=t,e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(t){return typeof t>"u"?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[t]||[]}getVisibleRows(t,e){var i=Object.assign([],this.renderer.visibleRows(!e));return t&&(i=this.chain("rows-visible",[e],i,i)),i}displayRowIterator(t){this.activeRowsPipeline.forEach(t),this.displayRows.forEach(t),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(t){var e=[];switch(t){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!1,!0);break;default:e=this.chain("rows-retrieve",t,null,this.rows)||this.rows}return e}reRenderInPosition(t){this.redrawBlock?t?t():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(t),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var t=0;this.element.scrollHeight>this.element.clientHeight&&(t=this.element.offsetWidth-this.element.clientWidth),t!==this.scrollbarWidth&&(this.scrollbarWidth=t,this.dispatch("scrollbar-vertical",t))}initializeRenderer(){var t;(t="string"==typeof this.table.options.renderVertical?{virtual:Bj,basic:Nj}[this.table.options.renderVertical]:this.table.options.renderVertical)?(this.renderMode=this.table.options.renderVertical,this.renderer=new t(this.table,this.element,this.tableElement),this.renderer.initialize(),this.fixedHeight=!(!this.table.element.clientHeight&&!this.table.options.height||this.table.options.minHeight&&this.table.options.maxHeight)):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}checkPlaceholder(){this.displayRowsCount?this._clearPlaceholder():this.tableEmpty()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(t,e){var i=t.getElement();e%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}normalizeHeight(t){this.activeRows.forEach(function(e){e.normalizeHeight(t)})}adjustTableSize(){let e,t=this.element.clientHeight,i=!1;if("fill"===this.renderer.verticalFillMode){let r=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){e=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const o="calc(100% - "+r+"px)";this.element.style.minHeight=e||"calc(100% - "+r+"px)",this.element.style.height=o,this.element.style.maxHeight=o}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-r+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),!this.fixedHeight&&t!=this.element.clientHeight&&(i=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),i}reinitialize(){this.rows.forEach(function(t){t.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(t){this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,t?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var t=document.createEvent("Event");t.initEvent("scroll",!1,!0),this.element.dispatchEvent(t)}else this.element.dispatchEvent(new Event("scroll"))}}class zj extends Ui{constructor(t){super(t),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var t=document.createElement("div");return t.classList.add("tabulator-footer"),t}createContainerElement(){var t=document.createElement("div");return t.classList.add("tabulator-footer-contents"),this.element.appendChild(t),t}initializeElement(){this.table.options.footerElement&&("string"==typeof this.table.options.footerElement?"<"===this.table.options.footerElement[0]?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement)):this.element=this.table.options.footerElement)}getElement(){return this.element}append(t){this.activate(),this.containerElement.appendChild(t),this.table.rowManager.adjustTableSize()}prepend(t){this.activate(),this.element.insertBefore(t,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(t){t.parentNode.removeChild(t),this.deactivate()}deactivate(t){(!this.element.firstChild||t)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class Hj extends Ui{constructor(t){super(t),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var t={};this.listeners.forEach(e=>{t[e]={handler:null,components:[]}}),this.listeners=t}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(t=>{this.pseudoTrackers[t].subscriber=this.pseudoMouseEnter.bind(this,t),this.subscribe(t+"-mouseover",this.pseudoTrackers[t].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(t,e,i){this.pseudoTrackers[t].target!==i&&(this.pseudoTrackers[t].target&&this.dispatch(t+"-mouseleave",e,this.pseudoTrackers[t].target),this.pseudoMouseLeave(t,e),this.pseudoTrackers[t].target=i,this.dispatch(t+"-mouseenter",e,i))}pseudoMouseLeave(t,e){var i=Object.keys(this.pseudoTrackers),r={row:["cell"],cell:["row"]};(i=i.filter(o=>{var s=r[t];return o!==t&&(!s||s&&!s.includes(o))})).forEach(o=>{this.pseudoTrackers[o].target&&(this.dispatch(o+"-mouseleave",e,this.pseudoTrackers[o].target),this.pseudoTrackers[o].target=null)})}bindSubscriptionWatchers(){var t=Object.keys(this.listeners),e=Object.values(this.componentMap);for(let i of e)for(let r of t)this.subscriptionChange(i+"-"+r,this.subscriptionChanged.bind(this,i,r));this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(t,e,i){var r=this.listeners[e].components,o=r.indexOf(t),s=!1;i?-1===o&&(r.push(t),s=!0):this.subscribed(t+"-"+e)||o>-1&&(r.splice(o,1),s=!0),("mouseenter"===e||"mouseleave"===e)&&!this.pseudoTracking&&this.bindPseudoEvents(),s&&this.updateEventListeners()}updateEventListeners(){for(let t in this.listeners){let e=this.listeners[t];e.components.length?e.handler||(e.handler=this.track.bind(this,t),this.el.addEventListener(t,e.handler)):e.handler&&(this.el.removeEventListener(t,e.handler),e.handler=null)}}track(t,e){var i=e.composedPath&&e.composedPath()||e.path,r=this.findTargets(i);r=this.bindComponents(t,r),this.triggerEvents(t,e,r),this.pseudoTracking&&("mouseover"==t||"mouseleave"==t)&&!Object.keys(r).length&&this.pseudoMouseLeave("none",e)}findTargets(t){var e={};let i=Object.keys(this.componentMap);for(let r of t){let o=r.classList?[...r.classList]:[];if(o.filter(l=>this.abortClasses.includes(l)).length)break;let a=o.filter(l=>i.includes(l));for(let l of a)e[this.componentMap[l]]||(e[this.componentMap[l]]=r)}return e.group&&e.group===e.row&&delete e.row,e}bindComponents(t,e){var i=Object.keys(e).reverse(),r=this.listeners[t],o={},s={},a={};for(let l of i){let c,d=e[l],u=this.previousTargets[l];if(u&&u.target===d)c=u.component;else switch(l){case"row":case"group":(r.components.includes("row")||r.components.includes("cell")||r.components.includes("group"))&&(c=this.table.rowManager.getVisibleRows(!0).find(b=>b.getElement()===d),e.row&&e.row.parentNode&&e.row.parentNode.closest(".tabulator-row")&&(e[l]=!1));break;case"column":r.components.includes("column")&&(c=this.table.columnManager.findColumn(d));break;case"cell":r.components.includes("cell")&&(o.row instanceof Qi?c=o.row.findCell(d):e.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"))}c&&(o[l]=c,a[l]={target:d,component:c})}return this.previousTargets=a,Object.keys(e).forEach(l=>{s[l]=o[l]}),s}triggerEvents(t,e,i){var r=this.listeners[t];for(let o in i)i[o]&&r.components.includes(o)&&this.dispatch(o+"-"+t,e,i[o])}clearWatchers(){for(let t in this.listeners){let e=this.listeners[t];e.handler&&(this.el.removeEventListener(t,e.handler),e.handler=null)}}}class jj{constructor(t){this.table=t,this.bindings={}}bind(t,e,i){this.bindings[t]||(this.bindings[t]={}),this.bindings[t][e]?console.warn("Unable to bind component handler, a matching function name is already bound",t,e,i):this.bindings[t][e]=i}handle(t,e,i){if(this.bindings[t]&&this.bindings[t][i]&&"function"==typeof this.bindings[t][i].bind)return this.bindings[t][i].bind(null,e);"then"!==i&&"string"==typeof i&&!i.startsWith("_")&&this.table.options.debugInvalidComponentFuncs&&console.error("The "+t+" component does not have a "+i+" function, have you checked that you have the correct Tabulator module installed?")}}class Uj extends Ui{constructor(t){super(t),this.requestOrder=0,this.loading=!1}initialize(){}load(t,e,i,r,o,s){var a=++this.requestOrder;return this.table.destroyed?Promise.resolve():(this.dispatchExternal("dataLoading",t),t&&(0==t.indexOf("{")||0==t.indexOf("["))&&(t=JSON.parse(t)),this.confirm("data-loading",[t,e,i,o])?(this.loading=!0,o||this.alertLoader(),e=this.chain("data-params",[t,i,o],e||{},e||{}),e=this.mapParams(e,this.table.options.dataSendParams),this.chain("data-load",[t,e,i,o],!1,Promise.resolve([])).then(c=>{if(this.table.destroyed)console.warn("Data Load Response Blocked - Table has been destroyed");else{!Array.isArray(c)&&"object"==typeof c&&(c=this.mapParams(c,this.objectInvert(this.table.options.dataReceiveParams)));var d=this.chain("data-loaded",[c],null,c);a==this.requestOrder?(this.clearAlert(),!1!==d&&(this.dispatchExternal("dataLoaded",d),this.table.rowManager.setData(d,r,typeof s>"u"?!r:s))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}}).catch(c=>{console.error("Data Load Error: ",c),this.dispatchExternal("dataLoadError",c),o||this.alertError(),setTimeout(()=>{this.clearAlert()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})):(this.dispatchExternal("dataLoaded",t),t||(t=[]),this.table.rowManager.setData(t,r,typeof s>"u"?!r:s),Promise.resolve()))}mapParams(t,e){var i={};for(let r in t)i[e.hasOwnProperty(r)?e[r]:r]=t[r];return i}objectInvert(t){var e={};for(let i in t)e[t[i]]=i;return e}blockActiveLoad(){this.requestOrder++}alertLoader(){("function"==typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader)&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class $j{constructor(t,e,i){this.table=t,this.events={},this.optionsList=e||{},this.subscriptionNotifiers={},this.dispatch=i?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=i}subscriptionChange(t,e){this.subscriptionNotifiers[t]||(this.subscriptionNotifiers[t]=[]),this.subscriptionNotifiers[t].push(e),this.subscribed(t)&&this._notifySubscriptionChange(t,!0)}subscribe(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e),this._notifySubscriptionChange(t,!0)}unsubscribe(t,e){var i;if(this.events[t]){if(e){if(!((i=this.events[t].findIndex(r=>r===e))>-1))return void console.warn("Cannot remove event, no matching event found:",t,e);this.events[t].splice(i,1)}else delete this.events[t];this._notifySubscriptionChange(t,!1)}else console.warn("Cannot remove event, no events set on:",t)}subscribed(t){return this.events[t]&&this.events[t].length}_notifySubscriptionChange(t,e){var i=this.subscriptionNotifiers[t];i&&i.forEach(r=>{r(e)})}_dispatch(){var i,t=Array.from(arguments),e=t.shift();return this.events[e]&&this.events[e].forEach((r,o)=>{let s=r.apply(this.table,t);o||(i=s)}),i}_debugDispatch(){var t=Array.from(arguments),e=t[0];return t[0]="ExternalEvent:"+t[0],(!0===this.debug||this.debug.includes(e))&&console.log(...t),this._dispatch(...arguments)}}class Wj{constructor(t){this.events={},this.subscriptionNotifiers={},this.dispatch=t?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=t?this._debugChain.bind(this):this._chain.bind(this),this.confirm=t?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=t}subscriptionChange(t,e){this.subscriptionNotifiers[t]||(this.subscriptionNotifiers[t]=[]),this.subscriptionNotifiers[t].push(e),this.subscribed(t)&&this._notifySubscriptionChange(t,!0)}subscribe(t,e,i=1e4){this.events[t]||(this.events[t]=[]),this.events[t].push({callback:e,priority:i}),this.events[t].sort((r,o)=>r.priority-o.priority),this._notifySubscriptionChange(t,!0)}unsubscribe(t,e){var i;if(this.events[t]){if(e){if(!((i=this.events[t].findIndex(r=>r.callback===e))>-1))return void console.warn("Cannot remove event, no matching event found:",t,e);this.events[t].splice(i,1)}this._notifySubscriptionChange(t,!1)}else console.warn("Cannot remove event, no events set on:",t)}subscribed(t){return this.events[t]&&this.events[t].length}_chain(t,e,i,r){var o=i;return Array.isArray(e)||(e=[e]),this.subscribed(t)?(this.events[t].forEach((s,a)=>{o=s.callback.apply(this,e.concat([o]))}),o):"function"==typeof r?r():r}_confirm(t,e){var i=!1;return Array.isArray(e)||(e=[e]),this.subscribed(t)&&this.events[t].forEach((r,o)=>{r.callback.apply(this,e)&&(i=!0)}),i}_notifySubscriptionChange(t,e){var i=this.subscriptionNotifiers[t];i&&i.forEach(r=>{r(e)})}_dispatch(){var t=Array.from(arguments),e=t.shift();this.events[e]&&this.events[e].forEach(i=>{i.callback.apply(this,t)})}_debugDispatch(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...t),this._dispatch(...arguments)}_debugChain(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...t),this._chain(...arguments)}_debugConfirm(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...t),this._confirm(...arguments)}}class Gj extends Ui{constructor(t){super(t)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(t,e,i){var r="";return!(typeof this.options(t)<"u"&&(r="Deprecated Setup Option - Use of the %c"+t+"%c option is now deprecated",e?(this._warnUser(r=r+", Please use the %c"+e+"%c option instead","font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;"),i&&(this.table.options[e]=this.table.options[t])):this._warnUser(r,"font-weight: bold;","font-weight: normal;"),1))}checkMsg(t,e){return!(typeof this.options(t)<"u"&&(this._warnUser("%cDeprecated Setup Option - Use of the %c"+t+" %c option is now deprecated, "+e,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),1))}msg(t){this._warnUser(t)}}class qj extends Ui{constructor(t){super(t),this.deps={},this.props={}}initialize(){this.deps=Object.assign({},this.options("dependencies"))}lookup(t,e,i){if(!Array.isArray(t))return e?this.lookupProp(t,e,i):this.lookupKey(t,i);for(const o of t){var r=this.lookup(o,e,!0);if(r)break}if(r)return r;this.error(t)}lookupProp(t,e,i){var r;return this.props[t]&&this.props[t][e]?this.props[t][e]:(r=this.lookupKey(t,i))?(this.props[t]||(this.props[t]={}),this.props[t][e]=r[e]||r,this.props[t][e]):void 0}lookupKey(t,e){var i;return this.deps[t]?i=this.deps[t]:window[t]?(this.deps[t]=window[t],i=this.deps[t]):e||this.error(t),i}error(t){console.error("Unable to find dependency",t,"Please check documentation and ensure you have imported the required library into your project")}}function z2(n,t){n.forEach(function(e){e.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}var Zj={fitData:function Yj(n,t){t&&this.table.columnManager.renderer.reinitializeColumnWidths(n),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:z2,fitDataTable:z2,fitDataStretch:function Kj(n,t){var e=0,i=this.table.rowManager.element.clientWidth,r=0,o=!1;n.forEach((s,a)=>{s.widthFixed||s.reinitializeWidth(),(this.table.options.responsiveLayout?s.modules.responsive.visible:s.visible)&&(o=s),s.visible&&(e+=s.getWidth())}),o?(r=i-e+o.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(o.setWidth(0),this.table.modules.responsiveLayout.update()),r>0?o.setWidth(r):o.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function Xj(n,t){var s,d,e=this.table.rowManager.element.getBoundingClientRect().width,i=0,r=0,o=0,a=[],l=[],c=0,u=0;function g(_){return"string"==typeof _?_.indexOf("%")>-1?e/100*parseInt(_):parseInt(_):_}function b(_,w,C,M){var L=[],N=0,ce=0,De=0,ze=o,oi=0,Xt=0,Vn=[];function rr(Et){return C*(Et.column.definition.widthGrow||1)}function Fd(Et){return g(Et.width)-C*(Et.column.definition.widthShrink||0)}return _.forEach(function(Et,as){var Id=M?Fd(Et):rr(Et);Et.column.minWidth>=Id?L.push(Et):Et.column.maxWidth&&Et.column.maxWidth<Id?(Et.width=Et.column.maxWidth,w-=Et.column.maxWidth,(ze-=M?Et.column.definition.widthShrink||1:Et.column.definition.widthGrow||1)&&(C=Math.floor(w/ze))):(Vn.push(Et),Xt+=M?Et.column.definition.widthShrink||1:Et.column.definition.widthGrow||1)}),L.length?(L.forEach(function(Et){N+=M?Et.width-Et.column.minWidth:Et.column.minWidth,Et.width=Et.column.minWidth}),ce=w-N,De=Xt?Math.floor(ce/Xt):ce,oi=b(Vn,ce,De,M)):(oi=Xt?w-Math.floor(w/Xt)*Xt:w,Vn.forEach(function(Et){Et.width=M?Fd(Et):rr(Et)})),oi}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),n.forEach(function(_){var w,C,M;_.visible&&(w=_.definition.width,C=parseInt(_.minWidth),w?(M=g(w),i+=M>C?M:C,_.definition.widthShrink&&(l.push({column:_,width:M>C?M:C}),c+=_.definition.widthShrink)):(a.push({column:_,width:0}),o+=_.definition.widthGrow||1))}),r=e-i,s=Math.floor(r/o),u=b(a,r,s,!1),a.length&&u>0&&(a[a.length-1].width+=u),a.forEach(function(_){r-=_.width}),(d=Math.abs(u)+r)>0&&c&&(u=b(l,d,Math.floor(d/c),!0)),u&&l.length&&(l[l.length-1].width-=u),a.forEach(function(_){_.column.setWidth(_.width)}),l.forEach(function(_){_.column.setWidth(_.width)})}};let Qj=(()=>{class n extends gt{static moduleName="layout";static modes=Zj;constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;n.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){e.definition.widthGrow&&(e.definition.widthGrow=Number(e.definition.widthGrow)),e.definition.widthShrink&&(e.definition.widthShrink=Number(e.definition.widthShrink))}getMode(){return this.mode}layout(e){var i=this.table.columnManager.columnsByIndex.find(r=>r.definition.variableHeight||"textarea"===r.definition.formatter);this.dispatch("layout-refreshing"),n.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),i&&this.table.rowManager.normalizeHeight(!0),this.dispatch("layout-refreshed")}}return n})();var Jj={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}},e9=Object.freeze({__proto__:null,CommsModule:(()=>class n extends gt{static moduleName="comms";constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var i=[];return this.table.constructor.registry.lookupTable(e).forEach(o=>{this.table!==o&&i.push(o)}),i}send(e,i,r,o){var s=this.getConnections(e);s.forEach(a=>{a.tableComms(this.table.element,i,r,o)}),!s.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,i,r,o){if(this.table.modExists(i))return this.table.modules[i].commsReceived(e,r,o);console.warn("Inter-table Comms Error - no such module:",i)}})(),LayoutModule:Qj,LocalizeModule:(()=>{class n extends gt{static moduleName="localize";static langs=Jj;constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=$t.deepClone(n.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,i){this.langList[e]?this._setLangProp(this.langList[e],i):this.langList[e]=i}_setLangProp(e,i){for(let r in i)e[r]&&"object"==typeof e[r]?this._setLangProp(e[r],i[r]):e[r]=i[r]}setLocale(e){if(!0===(e=e||"default")&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let r=e.split("-")[0];this.langList[r]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,r),e=r):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=$t.deepClone(this.langList.default||{}),"default"!=e&&function i(r,o){for(var s in r)"object"==typeof r[s]?(o[s]||(o[s]={}),i(r[s],o[s])):o[s]=r[s]}(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,i){var o=(i?e+"|"+i:e).split("|");return this._getLangElement(o,this.locale)||""}_getLangElement(e,i){var r=this.lang;return e.forEach(function(o){var s;r&&(r=typeof(s=r[o])<"u"&&s)}),r}bind(e,i){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(i),i(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(i=>{i(this.getText(e),this.lang)})}}return n})()});let t9=(()=>{class n{static registry={tables:[],register(e){n.registry.tables.push(e)},deregister(e){var i=n.registry.tables.indexOf(e);i>-1&&n.registry.tables.splice(i,1)},lookupTable(e,i){var o,s,r=[];if("string"==typeof e){if((o=document.querySelectorAll(e)).length)for(var a=0;a<o.length;a++)(s=n.registry.matchElement(o[a]))&&r.push(s)}else typeof HTMLElement<"u"&&e instanceof HTMLElement||e instanceof n?(s=n.registry.matchElement(e))&&r.push(s):Array.isArray(e)?e.forEach(function(l){r=r.concat(n.registry.lookupTable(l))}):i||console.warn("Table Connection Error - Invalid Selector",e);return r},matchElement:e=>n.registry.tables.find(function(i){return e instanceof n?i===e:i.element===e})};static findTable(e){var i=n.registry.lookupTable(e,!0);return!(Array.isArray(i)&&!i.length)&&i}}return n})(),i9=(()=>{class n extends t9{static moduleBindings={};static moduleExtensions={};static modulesRegistered=!1;static defaultModules=!1;constructor(){super()}static initializeModuleBinder(e){n.modulesRegistered||(n.modulesRegistered=!0,n._registerModules(e9,!0),e&&n._registerModules(e))}static _extendModule(e,i,r){if(n.moduleBindings[e]){var o=n.moduleBindings[e][i];if(o)if("object"==typeof r)for(let s in r)o[s]=r[s];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",i)}else console.warn("Module Error - module does not exist:",e)}static _registerModules(e,i){var r=Object.values(e);i&&r.forEach(o=>{o.prototype.moduleCore=!0}),n._registerModule(r)}static _registerModule(e){Array.isArray(e)||(e=[e]),e.forEach(i=>{n._registerModuleBinding(i),n._registerModuleExtensions(i)})}static _registerModuleBinding(e){e.moduleName?n.moduleBindings[e.moduleName]=e:console.error("Unable to bind module, no moduleName defined",e.moduleName)}static _registerModuleExtensions(e){var i=e.moduleExtensions;if(e.moduleExtensions)for(let r in i){let o=i[r];if(n.moduleBindings[r])for(let s in o)n._extendModule(r,s,o[s]);else{n.moduleExtensions[r]||(n.moduleExtensions[r]={});for(let s in o)n.moduleExtensions[r][s]||(n.moduleExtensions[r][s]={}),Object.assign(n.moduleExtensions[r][s],o[s])}}n._extendModuleFromQueue(e)}static _extendModuleFromQueue(e){var i=n.moduleExtensions[e.moduleName];if(i)for(let r in i)n._extendModule(e.moduleName,r,i[r])}_bindModules(){var e=[],i=[],r=[];for(var o in this.modules={},n.moduleBindings){let s=n.moduleBindings[o],a=new s(this);this.modules[o]=a,s.prototype.moduleCore?this.modulesCore.push(a):s.moduleInitOrder?s.moduleInitOrder<0?e.push(a):i.push(a):r.push(a)}e.sort((s,a)=>s.moduleInitOrder>a.moduleInitOrder?1:-1),i.sort((s,a)=>s.moduleInitOrder>a.moduleInitOrder?1:-1),this.modulesRegular=e.concat(r.concat(i))}}return n})();class n9 extends Ui{constructor(t){super(t),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var t=document.createElement("div");return t.classList.add("tabulator-alert"),t}_createMsgElement(){var t=document.createElement("div");return t.classList.add("tabulator-alert-msg"),t.setAttribute("role","alert"),t}_typeClass(){return"tabulator-alert-state-"+this.type}alert(t,e="msg"){if(t){for(this.clear(),this.dispatch("alert-show",e),this.type=e;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),"function"==typeof t&&(t=t()),t instanceof HTMLElement?this.msgElement.appendChild(t):this.msgElement.innerHTML=t,this.table.element.appendChild(this.element)}}clear(){this.dispatch("alert-hide",this.type),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}var wd=(()=>{class n extends i9{static defaultOptions=Rj;static extendModule(){n.initializeModuleBinder(),n._extendModule(...arguments)}static registerModule(){n.initializeModuleBinder(),n._registerModule(...arguments)}constructor(e,i,r){super(),n.initializeModuleBinder(r),this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new jj(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new Gj(this),this.optionsList=new V2(this,"table constructor"),this.dependencyRegistry=new qj(this),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(i),setTimeout(()=>{this._create()})),this.constructor.registry.register(this)}initializeElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement?(this.element=e,!0):"string"==typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new Lj(this),this.rowManager=new Vj(this),this.footerManager=new zj(this),this.dataLoader=new Uj(this),this.alertManager=new n9(this),this._bindModules(),this.options=this.optionsList.generate(n.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new $j(this,this.options,this.options.debugEventsExternal),this.eventBus=new Wj(this.options.debugEventsInternal),this.interactionMonitor=new Hj(this),this.dataLoader.initialize(),this.footerManager.initialize(),this.dependencyRegistry.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this.initialized=!0,this._loadInitialData().finally(()=>{this.eventBus.dispatch("table-initialized"),this.externalEvents.dispatch("tableBuilt")})}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==e.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var r,e=this.element,i=this.options;if("TABLE"===e.tagName){this.originalElement=this.element,r=document.createElement("div");var o=e.attributes;for(var s in o)"object"==typeof o[s]&&r.setAttribute(o[s].name,o[s].value);e.parentNode.replaceChild(r,e),this.element=e=r}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);i.height&&(i.height=isNaN(i.height)?i.height:i.height+"px",e.style.height=i.height),!1!==i.minHeight&&(i.minHeight=isNaN(i.minHeight)?i.minHeight:i.minHeight+"px",e.style.minHeight=i.minHeight),!1!==i.maxHeight&&(i.maxHeight=isNaN(i.maxHeight)?i.maxHeight:i.maxHeight+"px",e.style.maxHeight=i.maxHeight)}_initializeTable(){var e=this.element,i=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(r=>{r.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),i.footerElement&&this.footerManager.activate(),i.autoColumns&&i.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(r=>{r.initialize()}),this.columnManager.setColumns(i.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){return this.dataLoader.load(this.options.data).finally(()=>{this.columnManager.verticalAlignHeaders()})}destroy(){var e=this.element;for(this.destroyed=!0,this.constructor.registry.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,i){var r,o;return this.options.debugInitialization&&!this.initialized&&(e||(e=" "==(o="Error"==(r=(new Error).stack.split("\n"))[0]?r[2]:r[1])[0]?o.trim().split(" ")[1].split(".")[1]:o.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(i?" "+i:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,i,r){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,i,r,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,i,r){return this.initGuard(),this.dataLoader.load(e,i,r,!0,!0)}updateData(e){var i=0;return this.initGuard(),new Promise((r,o)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(s=>{var a=this.rowManager.findRow(s[this.options.index]);a?(i++,a.updateData(s).then(()=>{--i||r()}).catch(l=>{o("Update Error - Unable to update row",s,l)})):o("Update Error - Unable to find row",s)}):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))})}addData(e,i,r){return this.initGuard(),new Promise((o,s)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,i,r).then(a=>{var l=[];a.forEach(function(c){l.push(c.getComponent())}),o(l)}):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))})}updateOrAddData(e){var i=[],r=0;return this.initGuard(),new Promise((o,s)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(a=>{var l=this.rowManager.findRow(a[this.options.index]);r++,l?l.updateData(a).then(()=>{r--,i.push(l.getComponent()),r||o(i)}):this.rowManager.addRows(a).then(c=>{r--,i.push(c[0].getComponent()),r||o(i)})}):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))})}getRow(e){var i=this.rowManager.findRow(e);return i?i.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var i=this.rowManager.getRowFromPosition(e);return i?i.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var i=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let r of e){let o=this.rowManager.findRow(r,!0);if(!o)return console.error("Delete Error - No matching row found:",r),Promise.reject("Delete Error - No matching row found");i.push(o)}return i.sort((r,o)=>this.rowManager.rows.indexOf(r)>this.rowManager.rows.indexOf(o)?1:-1),i.forEach(r=>{r.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,i,r){return this.initGuard(),"string"==typeof e&&(e=JSON.parse(e)),this.rowManager.addRows(e,i,r,!0).then(o=>o[0].getComponent())}updateOrAddRow(e,i){var r=this.rowManager.findRow(e);return this.initGuard(),"string"==typeof i&&(i=JSON.parse(i)),r?r.updateData(i).then(()=>r.getComponent()):this.rowManager.addRows(i).then(o=>o[0].getComponent())}updateRow(e,i){var r=this.rowManager.findRow(e);return this.initGuard(),"string"==typeof i&&(i=JSON.parse(i)),r?r.updateData(i).then(()=>Promise.resolve(r.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,i,r){var o=this.rowManager.findRow(e);return o?this.rowManager.scrollToRow(o,i,r):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,i,r){var o=this.rowManager.findRow(e);this.initGuard(),o?o.moveToRow(i,r):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var i=this.rowManager.findRow(e);return i?i.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var i=this.columnManager.findColumn(e);return i?i.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),!i)return console.warn("Column Show Error - No matching column found:",e),!1;i.show()}hideColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),!i)return console.warn("Column Hide Error - No matching column found:",e),!1;i.hide()}toggleColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),!i)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;i.visible?i.hide():i.show()}addColumn(e,i,r){var o=this.columnManager.findColumn(r);return this.initGuard(),this.columnManager.addColumn(e,i,o).then(s=>s.getComponent())}deleteColumn(e){var i=this.columnManager.findColumn(e);return this.initGuard(),i?i.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,i){var r=this.columnManager.findColumn(e);return this.initGuard(),r?r.updateDefinition(i):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,i,r){var o=this.columnManager.findColumn(e),s=this.columnManager.findColumn(i);this.initGuard(),o?s?this.columnManager.moveColumn(o,s,r):console.warn("Move Error - No matching column found:",s):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,i,r){return new Promise((o,s)=>{var a=this.columnManager.findColumn(e);return a?this.columnManager.scrollToColumn(a,i,r):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw(!0)}on(e,i){this.externalEvents.subscribe(e,i)}off(e,i){this.externalEvents.unsubscribe(e,i)}dispatchEvent(){Array.from(arguments).shift(),this.externalEvents.dispatch(...arguments)}alert(e,i){this.initGuard(),this.alertManager.alert(e,i)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,i){return!!this.modules[e]||(i&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var i=this.modules[e];return i||console.error("Tabulator module not installed: "+e),i}}return n})(),Ml=class r9 extends wd{static extendModule(){wd.initializeModuleBinder(J0),wd._extendModule(...arguments)}static registerModule(){wd.initializeModuleBinder(J0),wd._registerModule(...arguments)}constructor(t,e,i){super(t,e,J0)}};let ta=(()=>{const t=class{constructor(){this.taskNameFormatter=function(i){const r=i.getData();return`\n        <div class="flex items-center gap-2">\n            <span class="text-gray-400"><i class="fa-regular fa-file-lines"></i></span>\n            <div class="flex flex-col">\n                <span class="font-medium text-gray-700 hover:text-blue-600 cursor-pointer">${r.firstname} ${r.lastname}</span>\n                <span class="text-[10px] text-gray-400">${r.position}</span>\n            </div>\n        </div>\n    `}}getFieldLabels(i){return i&&0!==i.length?Object.keys(i[0]).filter(r=>!(r.includes("id")||r.startsWith("is")||r.toLowerCase().includes("url"))).map(r=>({id:r,label:`viewed by ${r}`})):[]}formatForTabulatorObj(i,r,o){const s={};return i.forEach(a=>{s[a[r]]=a[o]}),s}formatForTabulator(i,r){return i.map(o=>o[r])}getObjectByField(i,r,o){return Array.isArray(i)&&r&&i.find(s=>s[r]===o)||null}getFieldValuesByTasks(i,r){return i&&0!==i.length?i.map(o=>({id:o.id,label:o[r]})):[]}};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Dl(n){return null!=n&&"false"!=`${n}`}function ev(n,t=0){return function o9(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Bf(n){return Array.isArray(n)?n:[n]}function xi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Sl(n){return n instanceof It?n.nativeElement:n}const s9=["addListener","removeListener"],a9=["addEventListener","removeEventListener"],l9=["on","off"];function Vf(n,t,e,i){if($(e)&&(i=e,e=void 0),i)return Vf(n,t,e).pipe(Wb(i));const[r,o]=function u9(n){return $(n.addEventListener)&&$(n.removeEventListener)}(n)?a9.map(s=>a=>n[s](t,a,e)):function c9(n){return $(n.addListener)&&$(n.removeListener)}(n)?s9.map(H2(n,t)):function d9(n){return $(n.on)&&$(n.off)}(n)?l9.map(H2(n,t)):[];if(!r&&hs(n))return Zt(s=>Vf(s,t,e))(Li(n));if(!r)throw new TypeError("Invalid event target");return new Ce(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function H2(n,t){return e=>i=>n[e](t,i)}class h9 extends W{constructor(t,e){super()}schedule(t,e=0){return this}}const zf={setInterval(n,t,...e){const{delegate:i}=zf;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=zf;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class tv extends h9{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return zf.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&zf.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ie(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Cd={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Cd;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new W(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Cd;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Cd;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},j2={now:()=>(j2.delegate||Date).now(),delegate:void 0};class Ed{constructor(t,e=Ed.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Ed.now=j2.now;class iv extends Ed{constructor(t,e=Ed.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const m9=new class p9 extends iv{flush(t){let e;this._active=!0,t?e=t.id:(e=this._scheduled,this._scheduled=void 0);const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class f9 extends tv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Cd.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&e===t._scheduled&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Cd.cancelAnimationFrame(e),t._scheduled=void 0)}});let nv,g9=1;const Hf={};function U2(n){return n in Hf&&(delete Hf[n],!0)}const b9={setImmediate(n){const t=g9++;return Hf[t]=!0,nv||(nv=Promise.resolve()),nv.then(()=>U2(t)&&n()),t},clearImmediate(n){U2(n)}},{setImmediate:v9,clearImmediate:_9}=b9,jf={setImmediate(...n){const{delegate:t}=jf;return(t?.setImmediate||v9)(...n)},clearImmediate(n){const{delegate:t}=jf;return(t?.clearImmediate||_9)(n)},delegate:void 0},w9=new class x9 extends iv{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class y9 extends tv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=jf.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(jf.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}}),rv=new iv(tv),C9=rv;function ov(n,t=rv){return function E9(n){return Ye((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ot(e,c=>{i=!0,r=c,o||Li(n(c)).subscribe(o=ot(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function D9(n=0,t,e=C9){let i=-1;return null!=t&&(Bd(t)?e=t:i=t),new Ce(r=>{let o=function M9(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}function Md(n){return Ye((t,e)=>{Li(n).subscribe(ot(e,()=>e.complete(),H)),!e.closed&&t.subscribe(e)})}let sv;try{sv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sv=!1}let Dd,Uf,ia,av,wr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function oL(n){return n===F1}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(G(oh))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sd(n){return function S9(){if(null==Dd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Dd=!0}))}finally{Dd=Dd||!1}return Dd}()?n:!!n.capture}function W2(){if(null==ia){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ia=!1,ia;if("scrollBehavior"in document.documentElement.style)ia=!0;else{const n=Element.prototype.scrollTo;ia=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ia}function Td(){if("object"!=typeof document||!document)return 0;if(null==Uf){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Uf=0,0===n.scrollLeft&&(n.scrollLeft=1,Uf=0===n.scrollLeft?1:2),n.remove()}return Uf}function lv(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function os(n){return n.composedPath?n.composedPath()[0]:n.target}function cv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const A9=new be("cdk-dir-doc",{providedIn:"root",factory:function O9(){return Ze(ct)}}),P9=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let kl=(()=>{class n{constructor(e){this.value="ltr",this.change=new xt,e&&(this.value=function R9(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?P9.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(G(A9,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({}),n})();const F9=["contentWrapper"],I9=["*"],L9=new be("VIRTUAL_SCROLL_STRATEGY");let $f=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new re,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ce(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(ov(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ne()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(pi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Sl(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Vf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(G(ft),G(wr),G(ct,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G2=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new re,this._elementScrolled=new Ce(s=>this.ngZone.runOutsideAngular(()=>Vf(this.elementRef.nativeElement,"scroll").pipe(Md(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Td()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Td()?e.left=e.right:1==Td()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;W2()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==Td()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Td()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(O(It),O($f),O(ft),O(kl,8))},n.\u0275dir=Be({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),dv=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new re,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(ov(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(G(wr),G(ft),G(ct,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q2=new be("VIRTUAL_SCROLLABLE");let V9=(()=>{class n extends G2{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(O(It),O($f),O(ft),O(kl,8))},n.\u0275dir=Be({type:n,features:[yt]}),n})();const H9=typeof requestAnimationFrame<"u"?m9:w9;let j9=(()=>{class n extends V9{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Dl(e)}constructor(e,i,r,o,s,a,l,c){super(e,a,r,s),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=c,this._platform=Ze(wr),this._detachedSubject=new re,this._renderedRangeSubject=new re,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Ce(d=>this._scrollStrategy.scrolledIndexChange.subscribe(u=>Promise.resolve().then(()=>this.ngZone.run(()=>d.next(u))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=W.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Ws(null),ov(0,H9)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Md(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function z9(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,s=o?"X":"Y";let l=`translate${s}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",s="rtl"==this.dir?.value;i="start"==e?s?o:r:"end"==e?s?r:o:e||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-a}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(O(It),O(Uo),O(ft),O(L9,8),O(kl,8),O($f),O(dv),O(q2,8))},n.\u0275cmp=Qe({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&Xn(F9,7),2&e){let r;ln(r=cn())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&Fe("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Bt([{provide:G2,useFactory:(t,e)=>t||e,deps:[[new eo,new xu(q2)],n]}]),yt,pg],ngContentSelectors:I9,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(Wu(),f(0,"div",0,1),Vo(2),p(),I(3,"div",2)),2&e&&(x(3),sn("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Wf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({}),n})(),Y2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[kd,Wf,j9,kd,Wf]}),n})();class uv{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class hv extends uv{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class fv extends uv{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class U9 extends uv{constructor(t){super(),this.element=t instanceof It?t.nativeElement:t}}class pv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof hv?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof fv?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof U9?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $9 extends pv{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Mi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Gf=(()=>{class n extends pv{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new xt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(O(No),O(On),O(ct))},n.\u0275dir=Be({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[yt]}),n})(),Ad=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({}),n})();const K2=W2();class W9{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=xi(-this._previousScrollPosition.left),t.style.top=xi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),K2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),K2&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class G9{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(pi(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class X2{enable(){}disable(){}attach(){}}function mv(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Z2(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class q9{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();mv(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Y9=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new X2,this.close=s=>new G9(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new W9(this._viewportRuler,this._document),this.reposition=s=>new q9(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(G($f),G(dv),G(ft),G(ct))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Q2{constructor(t){if(this.scrollStrategy=new X2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class K9{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let J2=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(G(ct))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X9=(()=>{class n extends J2{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(G(ct),G(ft,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z9=(()=>{class n extends J2{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=os(o)},this._clickListener=o=>{const s=os(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(G(ct),G(wr),G(ft,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qf=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||cv()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),cv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(G(ct),G(wr))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Od{constructor(t,e,i,r,o,s,a,l,c,d=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new re,this._attachments=new re,this._detachments=new re,this._locationChanges=W.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new re,this._outsidePointerEvents=new re,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ln(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=xi(this._config.width),t.height=xi(this._config.height),t.minWidth=xi(this._config.minWidth),t.minHeight=xi(this._config.minHeight),t.maxWidth=xi(this._config.maxWidth),t.maxHeight=xi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Bf(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Md(fa(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const eS="cdk-overlay-connected-position-bounding-box",Q9=/([A-Za-z%]+)$/;class J9{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new re,this._resizeSubscription=W.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(eS),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(d,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&na(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(eS),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=iS(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let g=0-a,b=a+o.height-i.height,_=this._subtractOverflows(o.width,0-s,s+o.width-i.width),w=this._subtractOverflows(o.height,g,b),C=_*w;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:_==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=tS(this._overlayRef.getConfig().minHeight),a=tS(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=iS(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let d=0,u=0;return d=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,u=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new K9(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,u,g;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const b=Math.min(i.bottom-t.y+i.top,t.y),_=this._lastBoundingBoxSize.height;o=2*b,s=t.y-b,o>_&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-_/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)g=i.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,d=i.right-t.x;else{const b=Math.min(i.right-t.x+i.left,t.x),_=this._lastBoundingBoxSize.width;d=2*b,u=t.x-b,d>_&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-_/2)}return{top:s,left:u,bottom:a,right:g,width:d,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=xi(i.height),r.top=xi(i.top),r.bottom=xi(i.bottom),r.width=xi(i.width),r.left=xi(i.left),r.right=xi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=xi(o)),s&&(r.maxWidth=xi(s))}this._lastBoundingBoxSize=i,na(this._boundingBox.style,r)}_resetBoundingBoxStyles(){na(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){na(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();na(i,this._getExactOverlayY(e,t,d)),na(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=xi(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=xi(s.maxWidth):o&&(i.maxWidth="")),na(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=xi(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=xi(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Z2(t,i),isOriginOutsideView:mv(t,i),isOverlayClipped:Z2(e,i),isOverlayOutsideView:mv(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Bf(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof It)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function na(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function tS(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Q9);return e&&"px"!==e?null:parseFloat(t)}return n||null}function iS(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const nS="cdk-global-overlay-wrapper";class eU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(nS),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,u=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let b="",_="",w="";l?w="flex-start":"center"===d?(w="center",g?_=u:b=u):g?"left"===d||"end"===d?(w="flex-end",b=u):("right"===d||"start"===d)&&(w="flex-start",_=u):"left"===d||"start"===d?(w="flex-start",b=u):("right"===d||"end"===d)&&(w="flex-end",_=u),t.position=this._cssPosition,t.marginLeft=l?"0":b,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":_,e.justifyContent=w,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(nS),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let tU=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new eU}flexibleConnectedTo(e){return new J9(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(G(dv),G(ct),G(wr),G(qf))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iU=0,ss=(()=>{class n{constructor(e,i,r,o,s,a,l,c,d,u,g,b){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=d,this._location=u,this._outsideClickDispatcher=g,this._animationsModuleType=b}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Q2(e);return s.direction=s.direction||this._directionality.value,new Od(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+iU++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(jo)),new $9(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(G(Y9),G(qf),G(No),G(tU),G(X9),G(Mi),G(ft),G(ct),G(kl),G(Lc),G(Z9),G(Bs,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oU={provide:new be("cdk-connected-overlay-scroll-strategy"),deps:[ss],useFactory:function rU(n){return()=>n.scrollStrategies.reposition()}};let Yf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({providers:[ss,oU],imports:[kd,Ad,Y2,Y2]}),n})();function Kf(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function oS(n,t=rv){return Ye((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,d=t.now();if(d<c)return r=this.schedule(void 0,c-d),void i.add(r);a()}e.subscribe(ot(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function sS(n){return pi((t,e)=>n<=e)}function aS(n,t=Me){return n=n??DU,Ye((e,i)=>{let r,o=!0;e.subscribe(ot(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function DU(n,t){return n===t}let SU=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({providers:[SU]}),n})();const cS=new Set;let Al,TU=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):AU}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function kU(n){if(!cS.has(n))try{Al||(Al=document.createElement("style"),Al.setAttribute("type","text/css"),document.head.appendChild(Al)),Al.sheet&&(Al.sheet.insertRule(`@media ${n} {body{ }}`,0),cS.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(G(wr))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let OU=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new re}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return dS(Bf(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Gb(dS(Bf(e)).map(s=>this._registerQuery(s).observable));return o=Wh(o.pipe(Ln(1)),o.pipe(sS(1),oS(0))),o.pipe(He(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Ce(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Ws(i),He(({matches:s})=>({query:e,matches:s})),Md(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(G(TU),G(ft))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dS(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class FU{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new re,this._typeaheadSubscription=W.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new re,this.change=new re,t instanceof al&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(_i(e=>this._pressedLetters.push(e)),oS(t),pi(()=>this._pressedLetters.length>0),He(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||Kf(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof al?this._items.toArray():this._items}}class IU extends FU{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Xf=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function NU(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function LU(n){try{return n.frameElement}catch{return null}}(function WU(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===pS(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=pS(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function UU(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function $U(n){return!function VU(n){return function HU(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function BU(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function zU(n){return function jU(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||fS(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(G(wr))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fS(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function pS(n){if(!fS(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class GU{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ln(1)).subscribe(t)}}let gv=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new GU(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(G(Xf),G(ft),G(ct))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mS(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function gS(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const qU=new be("cdk-input-modality-detector-options"),YU={ignoreKeys:[18,17,224,91,16]},Ol=Sd({passive:!0,capture:!0});let KU=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Fi(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=os(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(mS(s)?"keyboard":"mouse"),this._mostRecentTarget=os(s))},this._onTouchstart=s=>{gS(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=os(s))},this._options={...YU,...o},this.modalityDetected=this._modality.pipe(sS(1)),this.modalityChanged=this.modalityDetected.pipe(aS()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ol),r.addEventListener("mousedown",this._onMousedown,Ol),r.addEventListener("touchstart",this._onTouchstart,Ol)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ol),document.removeEventListener("mousedown",this._onMousedown,Ol),document.removeEventListener("touchstart",this._onTouchstart,Ol))}}return n.\u0275fac=function(e){return new(e||n)(G(wr),G(ft),G(ct),G(qU,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZU=new be("cdk-focus-monitor-default-options"),Zf=Sd({passive:!0,capture:!0});let Qf=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new re,this._rootNodeFocusAndBlurListener=a=>{for(let c=os(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=Sl(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ne(null);const o=function k9(n){if(function T9(){if(null==av){const n=typeof document<"u"?document.head:null;av=!(!n||!n.createShadowRoot&&!n.attachShadow)}return av}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new re,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Sl(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Sl(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=os(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Zf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Zf)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Md(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Zf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Zf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(G(ft),G(wr),G(KU),G(ct,8),G(ZU,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vS="cdk-high-contrast-black-on-white",_S="cdk-high-contrast-white-on-black",bv="cdk-high-contrast-active";let yS=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Ze(OU).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(bv,vS,_S),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(bv,vS):2===i&&e.add(bv,_S)}}}return n.\u0275fac=function(e){return new(e||n)(G(wr),G(ct))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xS=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(G(yS))},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[lS]}),n})();function QU(n,t){}class Jf{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let wS=(()=>{class n extends pv{constructor(e,i,r,o,s,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const u=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),u},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=lv(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=lv();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=lv())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(O(It),O(gv),O(ct,8),O(Jf),O(Xf),O(ft),O(Od),O(Qf))},n.\u0275cmp=Qe({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&Xn(Gf,7),2&e){let r;ln(r=cn())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&Di("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[yt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&U(0,QU,0,0,"ng-template",0)},dependencies:[Gf],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class vv{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new re,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Kf(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const CS=new be("DialogScrollStrategy"),JU=new be("DialogData"),e$=new be("DefaultDialogConfig"),i$={provide:CS,deps:[ss],useFactory:function t$(n){return()=>n.scrollStrategies.block()}};let n$=0,ES=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new re,this._afterOpenedAtThisLevel=new re,this._ariaHiddenElements=new Map,this.afterAllClosed=Gh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ws(void 0))),this._scrollStrategy=a}open(e,i){(i={...this._defaultOptions||new Jf,...i}).id=i.id||"cdk-dialog-"+n$++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new vv(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(e,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){_v(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){_v(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),_v(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Q2({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:Jf,useValue:r},{provide:vv,useValue:i},{provide:Od,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=wS;const l=new hv(a,r.viewContainerRef,Mi.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof gr){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new fv(e,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new hv(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentInstance=a.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:JU,useValue:e.data},{provide:vv,useValue:i}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(kl,null,{optional:!0}))&&a.push({provide:kl,useValue:{value:e.direction,change:Ne()}}),Mi.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(G(ss),G(Mi),G(e$,8),G(n,12),G(qf),G(CS))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();function _v(n,t){let e=n.length;for(;e--;)t(n[e])}let r$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({providers:[ES,i$],imports:[Yf,Ad,xS,Ad]}),n})();const s$=new be("mat-sanity-checks",{providedIn:"root",factory:function o$(){return!0}});let $i=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!cv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(G(yS),G(s$,8),G(ct))},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[kd,kd]}),n})();function a$(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ev(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}class c${constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const SS=Sd({passive:!0,capture:!0});class d${constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=os(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,SS)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,SS)))}}const TS={enterDuration:225,exitDuration:150},kS=Sd({passive:!0,capture:!0}),AS=["mousedown","touchstart"],OS=["mouseup","mouseleave","touchend","touchcancel"];class ep{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Sl(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...TS,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function h$(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=l-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),b=u.transitionDuration,_="none"===u.transitionProperty||"0s"===b||"0s, 0s"===b||0===r.width&&0===r.height,w=new c$(this,d,i,_);d.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);let C=null;return!_&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const M=()=>this._finishRippleTransition(w),L=()=>this._destroyRipple(w);d.addEventListener("transitionend",M),d.addEventListener("transitioncancel",L),C={onTransitionEnd:M,onTransitionCancel:L}}),this._activeRipples.set(w,C),(_||!c)&&this._finishRippleTransition(w),w}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...TS,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Sl(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,AS.forEach(i=>{ep._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{OS.forEach(e=>{this._triggerElement.addEventListener(e,this,kS)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=mS(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!gS(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(AS.forEach(e=>ep._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&OS.forEach(e=>t.removeEventListener(e,this,kS)))}}ep._eventManager=new d$;let yv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[$i,$i]}),n})(),f$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[$i]}),n})(),PS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[yv,uo,$i,f$]}),n})();function p$(n,t){}class tp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const xv="mdc-dialog--open",RS="mdc-dialog--opening",FS="mdc-dialog--closing";let b$=(()=>{class n extends wS{constructor(e,i,r,o,s,a,l,c){super(e,i,r,o,s,a,l,c),this._animationStateChanged=new xt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(O(It),O(gv),O(ct,8),O(tp),O(Xf),O(ft),O(Od),O(Qf))},n.\u0275cmp=Qe({type:n,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const IS="--mat-dialog-transition-duration";function LS(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?ev(n.substring(0,n.length-2)):n.endsWith("s")?1e3*ev(n.substring(0,n.length-1)):"0"===n?0:null}let v$=(()=>{class n extends b${constructor(e,i,r,o,s,a,l,c,d){super(e,i,r,o,s,a,l,d),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?LS(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?LS(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(IS,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(RS,xv)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(xv),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(xv),this._animationsEnabled?(this._hostElement.style.setProperty(IS,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(FS)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(RS,FS)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return n.\u0275fac=function(e){return new(e||n)(O(It),O(gv),O(ct,8),O(tp),O(Xf),O(ft),O(Od),O(Bs,8),O(Qf))},n.\u0275cmp=Qe({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(og("id",i._config.id),Di("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Fe("_mat-animation-noopable",!i._animationsEnabled))},features:[yt],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(f(0,"div",0)(1,"div",1),U(2,p$,0,0,"ng-template",2),p()())},dependencies:[Gf],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class _${constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new re,this._beforeClosed=new re,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(pi(r=>"opened"===r.state),Ln(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(pi(r=>"closed"===r.state),Ln(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),fa(this.backdropClick(),this.keydownEvents().pipe(pi(r=>27===r.keyCode&&!this.disableClose&&!Kf(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function y$(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(pi(e=>"closing"===e.state),Ln(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const x$=new be("MatMdcDialogData"),w$=new be("mat-mdc-dialog-default-options"),NS=new be("mat-mdc-dialog-scroll-strategy"),E$={provide:NS,deps:[ss],useFactory:function C$(n){return()=>n.scrollStrategies.block()}};let M$=0,D$=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,a,l,c,d,u){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new re,this._afterOpenedAtThisLevel=new re,this._idPrefix="mat-dialog-",this.dialogConfigClass=tp,this.afterAllClosed=Gh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ws(void 0))),this._scrollStrategy=a,this._dialog=i.get(ES)}open(e,i){let r;(i={...this._defaultOptions||new tp,...i}).id=i.id||`${this._idPrefix}${M$++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Jf,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){Im()},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),BS=(()=>{class n extends D${constructor(e,i,r,o,s,a,l,c){super(e,i,o,a,l,s,_$,v$,x$,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(G(ss),G(Mi),G(Lc,8),G(w$,8),G(NS),G(n,12),G(qf),G(Bs,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),S$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({providers:[BS,E$],imports:[r$,Yf,Ad,$i,$i]}),n})();const T$=["dialog"];let k$=(()=>{const t=class{constructor(i,r,o,s,a,l){this.el=i,this.authService=r,this.commonService=o,this.toasterService=s,this.storageService=a,this.dialog=l,this.shifts=[],this.designations=[],this.departments=[],this.departmentList=[],this.users=[],this.columns=[],this.options={},this.viewOptions=[]}ngOnInit(){this.loadInitialData()}ngAfterViewInit(){}ngOnChanges(i){this.table&&i.users&&!i.users.firstChange&&this.table.replaceData(this.users)}ngOnDestroy(){this.table&&this.table.destroy()}loadInitialData(){this.getAllDepartments(()=>{this.getUsersAll(()=>{this.initTable()})})}initTable(i=""){this.departments=this.commonService.formatForTabulator(this.departmentList,"department_name");const l=d=>{const u=d.getValue();if(!u)return"-";const g=luxon.DateTime.fromISO(u);return`<div class="flex-col"><span class="text-bold" style="font-size:12px;">${g.toFormat("dd MMM yyyy")}</span><span class="text-muted">${g.toRelative()}</span></div>`};this.columns=[{title:"ID",field:"id",sorter:"number",hozAlign:"center",formatter:d=>`<span class="text-light-gray">EMP-${d.getValue()}</span>`},{title:"Employee",field:"firstname",formatter:d=>{const u=d.getData(),g=(u.firstname[0]+(u.lastname?u.lastname[0]:"")).toUpperCase(),b=[220,260,320,160,40],_=b[u.id%b.length];return`\n          <div class="profile-wrapper">\n              <div class="avatar" style="background-color: hsl(${_}, 80%, 95%); color: hsl(${_}, 70%, 40%);">\n                  ${u.profile_image_url?`<img height="40" width="40" src="${u.profile_image_url}" onerror="this.style.display='none'; this.parentElement.innerText='${g}'" />`:g}\n              </div>\n              <div class="flex-col">\n                  <span class="text-bold">${u.firstname} ${u.lastname}</span>\n                  <span class="text-muted">${u.position}</span>\n              </div>\n          </div>\n      `},widthGrow:2,minWidth:240,headerSort:!1,edit:"input"},{title:"Contact Info",field:"email",formatter:d=>{const u=d.getData();return`\n        <div class="flex-col">\n            <div style="display:flex; align-items:center; gap:6px; font-size:12px; color:var(--text-primary);">\n                <i class="ri-mail-line" style="color:var(--text-tertiary)"></i> ${u.email}\n            </div>\n            <div style="display:flex; align-items:center; gap:6px; font-size:11px; color:var(--text-secondary);">\n                <i class="ri-phone-line" style="color:var(--text-tertiary)"></i> ${u.mobile||"--"}\n            </div>\n        </div>\n    `},width:220,headerSort:!1},{title:"Shift",field:"shift_type",width:140,editor:"list",editorParams:{values:["Day Shift","Night Shift","Rotational"]},formatter:d=>`<span style="font-weight:500; font-size:12px;">${d.getValue()}</span>`},{title:"Joined",field:"joining_date",formatter:l,width:150,editor:"date",editorParams:{format:"yyyy-MM-dd"}},{title:"Location",field:"wfh",formatter:d=>1==d.getValue()?'<span class="badge badge-info"><i class="ri-home-wifi-line"></i> Remote</span>':'<span class="text-sub" style="margin-left:8px;">In Office</span>',width:130,hozAlign:"center",editor:"list",editorParams:{values:[{label:"Remote",value:1},{label:"Office",value:0}]}},{title:"Status",field:"isactive",formatter:function(d){return d.getValue()?'<span class="status-pill status-closed"><i class="ri-checkbox-circle-fill"></i> Active</span>':'<span class="status-pill status-cancelled"><i class="ri-close-circle-fill"></i> Closed</span>'},width:120,hozAlign:"center",editor:"list",editorParams:{values:[{label:"Active",value:1},{label:"Inactive",value:0}]}},{title:"Attendance ID",field:"attendanceid",editor:"input"},{title:"Releaving Date",field:"releaving_date",sorter:"datetime",editor:"datetime",editorParams:{min:"1900-01-01",max:"2100-12-31",format:"yyyy-MM-dd HH:mm:ss",step:1}},{title:"Releaving Remarks",field:"releaving_remarks",formatter:l,width:150,editor:"date",editorParams:{format:"yyyy-MM-dd"}},{title:"Created Date",field:"createddate",sorter:"datetime"},{title:"Updated Date",field:"updateddate",sorter:"datetime"},{title:"Actions",field:"actions",headerSort:!1,frozen:!0,hozAlign:"center",formatter:()=>'\n            <button \n              style="border:none;background:transparent;cursor:pointer;padding:4px;">\n              <i class="ri-edit-2-line edit" style="font-size:18px;color:#1976d2;"></i>\n            </button>\n        \n            <button \n              style="border:none;background:transparent;cursor:pointer;padding:4px;">\n              <i class="ri-delete-bin-6-line delete" style="font-size:18px;color:#d32f2f;"></i>\n            </button>\n          ',cellClick:(d,u)=>{if(this.storageService.roles.isAdmin||this.storageService.roles.isManager){const g=u.getRow().getData();d.target.classList.contains("edit")&&(this.selectedUser=g,console.log("Edit:",g),this.viewSelector.toggleFilter()),d.target.classList.contains("delete")&&Xs().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(b=>{b.isConfirmed&&this.deleteUser(g.id)})}}}];const c={data:this.users,columns:this.columns,movableColumns:!0,resizableRows:!0,movableRows:!0,pagination:"local",paginationSize:15,editTriggerEvent:this.storageService.roles.isAdmin||this.storageService.roles.isManager?"dblclick":"",paginationSizeSelector:[5,10,15,25,35,45,100],columnDefaults:{tooltip:!0},groupBy:i,groupStartOpen:!0,groupHeader:function(d,u,g,b){return`\n              <div class="flex-row">\n                  <i class="ri-stack-line" style="color: var(--primary); font-size: 16px;"></i>\n                  <span class="text-main text-bold">${d||"Unassigned"}</span>\n                  <span class="text-muted" style="font-weight: 400;">(${u} Users)</span>\n              </div>\n          `}};this.table=new Ml(this.el.nativeElement.querySelector(".tabulator-table"),{...c,...this.options}),this.table.on("cellEdited",d=>{if(this.updateUser(d.getRow().getData()),"department_name"==d.getColumn().getField()){let u=this.commonService.getObjectByField(this.departmentList,"department_name",d.getRow().getData().department_name);this.getDesignationByDepartment(u.id)}})}onViewSelected(i){this.initTable(i.id)}onCreateCustomView(){console.log("Parent received Create Custom View click!")}getUsersAll(i){this.authService.getUsersAll().subscribe({next:r=>{this.users=r,this.viewOptions=this.commonService.getFieldLabels(this.users),i&&i(),this.table&&this.table.replaceData(this.users)}})}getAllDepartments(i){this.authService.getAllDepartments().subscribe({next:r=>{this.departmentList=r,this.departments=this.commonService.formatForTabulator(r,"department_name"),i&&i()}})}getAllShifts(){this.authService.getAllShifts().subscribe({next:i=>this.shifts=i})}getDesignationByDepartment(i,r){this.authService.getDesignationByDepartment(i).subscribe({next:o=>{this.designations=o,this.designations=this.commonService.formatForTabulator(o,"position"),this.initTable(),r&&r()}})}updateUser(i){i.username=this.storageService.getUsername(),this.authService.updateUser(i).subscribe({next:r=>{this.toasterService.success(r.message),this.getUsersAll()},error:r=>{this.toasterService.error(r?.error?.message)}})}deleteUser(i){const r=this.storageService.getUsername();this.authService.deleteUser(i,r).subscribe({next:o=>{this.toasterService.success(o.message),this.getUsersAll()},error:o=>{this.toasterService.error(o?.error?.message)}})}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(It),O(Cn),O(ta),O(xo),O(Xi),O(BS))},t.\u0275cmp=Qe({type:t,selectors:[["app-profile"]],viewQuery:function(r,o){if(1&r&&(Xn(T$,5),Xn(O2,5)),2&r){let s;ln(s=cn())&&(o.dialogTemplate=s.first),ln(s=cn())&&(o.viewSelector=s.first)}},features:[je],decls:7,vars:2,consts:[[1,"card"],[2,"margin-bottom","15px"],[3,"items","data","initTable","selectionChange","createCustom"],[2,"margin-bottom","15px","margin-top","10px","font-size","15px","border-top","1px solid var(--border)","padding-top","10px"],[1,"theme-grid"],[1,"tabulator-table"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"h2",1),v(2,"User management"),p(),f(3,"app-view-selector",2),ee("initTable",function(){return o.getUsersAll()})("selectionChange",function(a){return o.onViewSelected(a)})("createCustom",function(){return o.onCreateCustomView()}),p(),f(4,"div",3)(5,"div",4),I(6,"div",5),p()()()),2&r&&(x(3),D("items",o.viewOptions)("data",o.selectedUser))},dependencies:[O2]}),n})(),A$=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-security"]],decls:2,vars:0,template:function(r,o){1&r&&(f(0,"p"),v(1,"security works!"),p())}}),n})(),O$=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-general"]],decls:2,vars:0,template:function(r,o){1&r&&(f(0,"p"),v(1,"general works!"),p())}}),n})(),P$=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-billing"]],decls:2,vars:0,template:function(r,o){1&r&&(f(0,"p"),v(1,"billing works!"),p())}}),n})(),R$=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-logs"]],decls:2,vars:0,template:function(r,o){1&r&&(f(0,"p"),v(1,"logs works!"),p())}}),n})();function F$(n,t){1&n&&(ke(),f(0,"svg",26),I(1,"path",27),p())}function I$(n,t){if(1&n){const e=Tt();f(0,"li",24),ee("click",function(){const o=$e(e).$implicit;return We(ue(3).selectItem(o))}),v(1),U(2,F$,2,0,"svg",25),p()}if(2&n){const e=t.$implicit,i=ue(3);Fe("selected",e.id===(null==i.selectedItem?null:i.selectedItem.id)),x(1),Ge(" ",e.label," "),x(1),D("ngIf",e.id===(null==i.selectedItem?null:i.selectedItem.id))}}function L$(n,t){1&n&&(f(0,"li",28),v(1," No views found "),p())}function N$(n,t){if(1&n&&(ke(),Re(),f(0,"ul",21),U(1,I$,3,4,"li",22),U(2,L$,2,0,"li",23),p()),2&n){const e=ue(2);x(1),D("ngForOf",e.filteredItems),x(1),D("ngIf",0===e.filteredItems.length)}}function B$(n,t){if(1&n){const e=Tt();ke(),Re(),f(0,"div",29),ee("click",function(){return $e(e),We(ue(2).onCreateCustom())}),f(1,"span",30),v(2,"+"),p(),v(3," Create Custom View "),p()}}function V$(n,t){if(1&n){const e=Tt();ke(),Re(),f(0,"div",8),ee("click",function(r){return r.stopPropagation()}),f(1,"div",9),ke(),f(2,"svg",10),I(3,"circle",11)(4,"line",12),p(),Re(),f(5,"input",13,14),ee("ngModelChange",function(r){return $e(e),We(ue().searchText=r)})("input",function(){return $e(e),We(ue().filterItems())}),p()(),f(7,"div",15)(8,"div",16),ee("click",function(){return $e(e),We(ue().toggleSection())}),ke(),f(9,"svg",17),I(10,"path",18),p(),v(11),p(),U(12,N$,3,2,"ul",19),p(),U(13,B$,4,0,"div",20),p()}if(2&n){const e=ue();x(5),D("ngModel",e.searchText),x(4),Fe("collapsed-arrow",e.isCollapsed),x(2),Ge(" ",e.isRightSectionNeeded?"Predefined Views":e.triggerTxt," "),x(1),D("ngIf",!e.isCollapsed),x(1),D("ngIf",e.isRightSectionNeeded)}}function z$(n,t){if(1&n){const e=Tt();ke(),Re(),f(0,"div",31)(1,"button",32),ee("click",function(){return $e(e),We(ue().toggleFilter())}),ke(),f(2,"svg",33),I(3,"polygon",34),p()(),Re(),I(4,"div",35),f(5,"button",36),ee("click",function(){return $e(e),We(ue().toggleFilter())}),v(6),p()()}if(2&n){const e=ue();x(1),Fe("active",e.isFilterOpen),x(4),Fe("active",e.isFilterOpen),x(1),Ge(" + add ",e.btntext," ")}}let wo=(()=>{const t=class{constructor(i){this.elementRef=i,this.viewOptions=[],this.triggerTxt="select view",this.isRightSectionNeeded=!0,this.selectionChange=new xt,this.createCustom=new xt,this.toggleSideTab=new xt,this.isFilterOpen=!1,this.isCollapsed=!1,this.isOpen=!1,this.searchText="",this.selectedItem=null,this.filteredItems=[]}toggleSection(){this.isCollapsed=!this.isCollapsed}toggleDropdown(i){i.stopPropagation(),this.isOpen=!this.isOpen,this.isOpen&&(this.searchText="",this.filterItems())}filterItems(){const i=this.searchText.toLowerCase();this.filteredItems=i?this.viewOptions.filter(r=>r.label.toLowerCase().includes(i)):[...this.viewOptions]}selectItem(i){this.selectedItem=i,this.isOpen=!1,this.selectionChange.emit(i)}onCreateCustom(){this.isOpen=!1,this.createCustom.emit()}toggleFilter(i=""){this.isFilterOpen=!this.isFilterOpen,this.toggleSideTab.emit("New")}onDocumentClick(i){this.elementRef.nativeElement.contains(i.target)||(this.isOpen=!1)}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(It))},t.\u0275cmp=Qe({type:t,selectors:[["app-table-filter"]],hostBindings:function(r,o){1&r&&ee("click",function(a){return o.onDocumentClick(a)},0,Fu)},inputs:{viewOptions:"viewOptions",btntext:"btntext",triggerTxt:"triggerTxt",isRightSectionNeeded:"isRightSectionNeeded",selectedItem:"selectedItem"},outputs:{selectionChange:"selectionChange",createCustom:"createCustom",toggleSideTab:"toggleSideTab"},decls:9,vars:5,consts:[[1,"toolbar-container"],[1,"select-wrapper"],["type","button",1,"view-trigger",3,"click"],[1,"trigger-text"],["viewBox","0 0 24 24",1,"trigger-arrow"],["d","M7 10l5 5 5-5z","fill","currentColor"],["class","dropdown-menu",3,"click",4,"ngIf"],["class","right-section",4,"ngIf"],[1,"dropdown-menu",3,"click"],[1,"search-container"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"search-icon"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["type","text","placeholder","Search...",1,"search-input",3,"ngModel","ngModelChange","input"],["searchInput",""],[1,"list-container"],[1,"section-header",3,"click"],["viewBox","0 0 24 24","fill","currentColor",1,"section-arrow"],["d","M7 10l5 5 5-5z"],["class","options-list",4,"ngIf"],["class","menu-footer",3,"click",4,"ngIf"],[1,"options-list"],["class","menu-item",3,"selected","click",4,"ngFor","ngForOf"],["class","menu-item no-results",4,"ngIf"],[1,"menu-item",3,"click"],["class","item-icon","viewBox","0 0 24 24",4,"ngIf"],["viewBox","0 0 24 24",1,"item-icon"],["d","M12 22a8 8 0 0 1-8-8v-3h2v3a6 6 0 1 0 12 0v-3h2v3a8 8 0 0 1-8 8zm0-12a2 2 0 1 0 0-4 2 2 0 0 0 0 4z","fill","currentColor"],[1,"menu-item","no-results"],[1,"menu-footer",3,"click"],[1,"plus-icon"],[1,"right-section"],[1,"icon-btn","filter-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"divider"],[1,"icon-text-btn",3,"click"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"button",2),ee("click",function(a){return o.toggleDropdown(a)}),f(3,"span",3),v(4),p(),ke(),f(5,"svg",4),I(6,"path",5),p()(),U(7,V$,14,6,"div",6),p(),U(8,z$,7,5,"div",7),p()),2&r&&(x(2),Fe("active",o.isOpen),x(2),Ae((null==o.selectedItem?null:o.selectedItem.label)||o.triggerTxt),x(3),D("ngIf",o.isOpen),x(1),D("ngIf",o.isRightSectionNeeded))},dependencies:[Hi,ki,Bn,yr,Js],styles:[".toolbar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;width:100%;box-sizing:border-box}.right-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.select-wrapper[_ngcontent-%COMP%]{position:relative;width:280px}.icon-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:transparent;border:none;border-radius:var(--radius);color:var(--text-muted);cursor:pointer;transition:all .2s}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#0000000d;color:var(--text-main)}.icon-btn.active[_ngcontent-%COMP%]{background-color:var(--primary-bg);background-color:color-mix(in srgb,var(--primary) 10%,var(--surface));color:var(--primary)}.icon-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.icon-text-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 10px;background:transparent;border:1px solid var(--primary);border-radius:var(--radius);font-size:14px;color:var(--text-muted);cursor:pointer;transition:all .2s}.icon-text-btn[_ngcontent-%COMP%]:hover{background-color:#0000000d;color:var(--text-main)}.btn-icon-left[_ngcontent-%COMP%]{width:16px;height:16px}.btn-arrow[_ngcontent-%COMP%]{width:10px;height:10px}.divider[_ngcontent-%COMP%]{width:1px;height:20px;background-color:var(--border);margin:0 4px}.trigger-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.view-trigger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:8px 12px;background:var(--surface);border:1px solid var(--accent);border-color:var(--border);border-radius:var(--radius);font-size:14px;font-weight:500;color:var(--text-main);cursor:pointer;transition:all .2s}.view-trigger[_ngcontent-%COMP%]:hover, .view-trigger.active[_ngcontent-%COMP%]{background-color:var(--surface);border-color:var(--border);box-shadow:var(--shadow-sm)}.trigger-arrow[_ngcontent-%COMP%]{width:10px;height:10px;fill:var(--text-muted)}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;margin-top:4px;width:100%;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow-lg);display:flex;flex-direction:column;z-index:100;animation:_ngcontent-%COMP%_fadeIn .1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.search-container[_ngcontent-%COMP%]{padding:8px 12px;border-bottom:1px solid var(--border);display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{width:14px;height:14px;color:var(--text-muted);margin-right:8px}.search-input[_ngcontent-%COMP%]{border:none;outline:none;width:100%;font-size:13px;color:var(--text-main);background:transparent}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted);opacity:.7}.list-container[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;padding:4px 0}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;font-size:13px;font-weight:600;color:var(--text-main);cursor:pointer;-webkit-user-select:none;user-select:none}.section-header[_ngcontent-%COMP%]:hover{background-color:#00000008}.section-arrow[_ngcontent-%COMP%]{width:12px;height:12px;margin-right:8px;transition:transform .2s;color:var(--text-muted)}.collapsed-arrow[_ngcontent-%COMP%]{transform:rotate(-90deg)}.options-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px 8px 32px;font-size:13px;color:var(--text-main);cursor:pointer}.menu-item[_ngcontent-%COMP%]:hover{background-color:#00000008}.menu-item.selected[_ngcontent-%COMP%]{background-color:var(--primary-bg);color:var(--primary);background-color:color-mix(in srgb,var(--primary) 10%,var(--surface))}.menu-item.no-results[_ngcontent-%COMP%]{color:var(--text-muted);cursor:default}.menu-item.no-results[_ngcontent-%COMP%]:hover{background:none}.item-icon[_ngcontent-%COMP%]{width:14px;height:14px;fill:currentColor}.menu-footer[_ngcontent-%COMP%]{border-top:1px solid var(--border);padding:10px 12px;font-size:13px;color:var(--text-muted);cursor:pointer;display:flex;align-items:center;background:var(--bg-body);border-bottom-left-radius:var(--radius);border-bottom-right-radius:var(--radius)}.menu-footer[_ngcontent-%COMP%]:hover{background-color:var(--border);color:var(--primary)}.plus-icon[_ngcontent-%COMP%]{margin-right:6px;font-size:16px;line-height:1}"]}),n})();function H$(n,t){if(1&n){const e=Tt();f(0,"div",59),ee("click",function(){return $e(e),We(ue().toggleSideTab())}),p()}}function j$(n,t){1&n&&(f(0,"div",60),v(1," Title is required. "),p())}function U$(n,t){1&n&&(f(0,"div",60),v(1," Client is required. "),p())}function $$(n,t){1&n&&(f(0,"div",60),v(1," Start Date is required. "),p())}function W$(n,t){1&n&&(f(0,"div",60),v(1," End Date is required. "),p())}function G$(n,t){if(1&n&&(f(0,"option",61),v(1),p()),2&n){const e=t.$implicit;D("value",e.id),x(1),Ge("",e.employee_name," ")}}function q$(n,t){1&n&&(ke(),Re(),f(0,"div",60),v(1," Manager is required. "),p())}function Y$(n,t){1&n&&(f(0,"span",21),v(1,"*"),p())}function K$(n,t){if(1&n&&(f(0,"option",61),v(1),p()),2&n){const e=t.$implicit;D("value",e.id),x(1),Ge("",e.department_name," ")}}function X$(n,t){1&n&&(ke(),Re(),f(0,"div",60),v(1," Department is required. "),p())}function Z$(n,t){1&n&&(f(0,"span",21),v(1,"*"),p())}function Q$(n,t){if(1&n){const e=Tt();f(0,"div",62),ee("click",function(){return $e(e),We(ue().isTeamDropdownOpen=!1)}),p()}}function J$(n,t){if(1&n){const e=Tt();f(0,"span",65),ee("click",function(r){return r.stopPropagation()}),f(1,"span",66),v(2),p(),v(3),f(4,"span",67),ee("click",function(){const o=$e(e).$implicit,s=ue(2);return We(!s.isPublic&&s.toggleEmployee(o))}),v(5,"\xd7"),p()()}if(2&n){const e=t.$implicit,i=ue(2);x(2),Ae(i.getInitials(i.getEmployeeName(e))),x(1),Ge(" ",i.getEmployeeName(e)," ")}}function eW(n,t){if(1&n&&(f(0,"div",63),U(1,J$,6,2,"span",64),p()),2&n){const e=ue();x(1),D("ngForOf",e.selectedEmployeeIds)}}function tW(n,t){if(1&n&&(f(0,"span",68),v(1),p()),2&n){const e=ue();x(1),Ae(e.isPublic?"Not applicable":"Select members...")}}function iW(n,t){if(1&n&&(f(0,"span",69),v(1),p()),2&n){const e=ue();x(1),Ae(e.selectedEmployeeIds.length)}}function nW(n,t){1&n&&(ke(),f(0,"svg",86),I(1,"polyline",87),p())}function rW(n,t){if(1&n){const e=Tt();f(0,"div",79),ee("click",function(){const o=$e(e).$implicit;return We(ue(2).toggleEmployee(o.id))}),f(1,"div",80),v(2),p(),f(3,"div",81)(4,"span",82),v(5),p(),f(6,"span",83),v(7),p()(),f(8,"div",84),U(9,nW,2,0,"svg",85),p()()}if(2&n){const e=t.$implicit,i=ue(2);Fe("selected",i.isEmployeeSelected(e.id)),x(1),sn("background-color",i.getAvatarColor(e.id)),x(1),Ge(" ",i.getInitials(e.employee_name)," "),x(3),Ae(e.employee_name),x(2),Ae(e.role),x(2),D("ngIf",i.isEmployeeSelected(e.id))}}function oW(n,t){1&n&&(f(0,"div",88),v(1," No members found. "),p())}const sW=function(){return{standalone:!0}};function aW(n,t){if(1&n){const e=Tt();ke(),Re(),f(0,"div",70)(1,"div",71),ke(),f(2,"svg",72),I(3,"circle",73)(4,"line",74),p(),Re(),f(5,"input",75),ee("ngModelChange",function(r){return $e(e),We(ue().teamSearch=r)})("click",function(r){return r.stopPropagation()}),p()(),f(6,"div",76),U(7,rW,10,8,"div",77),U(8,oW,2,0,"div",78),p()()}if(2&n){const e=ue();x(5),D("ngModel",e.teamSearch)("ngModelOptions",gg(4,sW)),x(2),D("ngForOf",e.filteredEmployees),x(1),D("ngIf",0===e.filteredEmployees.length)}}function lW(n,t){1&n&&(ke(),Re(),f(0,"div",60),v(1," Team Members are required. "),p())}let cW=(()=>{const t=class{toggleSideTab(i){this.isFilterOpen=!this.isFilterOpen,"New"===i&&this.onCancel()}constructor(i,r,o,s,a,l,c){this.el=i,this.router=r,this.fb=o,this.toasterService=s,this.authService=a,this.commonService=l,this.storageService=c,this.isFilterOpen=!1,this.viewOptions={},this.empid=0,this.managerList=[],this.employeeList=[],this.projectList=[],this.departmentList=[],this.columns=[],this.projectForm=this.fb.group({id:["0"],project_title:["",Ie.required],description:[""],deptid:[null,Ie.required],start_date:["",Ie.required],end_date:["",Ie.required],assigned_manager:[null,Ie.required],client:["",Ie.required],ispublic:[!1],username:this.storageService.getUsername(),employee_list:[[]]}),this.isEditMode=!1,this.isTeamDropdownOpen=!1,this.teamSearch="",this.empid=this.storageService.getEmpId()}ngOnInit(){this.projectForm.get("ispublic")?.valueChanges.subscribe(i=>{const r=this.projectForm.get("deptid"),o=this.projectForm.get("employee_list");i?(r?.disable(),r?.clearValidators(),o?.clearValidators()):(r?.enable(),r?.setValidators(Ie.required),o?.setValidators(Ie.required)),r?.updateValueAndValidity(),o?.updateValueAndValidity()}),this.projectForm.get("employee_list")?.setValidators(Ie.required),this.loadData(),this.loadInitialData()}loadInitialData(){this.getProjects(()=>{this.initTable()})}initTable(i=""){this.columns=[{title:"ID",field:"id",width:80,formatter:g=>`<span class="text-light-gray">PRJ-${g.getValue()}</span>`},{title:"Project Name",field:"project_title",frozen:!0,formatter:function(g){const b=g.getData();return`\n          <div class="task-cell-wrapper">\n              <div class="flex-row">\n                  <div class="icon-box">\n                      <i class="ri-folder-3-line"></i>\n                  </div>\n                  <div class="flex-col">\n                      <span class="text-main text-bold">${b.project_title}</span>\n                      <span class="text-muted">${b.description||"No description"}</span>\n                  </div>\n              </div>\n              <button class="access-btn">\n                  Open <i class="ri-arrow-right-line"></i>\n              </button>\n          </div>\n      `},minWidth:250,widthGrow:2,editor:"input",cellClick:(g,b)=>{if(g.target.closest(".access-btn")){g.stopPropagation();const _=b.getRow().getData();localStorage.setItem("projectDetails",JSON.stringify(_)),this.router.navigate([`/main/projects/projects-content/${_.id}`]),sessionStorage.setItem("activeProjectTab","tasks")}}},{title:"Owner",field:"assigned_manager",formatter:function(g,b){const _=g.getValue();if(!_||Array.isArray(_)&&0===_.length)return"";const w=Array.isArray(_)?_:[_],C=document.createElement("div");C.className="chip-container";const M=["bg-blue","bg-purple","bg-pink","bg-indigo","bg-teal"];return w.forEach(L=>{const N=b.lookup[L]||"Unknown",ce=N?N.charAt(0).toUpperCase():"?",De=M[L%M.length],ze=document.createElement("div");ze.className="flex-row",ze.innerHTML=`\n            <div class="avatar-circle ${De}">${ce}</div>\n            <span class="text-main truncate">${N}</span>\n        `,C.appendChild(ze)}),C},editor:"list",formatterParams:{lookup:this.commonService.formatForTabulatorObj(this.employeeList,"id","employee_name")},editorParams:{values:this.commonService.formatForTabulatorObj(this.employeeList,"id","employee_name"),autocomplete:!0,clearable:!0,listOnEmpty:!0,itemFormatter:function(g,b,_,w){if(!g)return"";let C=0;for(let ce=0;ce<g.length;ce++)C=g.charCodeAt(ce)+((C<<5)-C);const M=["bg-blue","bg-purple","bg-pink","bg-indigo","bg-teal"],L=M[(_.value||0)%M.length],N=g.split(" ").map(ce=>ce[0]).slice(0,2).join("");return w&&(w.title="Click to toggle selection"),`\n      <div class="user">\n          <div class="avatar-circle ${L}">${N}</div>\n          <span class="text-main truncate">${g}</span>\n      </div>\n      `}}},{title:"Start Date",field:"start_date",editor:"date",editorParams:{format:"yyyy-MM-dd"}},{title:"Due Date",field:"end_date",formatter:function(g){const b=g.getValue();if(!b)return"-";const _=luxon.DateTime.now();let w=luxon.DateTime.fromISO(b);if(b.length<=10&&(w=w.set({hour:23,minute:59,second:59})),!w.isValid)return b;let C="",M="";if(w>_){const L=w.diff(_,["days","hours","minutes"]).toObject();if(L.days&&L.days>=1){const N=Math.floor(L.days);C=`${N} ${1===N?"day":"days"} to go`}else if(L.hours&&L.hours>=1){const N=Math.floor(L.hours);C=`${N} ${1===N?"hour":"hours"} left`}else{const N=Math.floor(L.minutes||1);C=`${N} ${1===N?"minute":"minutes"} left`}M="text-green"}else{const L=_.diff(w,["days","hours","minutes"]).toObject();if(L.days&&L.days>=1){const N=Math.floor(L.days);C=`Ended ${N} ${1===N?"day":"days"} ago`}else if(L.hours&&L.hours>=1){const N=Math.floor(L.hours);C=`Ended ${N} ${1===N?"hour":"hours"} ago`}else{const N=Math.floor(L.minutes||1);C=`Ended ${N} ${1===N?"minute":"minutes"} ago`}M="text-red"}return`\n        <div class="flex-col">\n          <span class="text-main">${w.toFormat("MM-dd-yyyy")}</span>\n          <span class="text-muted ${M}">\n            (${C})\n          </span>\n        </div>\n      `},width:140,editor:"date",editorParams:{format:"yyyy-MM-dd"}},{title:"Client",field:"client",minWidth:140,editor:"input",formatter:function(g){return`\n          <div class="client-pill">\n              <i class="ri-building-line" style="color:var(--text-muted)"></i> \n              <span>${g.getValue()}</span>\n          </div>`}},{title:"Status",field:"isclose",formatter:function(g){return g.getValue()?'<span class="status-pill status-cancelled"><i class="ri-close-circle-fill"></i> Closed</span>':'<span class="status-pill status-closed"><i class="ri-checkbox-circle-fill"></i> Open</span>'},hozAlign:"center",editor:"list",editorParams:{values:[{label:"Open",value:!1},{label:"Closed",value:!0}]}},{title:"Tasks",field:"tasks_done",width:180,headerSort:!1,formatter:g=>{const b=g.getData(),_=Number(b.tasks_done??0),w=Number(b.tasks_pending??0),C=_+w,M=0===C?0:Math.round(_/C*1e3)/10;return`\n          <div class="task-progress-container">\n              <span class="task-count left">${_}</span>\n              <div class="task-bar-track">\n                  <div class="task-bar-fill" style="width: ${M}%"></div>\n                  <span class="task-bar-text">${M} %</span>\n              </div>\n              <span class="task-count left">${w}</span>\n          </div>\n      `}},{title:"Description",field:"description",editor:"textarea"},{title:"Created Date",field:"created_date",sorter:"datetime"},{title:"Updated Date",field:"created_date",sorter:"datetime"},{title:"Actions",field:"actions",headerSort:!1,frozen:!0,hozAlign:"center",formatter:()=>'\n            <button \n              style="border:none;background:transparent;cursor:pointer;padding:4px;">\n              <i class="ri-edit-2-line edit" style="font-size:18px;color:#1976d2;"></i>\n            </button>\n        \n            <button \n              style="border:none;background:transparent;cursor:pointer;padding:4px;">\n              <i class="ri-delete-bin-6-line delete" style="font-size:18px;color:#d32f2f;"></i>\n            </button>\n          ',cellClick:(g,b)=>{if(this.storageService.roles.isAdmin||this.storageService.roles.isManager){const _=b.getRow().getData();g.target.classList.contains("edit")&&(console.log("Edit:",_),this.selectedProject=_,this.patchProjectForm(_),this.toggleSideTab()),g.target.classList.contains("delete")&&Xs().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(w=>{w.isConfirmed&&this.authService.deleteProject(this.storageService.getUsername(),_.id).subscribe({next:C=>{this.toasterService.success(C?.message),this.loadInitialData()},error:C=>{this.toasterService.error(C?.error?.message)}})})}}}];const u={data:this.projectList,columns:this.columns,movableColumns:!0,resizableRows:!0,movableRows:!0,pagination:"local",paginationSize:12,editTriggerEvent:this.storageService.roles.isAdmin||this.storageService.roles.isManager?"dblclick":"",paginationSizeSelector:[5,10,12,15,25,35,45,100],columnDefaults:{tooltip:!0},groupBy:i,resizableColumnFit:!0,layout:"fitDataStretch",groupStartOpen:!0,groupHeader:function(g,b,_,w){return`\n              <div class="flex-row">\n                  <i class="ri-stack-line" style="color: var(--primary); font-size: 16px;"></i>\n                  <span class="text-main text-bold">${g||"Unassigned"}</span>\n                  <span class="text-muted" style="font-weight: 400;">(${b} projects)</span>\n              </div>\n          `}};this.table=new Ml(this.el.nativeElement.querySelector(".tabulator-table"),u),this.table.on("cellEdited",g=>{this.selectedProject=g.getRow().getData(),this.updateProject(),("project_title"===g.getField()||"manager_name"===g.getField())&&g.getRow().reformat()})}get isPublic(){return this.projectForm.get("ispublic")?.value}get rf(){return{project_title:this.projectForm.get("project_title"),description:this.projectForm.get("description"),deptid:this.projectForm.get("deptid"),start_date:this.projectForm.get("start_date"),end_date:this.projectForm.get("end_date"),assigned_manager:this.projectForm.get("assigned_manager"),client:this.projectForm.get("client"),ispublic:this.projectForm.get("ispublic"),username:this.projectForm.get("username"),employee_list:this.projectForm.get("employee_list")}}get filteredEmployees(){if(!this.teamSearch)return this.employeeList;const i=this.teamSearch.toLowerCase();return this.employeeList.filter(r=>r?.employee_name?.toLowerCase()?.includes(i))}get selectedEmployeeIds(){return this.projectForm.get("employee_list")?.value||[]}getEmployeeName(i){const r=this.employeeList.find(o=>o.id===i);return r?r.employee_name:"Unknown"}getInitials(i){return i?i.split(" ").map(r=>r[0]).join("").substring(0,2).toUpperCase():"??"}getAvatarColor(i){const r=["#E0E7FF","#FEE2E2","#DCFCE7","#FEF3C7","#F3E8FF"];return r[i%r.length]}isEmployeeSelected(i){return this.selectedEmployeeIds.includes(i)}toggleEmployee(i){if(this.isPublic)return;const r=this.selectedEmployeeIds;r.includes(i)?this.projectForm.patchValue({employee_list:r.filter(o=>o!==i)}):this.projectForm.patchValue({employee_list:[...r,i]}),this.projectForm.get("employee_list")?.markAsDirty()}onSubmit(){console.log(this.projectForm.value),console.log("Project Data:",this.projectForm.value),this.projectForm.valid?this.isEditMode?(this.selectedProject={...this.selectedProject,...this.projectForm.value},this.authService.updateProject(this.selectedProject).subscribe({next:i=>{this.toasterService.success(i?.message),this.getProjects(),this.isEditMode=!1,this.toggleSideTab()},error:i=>{this.toasterService.error(i?.error?.message)}})):this.authService.createProject(this.projectForm.value).subscribe({next:i=>{this.toasterService.success(i?.message),this.getProjects(),this.toggleSideTab()},error:i=>{this.toasterService.error(i?.error?.message)}}):this.projectForm.markAllAsTouched()}onCancel(){this.projectForm.reset({username:this.storageService.getUsername()})}loadData(){this.getAllDepartments(),this.getManagers(),this.getEmployees(),this.getProjects()}getManagers(){this.authService.getManagerList().subscribe({next:i=>this.managerList=i})}getEmployees(){this.authService.getEmployeeList().subscribe({next:i=>this.employeeList=i})}getProjects(i){this.authService.getAllProjectsByEmployeeId(this.empid).subscribe({next:r=>{this.projectList=r,this.viewOptions=this.commonService.getFieldLabels(this.projectList),this.table?.replaceData(this.projectList),i&&i()}})}getAllDepartments(){this.authService.getAllDepartments().subscribe({next:i=>this.departmentList=i})}onViewSelected(i){this.initTable(i.id)}updateProject(){this.selectedProject.username=this.storageService.getUsername(),this.authService.updateProject(this.selectedProject).subscribe({next:i=>{this.toasterService.success(i?.message),this.getProjects(),this.isEditMode=!1},error:i=>{this.toasterService.error(i?.error?.message)}})}patchProjectForm(i){this.isEditMode=!0,this.projectForm.patchValue({id:i.id,project_title:i.project_title,description:i.description,deptid:i.deptid,start_date:i.start_date,end_date:i.end_date,assigned_manager:i.assigned_manager,client:i.client,ispublic:i.ispublic,username:this.storageService.getUsername(),employee_list:i.employee_list})}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(It),O(Jt),O(rs),O(xo),O(Cn),O(ta),O(Xi))},t.\u0275cmp=Qe({type:t,selectors:[["app-projects"]],viewQuery:function(r,o){if(1&r&&Xn(wo,5),2&r){let s;ln(s=cn())&&(o.viewSelector=s.first)}},decls:130,vars:34,consts:[[1,"card"],[2,"margin-bottom","15px"],[3,"btntext","viewOptions","toggleSideTab","selectionChange"],[2,"margin-bottom","15px","margin-top","10px","font-size","15px","border-top","1px solid var(--border)","padding-top","10px"],[1,"theme-grid"],[1,"tabulator-table"],["class","filter-backdrop",3,"click",4,"ngIf"],[1,"filter-drawer"],[1,"drawer-header"],[1,"header-content"],[1,"icon-btn","close-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"drawer-content"],[1,"page-container"],[1,"main-form",3,"formGroup"],[1,"form-section"],[1,"section-title"],[1,"fields-grid"],[1,"form-group","full-width-desktop"],[1,"required"],["type","text","formControlName","project_title","placeholder","e.g. R-SPACE3 Employee Management"],["class","error-msg",4,"ngIf"],[1,"form-group"],["type","text","formControlName","client","placeholder","e.g. Ridsys"],["type","date","formControlName","start_date"],["type","date","formControlName","end_date"],[1,"select-wrapper"],["formControlName","assigned_manager"],["disabled","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["viewBox","0 0 24 24",1,"select-arrow"],["d","M7 10l5 5 5-5z","fill","currentColor"],[1,"toggles-row"],[1,"toggle-group"],[1,"switch"],["type","checkbox","formControlName","ispublic"],[1,"slider","round"],[1,"toggle-label"],[1,"divider"],[1,"fields-grid","three-col"],["class","required",4,"ngIf"],["formControlName","deptid"],[1,"form-group","full-width-mobile"],["class","dropdown-backdrop",3,"click",4,"ngIf"],[1,"multi-select-container"],[1,"multi-select-trigger",3,"click"],["class","chips-container",4,"ngIf","ngIfElse"],["placeholder",""],[1,"trigger-actions"],["class","count-badge",4,"ngIf"],["class","multi-select-dropdown",4,"ngIf"],["formControlName","description","rows","4","placeholder","Describe the project goals..."],["type","email","formControlName","username","readonly","",1,"readonly-input"],[1,"drawer-footer"],[1,"header-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"filter-backdrop",3,"click"],[1,"error-msg"],[3,"value"],[1,"dropdown-backdrop",3,"click"],[1,"chips-container"],["class","chip",3,"click",4,"ngFor","ngForOf"],[1,"chip",3,"click"],[1,"chip-avatar"],[1,"chip-remove",3,"click"],[1,"placeholder-text"],[1,"count-badge"],[1,"multi-select-dropdown"],[1,"dropdown-search"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"search-icon"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["type","text","placeholder","Search people...",3,"ngModel","ngModelOptions","ngModelChange","click"],[1,"options-list"],["class","option-item",3,"selected","click",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],[1,"option-item",3,"click"],[1,"option-avatar"],[1,"option-info"],[1,"option-name"],[1,"option-role"],[1,"checkbox-custom"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","4",4,"ngIf"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","4"],["points","20 6 9 17 4 12"],[1,"no-results"]],template:function(r,o){if(1&r&&(f(0,"div",0)(1,"h2",1),v(2,"Project management"),p(),f(3,"app-table-filter",2),ee("toggleSideTab",function(a){return o.toggleSideTab(a)})("selectionChange",function(a){return o.onViewSelected(a)}),p(),f(4,"div",3)(5,"div",4),I(6,"div",5),p()()(),U(7,H$,1,0,"div",6),f(8,"div",7)(9,"div",8)(10,"div",9)(11,"h1"),v(12),p(),f(13,"p"),v(14),p()(),f(15,"button",10),ee("click",function(){return o.toggleSideTab()}),ke(),f(16,"svg",11),I(17,"line",12)(18,"line",13),p()()(),Re(),f(19,"div",14)(20,"div",15)(21,"form",16)(22,"section",17)(23,"h2",18),v(24,"Project Details"),p(),f(25,"div",19)(26,"div",20)(27,"label"),v(28,"Project Title "),f(29,"span",21),v(30,"*"),p()(),I(31,"input",22),U(32,j$,2,0,"div",23),p(),f(33,"div",24)(34,"label"),v(35,"Client Name "),f(36,"span",21),v(37,"*"),p()(),I(38,"input",25),U(39,U$,2,0,"div",23),p(),f(40,"div",24)(41,"label"),v(42,"Start Date "),f(43,"span",21),v(44,"*"),p()(),I(45,"input",26),U(46,$$,2,0,"div",23),p(),f(47,"div",24)(48,"label"),v(49,"End Date "),f(50,"span",21),v(51,"*"),p()(),I(52,"input",27),U(53,W$,2,0,"div",23),p(),f(54,"div",24)(55,"label"),v(56,"Project Owner "),f(57,"span",21),v(58,"*"),p()(),f(59,"div",28)(60,"select",29)(61,"option",30),v(62,"Select Owner"),p(),U(63,G$,2,2,"option",31),p(),ke(),f(64,"svg",32),I(65,"path",33),p()(),U(66,q$,2,0,"div",23),p()()(),Re(),f(67,"div",34)(68,"div",35)(69,"label",36),I(70,"input",37)(71,"span",38),p(),f(72,"div",39)(73,"span"),v(74,"Public Project"),p(),f(75,"small"),v(76,"Visible to all employees in the organization"),p()()()(),I(77,"hr",40),f(78,"section",17)(79,"h2",18),v(80,"Resource Assignment"),p(),f(81,"div",41)(82,"div",24)(83,"label"),v(84,"Department "),U(85,Y$,2,0,"span",42),p(),f(86,"div",28)(87,"select",43)(88,"option",30),v(89,"Select Department"),p(),U(90,K$,2,2,"option",31),p(),ke(),f(91,"svg",32),I(92,"path",33),p()(),U(93,X$,2,0,"div",23),p(),Re(),f(94,"div",44)(95,"label"),v(96,"Team Members "),U(97,Z$,2,0,"span",42),p(),U(98,Q$,1,0,"div",45),f(99,"div",46)(100,"div",47),ee("click",function(){return!o.isPublic&&(o.isTeamDropdownOpen=!o.isTeamDropdownOpen)}),U(101,eW,2,1,"div",48),U(102,tW,2,1,"ng-template",null,49,Eg),f(104,"div",50),U(105,iW,2,1,"span",51),ke(),f(106,"svg",32),I(107,"path",33),p()()(),U(108,aW,9,5,"div",52),p(),U(109,lW,2,0,"div",23),p()()(),Re(),I(110,"hr",40),f(111,"section",17)(112,"h2",18),v(113,"Additional Details"),p(),f(114,"div",19)(115,"div",20)(116,"label"),v(117,"Description"),p(),I(118,"textarea",53),p()(),I(119,"br"),f(120,"div",24)(121,"label"),v(122,"Created By (Username)"),p(),I(123,"input",54),p()()()(),f(124,"div",55)(125,"div",56)(126,"button",57),ee("click",function(){return o.onCancel()}),v(127,"Cancel"),p(),f(128,"button",58),ee("click",function(){return o.onSubmit()}),v(129,"Save Project"),p()()()()()),2&r){const s=Xm(103);x(3),D("btntext","project")("viewOptions",o.viewOptions),x(4),D("ngIf",o.isFilterOpen),x(1),Fe("open",o.isFilterOpen),x(4),Ae(o.isEditMode?"Update Project":"Create New Project"),x(2),Ae(o.isEditMode?"Modify project details and assignments":"Define scope, timeline, and team for a new project"),x(7),D("formGroup",o.projectForm),x(11),D("ngIf",(null==o.rf.project_title?null:o.rf.project_title.invalid)&&((null==o.rf.project_title?null:o.rf.project_title.dirty)||(null==o.rf.project_title?null:o.rf.project_title.touched))),x(7),D("ngIf",(null==o.rf.client?null:o.rf.client.invalid)&&((null==o.rf.client?null:o.rf.client.dirty)||(null==o.rf.client?null:o.rf.client.touched))),x(7),D("ngIf",(null==o.rf.start_date?null:o.rf.start_date.invalid)&&((null==o.rf.start_date?null:o.rf.start_date.dirty)||(null==o.rf.start_date?null:o.rf.start_date.touched))),x(7),D("ngIf",(null==o.rf.end_date?null:o.rf.end_date.invalid)&&((null==o.rf.end_date?null:o.rf.end_date.dirty)||(null==o.rf.end_date?null:o.rf.end_date.touched))),x(8),D("ngValue",null),x(2),D("ngForOf",o.employeeList),x(3),D("ngIf",(null==o.rf.assigned_manager?null:o.rf.assigned_manager.invalid)&&((null==o.rf.assigned_manager?null:o.rf.assigned_manager.dirty)||(null==o.rf.assigned_manager?null:o.rf.assigned_manager.touched))),x(12),Fe("section-disabled",o.isPublic),x(7),D("ngIf",!o.isPublic),x(3),D("ngValue",null),x(2),D("ngForOf",o.departmentList),x(3),D("ngIf",(null==o.rf.deptid?null:o.rf.deptid.invalid)&&((null==o.rf.deptid?null:o.rf.deptid.dirty)||(null==o.rf.deptid?null:o.rf.deptid.touched))),x(4),D("ngIf",!o.isPublic),x(1),D("ngIf",o.isTeamDropdownOpen),x(1),Fe("open",o.isTeamDropdownOpen)("disabled-input",o.isPublic),x(1),Fe("has-error",(null==o.rf.employee_list?null:o.rf.employee_list.invalid)&&((null==o.rf.employee_list?null:o.rf.employee_list.dirty)||(null==o.rf.employee_list?null:o.rf.employee_list.touched))),x(1),D("ngIf",o.selectedEmployeeIds.length>0)("ngIfElse",s),x(4),D("ngIf",o.selectedEmployeeIds.length>0),x(3),D("ngIf",o.isTeamDropdownOpen),x(1),D("ngIf",(null==o.rf.employee_list?null:o.rf.employee_list.invalid)&&((null==o.rf.employee_list?null:o.rf.employee_list.dirty)||(null==o.rf.employee_list?null:o.rf.employee_list.touched)))}},dependencies:[Hi,ki,vo,is,ns,Bn,hd,yo,yr,bo,xr,_o,Js,wo],styles:['.page-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;width:100%;box-sizing:border-box;padding-bottom:20px}.drawer-footer[_ngcontent-%COMP%]{flex-shrink:0;background:var(--surface);border-top:1px solid var(--border);padding:16px 24px;display:flex;justify-content:flex-end;align-items:center;z-index:10;box-shadow:0 -4px 10px #00000008}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.form-header[_ngcontent-%COMP%]{margin-bottom:32px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0 0 6px;color:var(--text-main)}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);font-size:14px}@media (min-width: 640px){.btn[_ngcontent-%COMP%]{flex:0 0 auto;min-width:120px}}.main-form[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow-sm)}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0 0 24px;color:var(--primary);display:flex;align-items:center;padding-bottom:8px;border-bottom:1px solid transparent}.divider[_ngcontent-%COMP%]{border:0;height:1px;background:var(--border);margin:32px 0}.fields-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;align-items:start}.three-col[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.full-width-desktop[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:0;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-main)}.required[_ngcontent-%COMP%]{color:var(--error-color)}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px 14px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg-body);color:var(--text-main);font-size:14px;width:100%;box-sizing:border-box;transition:border-color .2s,box-shadow .2s;font-family:inherit;min-height:44px}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:var(--surface);box-shadow:0 0 0 3px #2563eb1a}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, .disabled-input[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#9ca3af;cursor:not-allowed;opacity:.7}.readonly-input[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#6b7280;cursor:not-allowed}.select-wrapper[_ngcontent-%COMP%]{position:relative}select[_ngcontent-%COMP%]{appearance:none;padding-right:36px}.select-arrow[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:14px;height:14px;color:var(--text-muted);pointer-events:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.error-msg[_ngcontent-%COMP%]{font-size:.75rem;color:var(--error-color);margin-top:-2px;font-weight:300}input.ng-invalid.ng-touched[_ngcontent-%COMP%], select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:var(--error-color)}.multi-select-container[_ngcontent-%COMP%]{position:relative}.multi-select-trigger[_ngcontent-%COMP%]{min-height:44px;padding:6px 40px 6px 8px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg-body);cursor:pointer;display:flex;flex-wrap:wrap;gap:6px;align-items:center;transition:all .2s}.multi-select-trigger.has-error[_ngcontent-%COMP%]{border-color:var(--error-color)}.multi-select-container.disabled-input[_ngcontent-%COMP%]   .multi-select-trigger[_ngcontent-%COMP%]{background-color:#f3f4f6;cursor:not-allowed;opacity:.7;pointer-events:none}.multi-select-container.open[_ngcontent-%COMP%]   .multi-select-trigger[_ngcontent-%COMP%]{border-color:var(--primary);background:var(--surface);box-shadow:0 0 0 3px #2563eb1a}.trigger-actions[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:6px}.count-badge[_ngcontent-%COMP%]{background:var(--primary-light);color:var(--primary);font-size:10px;font-weight:700;padding:2px 6px;border-radius:99px}.placeholder-text[_ngcontent-%COMP%]{color:var(--text-muted);padding-left:6px;font-size:14px}.chips-container[_ngcontent-%COMP%]{display:contents}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:var(--surface);color:var(--text-main);border:1px solid var(--border);font-size:13px;font-weight:500;padding:4px 8px 4px 4px;border-radius:99px;box-shadow:0 1px 2px #0000000d;transition:background .1s}.chip-avatar[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:700}.chip-remove[_ngcontent-%COMP%]{cursor:pointer;color:var(--text-muted);font-size:16px;width:16px;height:16px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.chip-remove[_ngcontent-%COMP%]:hover{color:var(--error-color);background:#FEF2F2}.dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:99;cursor:default}.multi-select-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;max-height:300px;overflow:hidden;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-top:6px;box-shadow:var(--shadow-lg);z-index:100;display:flex;flex-direction:column}.dropdown-search[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid var(--border);position:relative}.dropdown-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:32px;height:36px;border-color:transparent;background:var(--bg-body)}.dropdown-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary);background:var(--surface)}.dropdown-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);width:16px;color:var(--text-muted);pointer-events:none}.options-list[_ngcontent-%COMP%]{overflow-y:auto;flex:1;padding:4px 0}.option-item[_ngcontent-%COMP%]{padding:8px 12px;display:flex;align-items:center;gap:12px;cursor:pointer;transition:background .1s}.option-item[_ngcontent-%COMP%]:hover{background:var(--bg-body)}.option-item.selected[_ngcontent-%COMP%]{background:var(--primary-light)}.option-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#E0E7FF;color:var(--primary);display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;flex-shrink:0}.option-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;line-height:1.3}.option-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-main)}.option-role[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted)}.checkbox-custom[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:6px;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;color:#fff;transition:all .2s}.option-item.selected[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]{background:var(--primary);border-color:var(--primary)}.checkbox-custom[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.no-results[_ngcontent-%COMP%]{padding:16px;text-align:center;color:var(--text-muted);font-size:13px}.toggles-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:30px;margin-top:24px}.toggle-group[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;flex:1;min-width:250px}.toggle-label[_ngcontent-%COMP%]{display:flex;flex-direction:column}.toggle-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-main)}.toggle-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted);line-height:1.4}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px;flex-shrink:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--border);transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--primary)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}@media (max-width: 768px){.page-container[_ngcontent-%COMP%], .main-form[_ngcontent-%COMP%]{padding:16px}.fields-grid[_ngcontent-%COMP%], .three-col[_ngcontent-%COMP%]{gap:16px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.header-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;width:100%}.btn[_ngcontent-%COMP%]{width:100%}}.icon-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:transparent;border:none;border-radius:var(--radius);color:var(--text-muted);cursor:pointer;transition:all .2s}']}),n})();function dW(n,t){if(1&n){const e=Tt();f(0,"div",9),ee("click",function(){const o=$e(e).$implicit;return We(ue(2).selectTheme(o.id))}),I(1,"div",10),f(2,"span",11),v(3),p(),I(4,"i",12),p()}if(2&n){const e=t.$implicit,i=ue().ngIf;Fe("selected",e.id===i),x(1),Di("data-theme-id",e.id),x(2),Ae(e.name)}}function uW(n,t){if(1&n&&(Ir(0),U(1,dW,5,4,"div",8),Lr()),2&n){const e=ue();x(1),D("ngForOf",e.availableThemes)}}let hW=(()=>{const t=class{constructor(i,r){this.layoutService=i,this.authService=r,this.availableThemes=[{id:"original",name:"Original Blue"},{id:"forest",name:"Forest Green"},{id:"teal",name:"Muted Teal"},{id:"mono",name:"Monochromatic"},{id:"earthy",name:"Warm Earthy"}],this.currentThemeId$=this.layoutService.currentTheme$,this.isDarkMode$=this.layoutService.isDarkMode$}ngOnInit(){this.layoutService.setCurrentPageTitle("Themes Settings")}selectTheme(i){this.layoutService.setTheme(i)}toggleDarkMode(){this.layoutService.toggleTheme()}logOut(){Xs().fire({title:"Are you sure?",text:"Do you want to log out ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, log out!"}).then(i=>{i.isConfirmed&&this.authService.logout()})}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(Ks),O(Cn))},t.\u0275cmp=Qe({type:t,selectors:[["app-settings"]],decls:14,vars:3,consts:[[1,"card"],[2,"color","var(--text-muted)","margin-bottom","20px"],[2,"padding","15px","border","1px solid var(--border)","border-radius","8px"],[2,"display","flex","justify-content","space-between","align-items","center","margin-bottom","25px"],[2,"font-weight","600"],[2,"margin-bottom","15px","font-size","15px","border-top","1px solid var(--border)","padding-top","15px"],[1,"theme-grid"],[4,"ngIf"],["class","theme-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"theme-option",3,"click"],[1,"color-preview"],[2,"font-size","13px"],[1,"ri-check-circle-fill","check-icon"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"h2"),v(2,"Theme Settings"),p(),f(3,"p",1),v(4,"Personalize the look and feel of the application."),p(),f(5,"div",2)(6,"div",3)(7,"label",4),v(8,"Dark Mode"),p()(),f(9,"h3",5),v(10,"Choose Color Palette"),p(),f(11,"div",6),U(12,uW,2,1,"ng-container",7),mr(13,"async"),p()()()),2&r&&(x(12),D("ngIf",Ns(13,1,o.currentThemeId$)))},dependencies:[Hi,ki,ul],styles:["[_nghost-%COMP%]{display:block}.theme-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:15px}.theme-option[_ngcontent-%COMP%]{border:2px solid var(--border);border-radius:10px;padding:10px;display:flex;flex-direction:column;align-items:center;cursor:pointer;transition:all .2s ease;position:relative;box-shadow:var(--shadow-sm);background:var(--surface)}.theme-option[_ngcontent-%COMP%]:hover{border-color:var(--primary)}.theme-option.selected[_ngcontent-%COMP%]{border-color:var(--primary);box-shadow:0 0 0 3px var(--primary-bg)}.theme-option.selected[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{display:block;color:var(--primary)}.color-preview[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-bottom:8px;border:3px solid var(--border);background:var(--primary)}.check-icon[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:24px;background:var(--surface);border-radius:50%;display:none;box-shadow:var(--shadow-sm)}.color-preview[data-theme-id=original][_ngcontent-%COMP%]{background:#2563EB}.color-preview[data-theme-id=forest][_ngcontent-%COMP%]{background:#059669}.color-preview[data-theme-id=teal][_ngcontent-%COMP%]{background:#14B8A6}.color-preview[data-theme-id=mono][_ngcontent-%COMP%]{background:#292a2c}.color-preview[data-theme-id=earthy][_ngcontent-%COMP%]{background:#FF7043}.color-preview[data-theme-id=indigo][_ngcontent-%COMP%]{background:#5C6BC0}"]}),n})();function fW(n,t){1&n&&(f(0,"small"),v(1,"Email is required."),p())}function pW(n,t){1&n&&(f(0,"small"),v(1,"Invalid email format."),p())}function mW(n,t){if(1&n&&(f(0,"div",44),U(1,fW,2,0,"small",45),U(2,pW,2,0,"small",45),p()),2&n){const e=ue(2);x(1),D("ngIf",null==e.lf.email||null==e.lf.email.errors?null:e.lf.email.errors.required),x(1),D("ngIf",null==e.lf.email||null==e.lf.email.errors?null:e.lf.email.errors.email)}}function gW(n,t){1&n&&(f(0,"div",44)(1,"small"),v(2,"Password is required."),p()())}function bW(n,t){if(1&n){const e=Tt();f(0,"div",25)(1,"div",26)(2,"div",27)(3,"div")(4,"h1"),v(5,"Sign In to Account"),p(),f(6,"p"),v(7,"Access all features with one click."),p()()(),f(8,"span",28),ee("click",function(){return $e(e),We(ue().switchView("register"))}),v(9,"No account?"),p()(),f(10,"form",29),ee("ngSubmit",function(){return $e(e),We(ue().onSubmit("Login"))}),f(11,"div",30)(12,"div",31)(13,"label",32),v(14,"Email"),p(),f(15,"div",33),I(16,"input",34)(17,"i",35),p(),U(18,mW,3,2,"div",36),p()(),f(19,"div",30)(20,"div",31)(21,"label",32),v(22,"Password"),p(),f(23,"div",33),I(24,"input",37),f(25,"i",38),ee("click",function(){return $e(e),We(ue().togglePassword())}),p()(),U(26,gW,3,0,"div",36),p()(),f(27,"div",39)(28,"label",40),I(29,"input",41),v(30," Remember me "),p(),f(31,"span",42),ee("click",function(){return $e(e),We(ue().switchView("forgot"))}),v(32,"Forgot password?"),p()(),f(33,"button",43),v(34,"Sign In"),p()()()}if(2&n){const e=ue();x(10),D("formGroup",e.loginForm),x(8),D("ngIf",(null==e.lf.email?null:e.lf.email.touched)&&(null==e.lf.email?null:e.lf.email.invalid)),x(6),D("type",e.showPassword?"text":"password"),x(1),Fe("ri-eye-line",!e.showPassword)("ri-eye-off-line",e.showPassword),x(1),D("ngIf",(null==e.lf.password?null:e.lf.password.touched)&&(null==e.lf.password?null:e.lf.password.invalid))}}function vW(n,t){1&n&&(f(0,"div",44)(1,"small"),v(2,"Full name is required."),p()())}function _W(n,t){1&n&&(f(0,"small"),v(1,"Email is required."),p())}function yW(n,t){1&n&&(f(0,"small"),v(1,"Invalid email format."),p())}function xW(n,t){if(1&n&&(f(0,"div",44),U(1,_W,2,0,"small",45),U(2,yW,2,0,"small",45),p()),2&n){const e=ue(2);x(1),D("ngIf",null==e.rf.email||null==e.rf.email.errors?null:e.rf.email.errors.required),x(1),D("ngIf",null==e.rf.email||null==e.rf.email.errors?null:e.rf.email.errors.email)}}function wW(n,t){1&n&&(f(0,"small"),v(1,"Password required."),p())}function CW(n,t){1&n&&(f(0,"small"),v(1," Minimum 6 characters. "),p())}function EW(n,t){if(1&n&&(f(0,"div",44),U(1,wW,2,0,"small",45),U(2,CW,2,0,"small",45),p()),2&n){const e=ue(2);x(1),D("ngIf",null==e.rf.password||null==e.rf.password.errors?null:e.rf.password.errors.required),x(1),D("ngIf",null==e.rf.password||null==e.rf.password.errors?null:e.rf.password.errors.minlength)}}function MW(n,t){if(1&n){const e=Tt();f(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",46),I(4,"i",9),p(),f(5,"div")(6,"h1"),v(7,"Create Account"),p(),f(8,"p"),v(9,"Join us and explore features."),p()()(),f(10,"span",28),ee("click",function(){return $e(e),We(ue().switchView("login"))}),v(11,"Have an account?"),p()(),f(12,"form",29),ee("ngSubmit",function(){return $e(e),We(ue().onSubmit("Registration"))}),f(13,"div",30)(14,"div",31)(15,"label",32),v(16,"Full Name"),p(),f(17,"div",33),I(18,"input",47)(19,"i",48),p(),U(20,vW,3,0,"div",36),p()(),f(21,"div",30)(22,"div",31)(23,"label",32),v(24,"Email"),p(),f(25,"div",33),I(26,"input",49)(27,"i",35),p(),U(28,xW,3,2,"div",36),p()(),f(29,"div",30)(30,"div",31)(31,"label",32),v(32,"Password"),p(),f(33,"div",33),I(34,"input",50),f(35,"i",38),ee("click",function(){return $e(e),We(ue().toggleRegPassword())}),p()(),U(36,EW,3,2,"div",36),p()(),f(37,"button",43),v(38,"Register"),p()()()}if(2&n){const e=ue();x(12),D("formGroup",e.registerForm),x(8),D("ngIf",(null==e.rf.fullName?null:e.rf.fullName.touched)&&(null==e.rf.fullName?null:e.rf.fullName.invalid)),x(8),D("ngIf",(null==e.rf.email?null:e.rf.email.touched)&&(null==e.rf.email?null:e.rf.email.invalid)),x(6),D("type",e.showRegPassword?"text":"password"),x(1),Fe("ri-eye-line",!e.showRegPassword)("ri-eye-off-line",e.showRegPassword),x(1),D("ngIf",(null==e.rf.password?null:e.rf.password.touched)&&(null==e.rf.password?null:e.rf.password.invalid))}}function DW(n,t){1&n&&(f(0,"small"),v(1,"Email is required."),p())}function SW(n,t){1&n&&(f(0,"small"),v(1,"Invalid email."),p())}function TW(n,t){if(1&n&&(f(0,"div",44),U(1,DW,2,0,"small",45),U(2,SW,2,0,"small",45),p()),2&n){const e=ue(2);x(1),D("ngIf",null==e.ff.email||null==e.ff.email.errors?null:e.ff.email.errors.required),x(1),D("ngIf",null==e.ff.email||null==e.ff.email.errors?null:e.ff.email.errors.email)}}function kW(n,t){if(1&n){const e=Tt();f(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",46),I(4,"i",10),p(),f(5,"div")(6,"h1"),v(7,"Reset Password"),p(),f(8,"p"),v(9,"We'll send a link to reset it."),p()()(),f(10,"span",28),ee("click",function(){return $e(e),We(ue().switchView("login"))}),v(11,"Know password?"),p()(),f(12,"form",29),ee("ngSubmit",function(){return $e(e),We(ue().onSubmit("Reset"))}),f(13,"div",30)(14,"div",31)(15,"label",32),v(16,"Email"),p(),f(17,"div",33),I(18,"input",49)(19,"i",35),p(),U(20,TW,3,2,"div",36),p()(),f(21,"button",43),v(22,"Send Instructions"),p(),f(23,"div",51)(24,"span",52),ee("click",function(){return $e(e),We(ue().switchView("login"))}),I(25,"i",53),v(26," Back to Login "),p()()()()}if(2&n){const e=ue();x(12),D("formGroup",e.forgotForm),x(8),D("ngIf",(null==e.ff.email?null:e.ff.email.touched)&&(null==e.ff.email?null:e.ff.email.invalid))}}let zS=(()=>{const t=class{constructor(i,r,o,s,a,l){this.layoutService=i,this.router=r,this.fb=o,this.storageService=s,this.authService=a,this.toaster=l,this.VERSION=vf.CURRENT_VERSION(),this.RELEASE=vf.RELEASE_DATE(),this.today=new Date,this.currentView="login",this.isDarkMode=!1,this.showPassword=!1,this.showRegPassword=!1}ngOnInit(){this.initForms(),this.autoFillRemembered()}initForms(){this.loginForm=this.fb.group({email:["",[Ie.required,Ie.email]],password:["",Ie.required],rememberme:[""]}),this.registerForm=this.fb.group({fullName:["",Ie.required],email:["",[Ie.required,Ie.email]],password:["",[Ie.required,Ie.minLength(6)]]}),this.forgotForm=this.fb.group({email:["",[Ie.required,Ie.email]]})}switchView(i){this.currentView=i}toggleDarkMode(){this.layoutService.toggleTheme(),this.isDarkMode=!this.isDarkMode}togglePassword(){this.showPassword=!this.showPassword}toggleRegPassword(){this.showRegPassword=!this.showRegPassword}onSubmit(i){if(console.log(this.loginForm.value),"Login"===i&&this.loginForm.invalid)this.loginForm.markAllAsTouched();else if("Registration"===i&&this.registerForm.invalid)this.registerForm.markAllAsTouched();else if("Reset"===i&&this.forgotForm.invalid)this.forgotForm.markAllAsTouched();else if("Login"!==i)"Registration"!==i?"Reset"!==i||console.log("Password reset submitted"):console.log("Registration submitted");else{const r=this.loginForm.value,o={username:this.loginForm.get("email")?.value,password:this.loginForm.get("password")?.value};this.authService.signin(o).subscribe({next:s=>{this.storageService.setToken(s.accessToken),this.storageService.setUser(s),this.storageService.setUsername(o.username),this.loginForm.value.rememberme?(this.storageService.rememberMe(!0),this.storageService.setRememberUsername(r.email),this.storageService.setRememberPassword(r.password)):this.storageService.clearRememberMe(),this.toaster.success("You have logged in successfully","Success!"),this.router.navigate(["/main/dashboard"])},error:s=>{console.error(s),this.toaster.error(401==s.status?"Invalid credentials. Please try again.":"Something went wrong. Please try again.","Login Failed!")}})}}get lf(){return{email:this.loginForm.get("email"),password:this.loginForm.get("password")}}get rf(){return{fullName:this.registerForm.get("fullName"),email:this.registerForm.get("email"),password:this.registerForm.get("password")}}get ff(){return{email:this.forgotForm.get("email")}}autoFillRemembered(){if(this.storageService.isRememberMe()){const i=this.storageService.getRememberUsername(),r=this.storageService.getRememberPassword();this.loginForm.patchValue({email:i,password:r,rememberme:!0})}}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(Ks),O(Jt),O(rs),O(Xi),O(Cn),O(xo))},t.\u0275cmp=Qe({type:t,selectors:[["app-login"]],decls:51,vars:15,consts:[[1,"login-section-body"],[1,"navbar"],[1,"nav-brand"],[1,"nav-icon-bg"],[1,"ri-shield-keyhole-fill"],[2,"font-size","0.75rem","color","var(--text-muted)","font-weight","400"],[1,"nav-menu"],[1,"nav-item",3,"click"],[1,"ri-login-box-line"],[1,"ri-user-add-line"],[1,"ri-key-2-line"],[1,"main-container"],[1,"auth-card"],[1,"info-panel"],[1,"form-title",2,"position","relative","top","-4em"],[1,"info-header"],[1,"ri-building-2-line"],[1,"feature-list"],[1,"feature-item"],[1,"ri-shield-check-line"],[1,"ri-fingerprint-line"],[1,"ri-flashlight-fill"],[1,"form-panel"],["class","view-section",4,"ngIf"],[1,"footer"],[1,"view-section"],[1,"form-header"],[1,"form-title"],[1,"action-badge",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group"],[2,"position","relative"],[1,"label"],[1,"input-wrapper"],["type","email","formControlName","email","placeholder","you@ridsys.in",1,"form-input"],[1,"ri-mail-line","input-icon"],["class","error",4,"ngIf"],["formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022",1,"form-input",3,"type"],[1,"input-icon",3,"click"],[1,"form-actions"],[1,"checkbox-label"],["type","checkbox","formControlName","rememberme"],[1,"forgot-link",3,"click"],["type","submit",1,"btn-primary"],[1,"error"],[4,"ngIf"],[1,"header-icon"],["type","text","placeholder","John Doe","formControlName","fullName",1,"form-input"],[1,"ri-user-line","input-icon"],["type","email","placeholder","you@ridsys.in","formControlName","email",1,"form-input"],["formControlName","password","placeholder","Min. 6 characters",1,"form-input",3,"type"],[1,"back-link-container"],[1,"back-link",3,"click"],[1,"ri-arrow-left-line"]],template:function(r,o){1&r&&(f(0,"section",0)(1,"nav",1)(2,"div",2)(3,"div",3),I(4,"i",4),p(),f(5,"div")(6,"div",5),v(7,"Secure Access"),p(),v(8," RIDSYS Portal "),p()(),f(9,"div",6)(10,"div",7),ee("click",function(){return o.switchView("login")}),I(11,"i",8),f(12,"span"),v(13,"Login"),p()(),f(14,"div",7),ee("click",function(){return o.switchView("register")}),I(15,"i",9),f(16,"span"),v(17,"Register"),p()(),f(18,"div",7),ee("click",function(){return o.switchView("forgot")}),I(19,"i",10),f(20,"span"),v(21,"Forgot Password"),p()()()(),f(22,"div",11)(23,"div",12)(24,"div",13)(25,"div",14)(26,"h2"),v(27,"R-SPACE"),p()(),f(28,"div",15)(29,"h2"),I(30,"i",16),v(31," Daily Status Report (DSR)"),p(),f(32,"p"),v(33," Empowering your daily operations with seamless DSR management and digital excellence. "),p()(),f(34,"ul",17)(35,"li",18),I(36,"i",19),v(37," Keep your daily task updates clear and accurate. "),p(),f(38,"li",18),I(39,"i",20),v(40," Submit your DSR on time to maintain workflow transparency. "),p(),f(41,"li",18),I(42,"i",21),v(43," Review your previous entries to track progress and plan effectively. "),p()()(),f(44,"div",22),U(45,bW,35,8,"div",23),U(46,MW,39,9,"div",23),U(47,kW,27,2,"div",23),p()()(),f(48,"footer",24),v(49),mr(50,"date"),p()()),2&r&&(x(10),Fe("active","login"===o.currentView),x(4),Fe("active","register"===o.currentView),x(4),Fe("active","forgot"===o.currentView),x(27),D("ngIf","login"===o.currentView),x(1),D("ngIf","register"===o.currentView),x(1),D("ngIf","forgot"===o.currentView),x(2),rg(" \xa9 ",Oc(50,12,o.today,"yyyy")," \u2022 Powered by RiDSYS Corp. ",o.VERSION," \u2022 ",o.RELEASE," "))},dependencies:[ki,vo,Bn,hd,yr,bo,xr,_o,yh],styles:['.login-section-body[_ngcontent-%COMP%]{font-family:Inter,sans-serif;background-color:var(--bg-body);color:var(--text-main);min-height:100vh;display:flex;flex-direction:column;transition:background-color .3s ease,color .3s ease;margin:0}.login-section-body[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{background:var(--surface);padding:16px 40px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border);transition:background-color .3s ease,border-color .3s ease}.login-section-body[_ngcontent-%COMP%]   .nav-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-weight:700;font-size:1.1rem;color:var(--text-main)}.login-section-body[_ngcontent-%COMP%]   .nav-icon-bg[_ngcontent-%COMP%]{width:36px;height:36px;background:color-mix(in srgb,var(--primary),transparent 90%);color:var(--primary);border-radius:50%;display:flex;align-items:center;justify-content:center}.login-section-body[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.login-section-body[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-muted);font-size:.9rem;font-weight:500;padding:8px 16px;border-radius:20px;transition:all .2s;display:flex;align-items:center;gap:6px;cursor:pointer;-webkit-user-select:none;user-select:none}.login-section-body[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{color:var(--text-main)}.login-section-body[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:var(--bg-body);color:var(--primary);font-weight:600}.login-section-body[_ngcontent-%COMP%]   .theme-toggle[_ngcontent-%COMP%]{margin-left:16px;cursor:pointer;color:var(--text-muted);font-size:1.1rem;transition:color .2s}.login-section-body[_ngcontent-%COMP%]   .theme-toggle[_ngcontent-%COMP%]:hover{color:var(--primary)}.login-section-body[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:40px 20px;margin-bottom:3em}.login-section-body[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]{display:flex;width:100%;max-width:900px;background:transparent;gap:24px}.login-section-body[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]{flex:1;background:var(--primary);color:var(--primary-bg);padding:40px;border-radius:var(--radius);box-shadow:var(--shadow-lg);display:flex;flex-direction:column;justify-content:center;position:relative;overflow:hidden;transition:background-color .3s ease}.login-section-body[_ngcontent-%COMP%]   body.dark-mode[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]{background:var(--primary-bg)}.login-section-body[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50px;right:-50px;width:200px;height:200px;background:color-mix(in srgb,var(--primary-bg),transparent 90%);border-radius:50%}.login-section-body[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{margin-bottom:24px}.login-section-body[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:12px;display:flex;align-items:center;gap:10px}.login-section-body[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.5;opacity:.9}.login-section-body[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:column;gap:16px}.login-section-body[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:.9rem}.login-section-body[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;text-align:center;opacity:.8}.login-section-body[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]{flex:1.1;background:var(--surface);padding:40px;border-radius:var(--radius);box-shadow:var(--shadow-lg);min-height:500px;display:flex;flex-direction:column;justify-content:center;transition:background-color .3s ease,box-shadow .3s ease}.login-section-body[_ngcontent-%COMP%]   .view-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.login-section-body[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{margin-bottom:32px;display:flex;justify-content:space-between;align-items:flex-start}.login-section-body[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-start}.login-section-body[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:var(--bg-body);color:var(--primary);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;flex-shrink:0;transition:background-color .3s ease}.login-section-body[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;margin-bottom:4px;color:var(--text-main)}.login-section-body[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-muted)}.login-section-body[_ngcontent-%COMP%]   .action-badge[_ngcontent-%COMP%]{font-size:.75rem;color:var(--primary);background:transparent;padding:4px 8px;font-weight:600;text-decoration:none;cursor:pointer;-webkit-user-select:none;user-select:none}.login-section-body[_ngcontent-%COMP%]   .action-badge[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-section-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.login-section-body[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.9rem;font-weight:600;margin-bottom:8px;color:var(--text-main)}.login-section-body[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative}.login-section-body[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:12px 40px 12px 16px;background:var(--bg-body);border:2px solid var(--border);border-radius:6px;font-size:.95rem;color:var(--text-main);outline:none;transition:all .2s}.login-section-body[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);background:var(--surface)}.login-section-body[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:var(--text-muted);cursor:pointer}.login-section-body[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;font-size:.9rem}.login-section-body[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;color:var(--text-main)}.login-section-body[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{accent-color:var(--primary);width:14px;height:14px}.login-section-body[_ngcontent-%COMP%]   .forgot-link[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-weight:500;cursor:pointer}.login-section-body[_ngcontent-%COMP%]   .forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-section-body[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%;padding:12px;background:var(--primary);color:var(--primary-bg);border:none;border-radius:25px;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s,opacity .2s}.login-section-body[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.login-section-body[_ngcontent-%COMP%]   .back-link-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.login-section-body[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-size:.9rem;font-weight:500;cursor:pointer}.login-section-body[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center;padding:20px;font-size:.85rem;color:var(--text-muted);border-top:1px solid transparent}@media (max-width: 800px){.login-section-body[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]{flex-direction:column;max-width:450px}.login-section-body[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]{display:none}.login-section-body[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]{padding:30px}.login-section-body[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{padding:16px 20px}.login-section-body[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.login-section-body[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{padding:40px 10px;margin-bottom:3em}.login-section-body[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{margin-bottom:32px;display:block}.login-section-body[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{margin-bottom:1em}}.login-section-body[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--error-color);font-size:.75rem!important;margin-left:4px;display:block;position:absolute!important}.login-section-body[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:var(--error-color)}']}),n})(),AW=(()=>{const t=class{constructor(i,r){this.storage=i,this.router=r}canActivate(){return!!this.storage.hasToken()||(this.router.navigate(["/login"]),!1)}};let n=t;return t.\u0275fac=function(r){return new(r||t)(G(Xi),G(Jt))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function OW(n,t){if(1&n&&(f(0,"tr")(1,"td",3),v(2),p(),f(3,"td",4),v(4),p(),f(5,"td",5),v(6),p(),f(7,"td",6),v(8),p(),f(9,"td",7),v(10),p(),f(11,"td",8),v(12),p()()),2&n){const e=t.$implicit;x(2),Ge("#",e.taskcode,""),x(2),Ae(e.task),x(2),Ae(e.description),x(2),Ae(e.priority),x(2),Ae(e.status),x(2),Ge("",e.completion_percentage,"%")}}let PW=(()=>{const t=class{constructor(){this.tasks=[]}};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-p-issues"]],inputs:{tasks:"tasks"},decls:18,vars:1,consts:[[1,"table-wrapper"],[2,"font-size","smaller"],[4,"ngFor","ngForOf"],["data-label","Task Code",2,"color","var(--text-muted)"],["data-label","Task"],["data-label","Description"],["data-label","Priority"],["data-label","Status"],["data-label","Completion %"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"table")(2,"thead")(3,"tr")(4,"th"),v(5,"Task Code"),p(),f(6,"th"),v(7,"Task"),p(),f(8,"th"),v(9,"Description"),p(),f(10,"th"),v(11,"Priority"),p(),f(12,"th"),v(13,"Status"),p(),f(14,"th"),v(15,"Completion %"),p()()(),f(16,"tbody",1),U(17,OW,13,6,"tr",2),p()()()),2&r&&(x(17),D("ngForOf",o.tasks))},dependencies:[Hi],styles:["table[_ngcontent-%COMP%]{border:1px solid var(--border);border-collapse:collapse;margin:0;padding:0;width:100%;table-layout:fixed}thead[_ngcontent-%COMP%]{position:sticky;top:-1px;background-color:var(--surface)}table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0 .75em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.35em}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.625em;text-align:center}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.85em;letter-spacing:.1em;text-transform:uppercase;color:var(--primary)}@media screen and (max-width: 600px){table[_ngcontent-%COMP%]{border:0}table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.3em}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;display:block;font-size:.8em;text-align:right}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:0}}"]}),n})();function RW(n,t){if(1&n&&(f(0,"tr")(1,"td",3),v(2),p(),f(3,"td",4),v(4),p(),f(5,"td",5),v(6),p(),f(7,"td",6),v(8),p(),f(9,"td",7),v(10),p(),f(11,"td",8),v(12),p()()),2&n){const e=t.$implicit;x(2),Ge("#",e.taskcode,""),x(2),Ae(e.task),x(2),Ae(e.employee_name),x(2),Ae(e.description),x(2),Ae(e.end_date),x(2),Ae("requirement"==e.task_type?"Task":"Issue")}}let FW=(()=>{const t=class{constructor(){this.dues=[]}};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-p-dues"]],inputs:{dues:"dues"},decls:18,vars:1,consts:[[1,"table-wrapper"],[2,"font-size","smaller"],[4,"ngFor","ngForOf"],["data-label","Task Code",2,"color","var(--text-muted)"],["data-label","Task"],["data-label","Owner"],["data-label","Description"],["data-label","Date"],["data-label","Type"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"table")(2,"thead")(3,"tr")(4,"th"),v(5,"Task Code"),p(),f(6,"th"),v(7,"Task"),p(),f(8,"th"),v(9,"Owner"),p(),f(10,"th"),v(11,"Description"),p(),f(12,"th"),v(13,"Date"),p(),f(14,"th"),v(15,"Type"),p()()(),f(16,"tbody",1),U(17,RW,13,6,"tr",2),p()()()),2&r&&(x(17),D("ngForOf",o.dues))},dependencies:[Hi],styles:["table[_ngcontent-%COMP%]{border:1px solid var(--border);border-collapse:collapse;margin:0;padding:0;width:100%;table-layout:fixed}thead[_ngcontent-%COMP%]{position:sticky;top:-1px;background-color:var(--surface)}table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0 .75em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.35em}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.625em;text-align:center}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.85em;letter-spacing:.1em;text-transform:uppercase;color:var(--primary)}@media screen and (max-width: 600px){table[_ngcontent-%COMP%]{border:0}table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.3em}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;display:block;font-size:.8em;text-align:right}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:0}}"]}),n})();function IW(n,t){if(1&n&&(f(0,"div",32),I(1,"app-p-issues",33),p()),2&n){const e=ue();x(1),D("tasks",null==e.dashboardData?null:e.dashboardData.task_list)}}function LW(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",34)(3,"div",35),I(4,"i",36),f(5,"div",37),v(6,"No active tasks"),p()()()()())}function NW(n,t){if(1&n&&(f(0,"div",32),I(1,"app-p-issues",33),p()),2&n){const e=ue();x(1),D("tasks",null==e.dashboardData?null:e.dashboardData.bug_list)}}function BW(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",34)(3,"div",35),I(4,"i",38),f(5,"div",37),v(6,"No issues reported"),p()()()()())}function VW(n,t){if(1&n&&(f(0,"div",32),I(1,"app-p-dues",39),p()),2&n){const e=ue();x(1),D("dues",null==e.dashboardData?null:e.dashboardData.overdue_items)}}function zW(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",34)(3,"div",35),I(4,"i",40),f(5,"div",37),v(6,"All caught up"),p()()()()())}function HW(n,t){if(1&n&&(f(0,"div",32),I(1,"app-p-dues",39),p()),2&n){const e=ue();x(1),D("dues",null==e.dashboardData?null:e.dashboardData.today_due)}}function jW(n,t){1&n&&(f(0,"tbody")(1,"tr")(2,"td",34)(3,"div",35),I(4,"i",41),f(5,"div",37),v(6,"Nothing due today"),p()()()()())}let UW=(()=>{const t=class{constructor(i,r,o,s){this.authService=i,this.storageService=r,this.router=o,this.route=s,this.isAdmin=!0,this.empId=0,this.today=new Date,this.mytask=[],this.projectid=0,this.projectid=this.route.snapshot.paramMap.get("id")}ngOnInit(){this.empId=this.storageService.getEmpId(),this.getDashboardDetailsByEmployeeId(this.empId)}getDashboardDetailsByEmployeeId(i){this.authService.getDashboardDetailsByEmployeeId(i,this.projectid).subscribe({next:r=>{this.dashboardData=r},error:r=>{}})}navigateToPage(i){this.router.navigate(["main/"+i])}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(Cn),O(Xi),O(Jt),O(ir))},t.\u0275cmp=Qe({type:t,selectors:[["app-dashboard"]],decls:101,vars:14,consts:[[1,"dsb-main-container"],[1,"dsb-page-header"],[1,"dsb-page-title"],[1,"dsb-page-breadcrumbs"],[1,"dsb-stats-grid"],[1,"dsb-group-card","group-blue"],[1,"dsb-group-header"],[1,"ri-stack-line"],[1,"dsb-group-body"],[1,"dsb-stat-item"],[1,"dsb-stat-val"],[1,"dsb-stat-label"],[1,"dsb-stat-divider"],[1,"dsb-stat-val",2,"opacity","0.5"],[1,"dsb-group-card","group-red"],[1,"ri-error-warning-line"],[1,"dsb-group-card","group-teal"],[1,"ri-flag-line"],[1,"dsb-section-title",2,"border-color","var(--text-muted)"],[1,"dsb-tables-grid"],[1,"dsb-table-card"],[1,"dsb-table-header-bar"],[1,"dsb-table-badge","badge-blue"],[1,"dsb-table-actions"],[1,"ri-more-fill"],[1,"dsb-table-content"],[1,"dsb-table"],["class","chart-wrapper",4,"ngIf"],[4,"ngIf"],[1,"dsb-section-title"],[1,"dsb-table-badge","badge-urgent"],[1,"dsb-table-badge"],[1,"chart-wrapper"],[3,"tasks"],["colspan","3"],[1,"dsb-empty-state"],[1,"ri-inbox-line","dsb-empty-icon"],[1,"dsb-empty-text"],[1,"ri-bug-line","dsb-empty-icon"],[3,"dues"],[1,"ri-thumb-up-line","dsb-empty-icon"],[1,"ri-calendar-check-line","dsb-empty-icon"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"h1",2),v(3,"My Workspace"),p(),f(4,"div",3),v(5,"Overview / Today"),p()(),f(6,"div",4)(7,"div",5)(8,"div",6),I(9,"i",7),v(10," Tasks "),p(),f(11,"div",8)(12,"div",9)(13,"span",10),v(14),p(),f(15,"span",11),v(16,"Open"),p()(),I(17,"div",12),f(18,"div",9)(19,"span",13),v(20),p(),f(21,"span",11),v(22,"Closed"),p()()()(),f(23,"div",14)(24,"div",6),I(25,"i",15),v(26," Issues "),p(),f(27,"div",8)(28,"div",9)(29,"span",10),v(30),p(),f(31,"span",11),v(32,"Open"),p()(),I(33,"div",12),f(34,"div",9)(35,"span",13),v(36),p(),f(37,"span",11),v(38,"Closed"),p()()()(),f(39,"div",16)(40,"div",6),I(41,"i",17),v(42," Phases "),p(),f(43,"div",8)(44,"div",9)(45,"span",10),v(46),p(),f(47,"span",11),v(48,"Open"),p()(),I(49,"div",12),f(50,"div",9)(51,"span",13),v(52),p(),f(53,"span",11),v(54,"Closed"),p()()()()(),f(55,"div",18),v(56,"Backlog"),p(),f(57,"div",19)(58,"div",20)(59,"div",21)(60,"span",22),v(61,"Project Tasks"),p(),f(62,"div",23),I(63,"i",24),p()(),f(64,"div",25)(65,"table",26),U(66,IW,2,1,"div",27),U(67,LW,7,0,"tbody",28),p()()(),f(68,"div",20)(69,"div",21)(70,"span",22),v(71,"Project Issues"),p(),f(72,"div",23),I(73,"i",24),p()(),f(74,"div",25)(75,"table",26),U(76,NW,2,1,"div",27),U(77,BW,7,0,"tbody",28),p()()()(),f(78,"div",29),v(79,"Attention Needed"),p(),f(80,"div",19)(81,"div",20)(82,"div",21)(83,"span",30),v(84,"Overdue Items"),p(),f(85,"div",23),I(86,"i",24),p()(),f(87,"div",25)(88,"table",26),U(89,VW,2,1,"div",27),U(90,zW,7,0,"tbody",28),p()()(),f(91,"div",20)(92,"div",21)(93,"span",31),v(94,"Due Today"),p(),f(95,"div",23),I(96,"i",24),p()(),f(97,"div",25)(98,"table",26),U(99,HW,2,1,"div",27),U(100,jW,7,0,"tbody",28),p()()()()()),2&r&&(x(14),Ae((null==o.dashboardData?null:o.dashboardData.active_task)||0),x(6),Ae((null==o.dashboardData?null:o.dashboardData.closed_task)||0),x(10),Ae((null==o.dashboardData?null:o.dashboardData.active_issue)||0),x(6),Ae((null==o.dashboardData?null:o.dashboardData.closed_issue)||0),x(10),Ae((null==o.dashboardData?null:o.dashboardData.active_phase)||0),x(6),Ae((null==o.dashboardData?null:o.dashboardData.completed_phase)||0),x(14),D("ngIf",(null==o.dashboardData||null==o.dashboardData.task_list?null:o.dashboardData.task_list.length)>0),x(1),D("ngIf",0==(null==o.dashboardData||null==o.dashboardData.task_list?null:o.dashboardData.task_list.length)||!o.dashboardData),x(9),D("ngIf",(null==o.dashboardData||null==o.dashboardData.bug_list?null:o.dashboardData.bug_list.length)>0),x(1),D("ngIf",0==(null==o.dashboardData||null==o.dashboardData.bug_list?null:o.dashboardData.bug_list.length)||!o.dashboardData),x(12),D("ngIf",(null==o.dashboardData||null==o.dashboardData.overdue_items?null:o.dashboardData.overdue_items.length)>0),x(1),D("ngIf",0==(null==o.dashboardData||null==o.dashboardData.overdue_items?null:o.dashboardData.overdue_items.length)||!o.dashboardData),x(9),D("ngIf",(null==o.dashboardData||null==o.dashboardData.today_due?null:o.dashboardData.today_due.length)>0),x(1),D("ngIf",0==(null==o.dashboardData||null==o.dashboardData.today_due?null:o.dashboardData.today_due.length)||!o.dashboardData))},dependencies:[ki,PW,FW],styles:[".dsb-main-container[_ngcontent-%COMP%]{margin:0 auto}.dsb-page-header[_ngcontent-%COMP%]{margin-bottom:24px;display:flex;align-items:flex-end;justify-content:space-between}.chart-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-height:350px;overflow:scroll}.chart-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:0px;height:0px;background-color:#f5f5f5}.dsb-page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-main);letter-spacing:-.02em}.dsb-page-breadcrumbs[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-muted);font-weight:500}.dsb-stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;margin-bottom:40px}.dsb-group-card[_ngcontent-%COMP%]{background:var(--surface);border-radius:var(--radius);border:1px solid var(--border);box-shadow:var(--shadow-sm);overflow:hidden;display:flex;flex-direction:column}.dsb-group-header[_ngcontent-%COMP%]{background:var(--bg-hover);padding:12px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px;font-size:.9rem;font-weight:700;color:var(--text-main);text-transform:uppercase;letter-spacing:.05em}.dsb-group-body[_ngcontent-%COMP%]{padding:24px;display:flex;align-items:center;justify-content:space-around}.dsb-stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px}.dsb-stat-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-muted);font-weight:500}.dsb-stat-val[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text-main);line-height:1}.dsb-stat-divider[_ngcontent-%COMP%]{width:1px;height:40px;background:var(--border)}.group-blue[_ngcontent-%COMP%]   .dsb-group-header[_ngcontent-%COMP%]{border-top:3px solid var(--c-blue)}.group-blue[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--c-blue);font-size:1.1rem}.group-red[_ngcontent-%COMP%]   .dsb-group-header[_ngcontent-%COMP%]{border-top:3px solid var(--c-red)}.group-red[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--c-red);font-size:1.1rem}.group-teal[_ngcontent-%COMP%]   .dsb-group-header[_ngcontent-%COMP%]{border-top:3px solid var(--c-teal)}.group-teal[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--c-teal);font-size:1.1rem}.dsb-section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-main);margin-bottom:16px;padding-left:12px;border-left:4px solid var(--primary)}.dsb-tables-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:24px;margin-bottom:40px}.dsb-table-card[_ngcontent-%COMP%]{background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow-sm);border:1px solid var(--border);display:flex;flex-direction:column;height:var(--card-min-height);overflow:hidden}.dsb-table-header-bar[_ngcontent-%COMP%]{padding:16px 20px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border)}.dsb-table-badge[_ngcontent-%COMP%]{background:var(--bg-hover);padding:4px 12px;border-radius:20px;font-size:.85rem;font-weight:600;color:var(--text-main);border:1px solid var(--border)}.badge-urgent[_ngcontent-%COMP%]{color:var(--c-red);background:#FEF2F2;border-color:#fecaca}.badge-blue[_ngcontent-%COMP%]{color:var(--c-blue);background:#EFF6FF;border-color:#bfdbfe}.dsb-table-actions[_ngcontent-%COMP%]{color:var(--text-muted);cursor:pointer;transition:color .2s}.dsb-table-actions[_ngcontent-%COMP%]:hover{color:var(--text-main)}.dsb-table-content[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative;display:flex;justify-content:center;align-items:center}.dsb-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:var(--tblr-font-size)}.dsb-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--text-muted);font-weight:600;text-align:left;padding:0 20px;height:40px;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:5;background:var(--surface);font-size:.75rem;text-transform:uppercase;letter-spacing:.05em}.dsb-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 20px;height:var(--tblr-row-height);border-bottom:1px solid var(--bg-hover);color:var(--text-main);vertical-align:middle}.dsb-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:var(--bg-hover)}.dsb-empty-state[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center}.dsb-empty-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:12px;color:var(--border)}.dsb-empty-text[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:var(--border)}@media (max-width: 1024px){.dsb-stats-grid[_ngcontent-%COMP%], .dsb-tables-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.dsb-top-nav[_ngcontent-%COMP%]{padding:0 20px}.dsb-main-container[_ngcontent-%COMP%]{padding:20px}.dsb-table-card[_ngcontent-%COMP%]{height:auto;min-height:350px}}"]}),n})();const $W=["tableEl"];function WW(n,t){if(1&n&&(f(0,"option",58),v(1),p()),2&n){const e=t.$implicit;D("value",e.id),x(1),Ge(" ",e.phase_title," ")}}function GW(n,t){if(1&n){const e=Tt();f(0,"div",59),ee("click",function(){return $e(e),We(ue().toggleSideTab())}),p()}}function qW(n,t){if(1&n&&(f(0,"option",58),v(1),p()),2&n){const e=t.$implicit;D("value",e.id),x(1),Ge("",e.project_title," ")}}function YW(n,t){1&n&&(ke(),Re(),f(0,"div",60),v(1," Project Title is required. "),p())}function KW(n,t){if(1&n&&(f(0,"option",58),v(1),p()),2&n){const e=t.$implicit;D("value",e.id),x(1),Ge("",e.phase_title," ")}}function XW(n,t){1&n&&(f(0,"div",60),v(1," Task is required. "),p())}function ZW(n,t){1&n&&(ke(),Re(),f(0,"div",60),v(1," priority is required. "),p())}function QW(n,t){1&n&&(f(0,"div",60),v(1," Start Date is required. "),p())}function JW(n,t){1&n&&(f(0,"div",60),v(1," End Date is required. "),p())}function eG(n,t){if(1&n&&(f(0,"option",58),v(1),p()),2&n){const e=t.$implicit;D("value",e.id),x(1),Ge("",e.employee_name," ")}}function tG(n,t){1&n&&(ke(),Re(),f(0,"div",60),v(1," Assignee is required. "),p())}function iG(n,t){if(1&n&&(f(0,"option",58),v(1),p()),2&n){const e=t.$implicit;D("value",e),x(1),Ge(" ",e,"")}}function nG(n,t){1&n&&(ke(),Re(),f(0,"div",60),v(1," Status is required. "),p())}function rG(n,t){1&n&&(f(0,"div",60),v(1," Description is required. "),p())}let HS=(()=>{const t=class{constructor(i,r,o,s,a,l,c,d){this.el=i,this.route=r,this.fb=o,this.toasterService=s,this.authService=a,this.commonService=l,this.storageService=c,this.router=d,this.type="requirement",this.selectedCount=0,this.isEditMode=!1,this.viewOptions={},this.projectid=0,this.statusList=[],this.cUsername=this.storageService.getUsername(),this.empid=0,this.apppTypeList=[],this.employeeList=[],this.projectList=[],this.phaseList=[],this.taskList=[],this.columns=[],this.isTeamDropdownOpen=!1,this.teamSearch="",this.openMenu=null,this.moveTarget=null,this.projectid=this.route.snapshot.paramMap.get("id"),this.empid=this.storageService.getEmpId(),this.getPhasesByProjectId({target:{value:this.projectid}})}toggleSideTab(i){console.log(i),this.isFilterOpen=!this.isFilterOpen,"New"===i&&this.onCancel()}ngOnInit(){this.getProjects(),this.getAppsTypes(),this.getEmployees(),this.loadInitialData(),this.taskForm=this.fb.group({id:[0],projectid:[this.projectid,Ie.required],task:["",Ie.required],description:["",Ie.required],task_type:[this.type,Ie.required],priority:[null,Ie.required],assigned_from:[this.storageService.getEmpId(),Ie.required],assigned_to:[null,Ie.required],start_date:["",Ie.required],end_date:["",Ie.required],status:[null,Ie.required],username:[this.storageService.getUsername()],phaseid:[null]})}get rf(){return{projectid:this.taskForm.get("projectid"),task:this.taskForm.get("task"),description:this.taskForm.get("description"),task_type:this.taskForm.get("task_type"),priority:this.taskForm.get("priority"),assigned_from:this.taskForm.get("assigned_from"),assigned_to:this.taskForm.get("assigned_to"),start_date:this.taskForm.get("start_date"),end_date:this.taskForm.get("end_date"),status:this.taskForm.get("status"),username:this.taskForm.get("username"),phaseid:this.taskForm.get("phaseid")}}onSubmit(){console.log("taskForm Data:",this.taskForm.value),this.taskForm.valid?this.isEditMode?(this.selectTask={...this.selectTask,...this.taskForm.value},this.authService.updateTask(this.selectTask).subscribe({next:i=>{this.toasterService.success(i?.message),this.isEditMode=!1,this.toggleSideTab(),this.loadInitialData()},error:i=>{this.toasterService.error(i?.error?.message)}})):this.authService.createTask(this.taskForm.value).subscribe({next:i=>{this.toasterService.success(i?.message),this.toggleSideTab(),this.loadInitialData()},error:i=>{this.toasterService.error(i?.error?.message)}}):this.taskForm.markAllAsTouched()}onCancel(){this.taskForm.reset({username:this.storageService.getUsername(),projectid:this.projectid,assigned_from:this.storageService.getEmpId(),task_type:this.type})}getAppsTypes(){this.authService.getAppsTypes().subscribe({next:i=>this.apppTypeList=i})}getEmployees(){this.authService.getEmployeeList().subscribe({next:i=>this.employeeList=i})}getProjects(i){this.authService.getAllProjectsByEmployeeId(this.empid).subscribe({next:r=>{this.projectList=r,i&&i()}})}getPhasesByProjectId(i){console.log(i),this.authService.getPhaseByProjectId(i?.target?.value).subscribe({next:r=>{this.phaseList=r}})}getAllTasks(i){this.authService.getAllTasks().subscribe({next:r=>{this.taskList=r,this.viewOptions=this.commonService.getFieldLabels(this.taskList),i&&i()}})}getStatusList(){this.authService.getStatusList().subscribe({next:i=>{this.statusList=i}})}getTasksByProjectIdNdEmployeeId(i){this.authService.getTasksByProjectIdNdEmployeeId(this.projectid,this.empid||0,0,this.type).subscribe({next:r=>{this.taskList=r,this.viewOptions=this.commonService.getFieldLabels(this.taskList),i&&i()}})}loadInitialData(){this.getStatusList(),this.getTasksByProjectIdNdEmployeeId(()=>{this.initTable()})}onViewSelected(i){this.initTable(i.id),this.clearSelection()}updateTask(){this.selectTask.username=this.storageService.getUsername(),this.authService.updateTask(this.selectTask).subscribe({next:i=>{this.toasterService.success(i?.message),this.isEditMode=!1,this.loadInitialData()},error:i=>{this.toasterService.error(i?.error?.message)}})}patchtaskForm(i){i&&(this.isEditMode=!0,this.taskForm.patchValue({id:i?.id??0,projectid:i.projectid??null,task:i.task??null,description:i.description??"",task_type:i.task_type??"Requirement",priority:i.priority??"Medium",assigned_from:i.assigned_from??this.storageService.getUserId(),assigned_to:i.assigned_to??null,start_date:i.start_date??"",end_date:i.end_date??"",status:i.status??"Pending",username:this.storageService.getUsername(),phaseid:i.phaseid??null}))}initTable(i=""){const c=function(g){const b=g.getValue();if(!b)return"-";const _=luxon.DateTime.now();let w=luxon.DateTime.fromISO(b);if(b.length<=10&&(w=w.set({hour:23,minute:59,second:59})),!w.isValid)return b;let C="",M="";if(w>_){const L=w.diff(_,["days","hours","minutes"]).toObject();if(L.days&&L.days>=1){const N=Math.floor(L.days);C=`${N} ${1===N?"day":"days"} to go`}else if(L.hours&&L.hours>=1){const N=Math.floor(L.hours);C=`${N} ${1===N?"hour":"hours"} left`}else{const N=Math.floor(L.minutes||1);C=`${N} ${1===N?"minute":"minutes"} left`}M="text-green"}else{const L=_.diff(w,["days","hours","minutes"]).toObject();if(L.days&&L.days>=1){const N=Math.floor(L.days);C=`Ended ${N} ${1===N?"day":"days"} ago`}else if(L.hours&&L.hours>=1){const N=Math.floor(L.hours);C=`Ended ${N} ${1===N?"hour":"hours"} ago`}else{const N=Math.floor(L.minutes||1);C=`Ended ${N} ${1===N?"minute":"minutes"} ago`}M="text-red"}return`\n        <div class="flex-col">\n          <span class="text-main">${w.toFormat("MM-dd-yyyy")}</span>\n          <span class="text-muted ${M}">\n            (${C})\n          </span>\n        </div>\n      `};this.columns=[{formatter:"rowSelection",titleFormatter:"rowSelection",width:40,hozAlign:"center",headerSort:!1},{title:"Taskcode",field:"taskcode",formatter:g=>`<span class="text-light-gray">${g.getValue()}</span>`},{title:"Task",field:"task",frozen:!0,formatter:function(g){const b=g.getData();return`\n          <div class="task-cell-wrapper">\n              <div class="flex-row">\n                  <div class="icon-box">\n                      <i class="ri-folder-3-line"></i>\n                  </div>\n                  <div class="flex-col">\n                      <span class="text-main text-bold">${b.task}</span>\n                      <span class="text-muted">${b.description||"No description"}</span>\n                  </div>\n              </div>\n              <button class="access-btn">\n                  Open <i class="ri-arrow-right-line"></i>\n              </button>\n          </div>\n      `},minWidth:100,widthGrow:2,editor:"input",cellClick:(g,b)=>{if(g.target.closest(".access-btn")){g.stopPropagation();const _=b.getRow().getData();this.router.navigate([`/main/projects/projects-content/${this.projectid}/${_.id}`]),sessionStorage.setItem("activeProjectTab","tasks")}}},{title:"Owner",field:"assigned_to",formatter:function(g,b){const _=g.getValue();if(!_||Array.isArray(_)&&0===_.length)return"";const w=Array.isArray(_)?_:[_],C=document.createElement("div");C.className="chip-container";const M=["bg-blue","bg-purple","bg-pink","bg-indigo","bg-teal"];return w.forEach(L=>{const N=b.lookup[L]||"Unknown",ce=N?N.charAt(0).toUpperCase():"?",De=M[L%M.length],ze=document.createElement("div");ze.className="flex-row",ze.innerHTML=`\n            <div class="avatar-circle ${De}">${ce}</div>\n            <span class="text-main truncate">${N}</span>\n        `,C.appendChild(ze)}),C},editor:"list",formatterParams:{lookup:this.commonService.formatForTabulatorObj(this.employeeList,"id","employee_name")},editorParams:{values:this.commonService.formatForTabulatorObj(this.employeeList,"id","employee_name"),autocomplete:!0,clearable:!0,listOnEmpty:!0,itemFormatter:function(g,b,_,w){if(!g)return"";let C=0;for(let ce=0;ce<g.length;ce++)C=g.charCodeAt(ce)+((C<<5)-C);const M=["bg-blue","bg-purple","bg-pink","bg-indigo","bg-teal"],L=M[(_.value||0)%M.length],N=g.split(" ").map(ce=>ce[0]).slice(0,2).join("");return w&&(w.title="Click to toggle selection"),`\n      <div class="user">\n          <div class="avatar-circle ${L}">${N}</div>\n          <span class="text-main truncate">${g}</span>\n      </div>\n      `}}},{title:"Status",field:"status",formatter:function(g){const b=g.getValue();return`<span class="${b}">\n                <i class="${({Open:{cls:"status-open",icon:"ri-door-open-fill"},"In Progress":{cls:"status-inprogress",icon:"ri-loader-4-fill"},"In Review":{cls:"status-review",icon:"ri-search-eye-fill"},"To be Tested":{cls:"status-testing",icon:"ri-flask-fill"},"On Hold":{cls:"status-hold",icon:"ri-pause-circle-fill"},Delayed:{cls:"status-delayed",icon:"ri-timer-2-fill"},Closed:{cls:"status-closed",icon:"ri-checkbox-circle-fill"},Cancelled:{cls:"status-cancelled",icon:"ri-close-circle-fill"}}[b]||{cls:"status-default",icon:"ri-information-fill"}).icon}"></i> ${b}\n              </span>`},hozAlign:"center",editor:"list",editorParams:{values:this.statusList}},{title:"Start Date",field:"start_date",formatter:c,editor:"date",editorParams:{format:"yyyy-MM-dd"}},{title:"Due Date",field:"end_date",formatter:c,width:140,editor:"date",editorParams:{format:"yyyy-MM-dd"}},{title:"Duration",field:"estimated_hours",formatter:g=>{const b=g.getValue();if(!b)return"-";const _=b.split(":").map(Number),N=luxon.Duration.fromObject({hours:_[0]||0,minutes:_[1]||0,seconds:_[2]||0}).as("hours");let ce="",De="";return N<8?(ce=N.toFixed(2),De="hrs"):(ce=(N/8).toFixed(2),De="days"),`\n        <div class="client-pill">\n          <i class="ri-time-line" style="color:var(--text-muted)"></i>\n          <span>${ce} ${De}</span>\n        </div>\n      `}},{title:"Completion",field:"tasks_done",width:180,headerSort:!1,formatter:g=>{const M=g.getData().completion_percentage||0;return`\n          <div class="task-progress-container">\n            \n              <div class="task-bar-track">\n                  <div class="task-bar-fill" style="width: ${M}%"></div>\n                  <span class="task-bar-text">${M} %</span>\n              </div>\n             \n          </div>\n      `},editorParams:{min:0,max:100}},{title:"Description",field:"description",editor:"textarea"},{title:"phase_title",field:"phase_title"},{title:"Created Date",field:"created_date",sorter:"datetime"},{title:"Updated Date",field:"created_date",sorter:"datetime"},{title:"Actions",field:"actions",headerSort:!1,frozen:!0,hozAlign:"center",formatter:()=>'\n            <button \n              style="border:none;background:transparent;cursor:pointer;padding:4px;">\n              <i class="ri-edit-2-line edit" style="font-size:18px;color:#1976d2;"></i>\n            </button>\n        \n            <button \n              style="border:none;background:transparent;cursor:pointer;padding:4px;">\n              <i class="ri-delete-bin-6-line delete" style="font-size:18px;color:#d32f2f;"></i>\n            </button>\n          ',cellClick:(g,b)=>{const _=b.getRow().getData();g.target.classList.contains("edit")&&(this.selectTask=_,this.patchtaskForm(_),this.toggleSideTab()),g.target.classList.contains("delete")&&Xs().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(w=>{w.isConfirmed&&this.authService.deleteTask(this.cUsername,_.id).subscribe({next:C=>{this.toasterService.success(C?.message),this.loadInitialData()},error:C=>{this.toasterService.error(C?.error?.message)}})})}}];const u={data:this.taskList,columns:this.columns,movableColumns:!0,resizableRows:!0,movableRows:!0,pagination:"local",paginationSize:15,editTriggerEvent:"dblclick",paginationSizeSelector:[5,10,15,25,35,45,100],columnDefaults:{tooltip:!0},groupBy:i,resizableColumnFit:!0,layout:"fitDataStretch",groupStartOpen:!0,groupHeader:function(g,b,_,w){return`\n              <div class="flex-row">\n                  <i class="ri-stack-line" style="color: var(--primary); font-size: 16px;"></i>\n                  <span class="text-main text-bold">${g||"Unassigned"}</span>\n                  <span class="text-muted" style="font-weight: 400;">(${b} Tasks)</span>\n              </div>\n          `}};this.table=new Ml(this.el.nativeElement.querySelector(".tabulator-table-task"),u),this.table.on("cellEdited",g=>{this.selectTask=g.getRow().getData(),"assigned_to_name"===g.getField()&&(this.selectTask.assigned_to=g.getValue()),this.updateTask(),("project_title"===g.getField()||"manager_name"===g.getField())&&g.getRow().reformat()}),this.table.on("rowSelectionChanged",(g,b)=>{this.selectedCount=b.length})}clearSelection(){this.table&&(this.table.deselectRow(),this.selectedCount=0)}deleteSelected(){if(!this.table)return;const i=this.table.getSelectedRows();!i.length||!window.confirm(`Delete ${i.length} item(s)?`)||i.forEach(o=>o.delete())}ngOnDestroy(){this.table?.destroy()}toggle(i,r){r.stopPropagation(),this.openMenu=this.openMenu===i?null:i}closeAll(){this.openMenu=null}moveSelected(){if(this.moveTarget&&this.table){if(this.table?.getSelectedData()?.length>0){const r=this.table.getSelectedData().map(o=>o.id);this.authService.swapTask(this.moveTarget,r,this.storageService.getUsername()).subscribe({next:o=>{this.toasterService.success(o?.message),this.clearSelection(),this.loadInitialData()}})}else console.log("No rows selected");this.closeAll()}}toggleGroupSelection(i,r){if(!this.table)return;const o=this.table.getGroups().find(s=>s.getKey()===i);o&&o.getRows().forEach(s=>{r?s.select():s.deselect()})}onOutsideClick(){this.closeAll()}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(It),O(ir),O(rs),O(xo),O(Cn),O(ta),O(Xi),O(Jt))},t.\u0275cmp=Qe({type:t,selectors:[["app-tasks"]],viewQuery:function(r,o){if(1&r&&(Xn(wo,5),Xn($W,5)),2&r){let s;ln(s=cn())&&(o.viewSelector=s.first),ln(s=cn())&&(o.tableEl=s.first)}},hostBindings:function(r,o){1&r&&ee("click",function(){return o.onOutsideClick()},0,Fu)},inputs:{type:"type"},decls:165,vars:33,consts:[[2,"margin-bottom","15px","font-size","15px"],[2,"margin-bottom","1em",3,"btntext","viewOptions","toggleSideTab","selectionChange"],[1,"theme-grid",2,"padding-top","1em"],[1,"pcab-wrapper"],["id","pcab-action-bar"],[1,"pcab-group"],[1,"pcab-btn-close",3,"click"],["id","pcab-selected-count"],[1,"pcab-dropdown"],[1,"pcab-btn-action",3,"click"],[1,"pcab-dropdown-panel",3,"click"],[3,"ngModel","ngModelChange"],["value","null","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"pcab-dropdown-actions"],[1,"pcab-btn-action","pcab-btn-danger",3,"click"],[1,"tabulator-table-task"],["tableEl",""],["class","filter-backdrop",3,"click",4,"ngIf"],[1,"filter-drawer"],[1,"drawer-header"],[1,"header-content"],[1,"icon-btn","close-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"drawer-content"],[1,"page-container"],[1,"main-form",3,"formGroup"],[1,"form-section"],[1,"section-title"],[1,"fields-grid"],[1,"form-group"],[2,"position","relative"],[1,"required"],[1,"select-wrapper"],["formControlName","projectid",3,"change"],["disabled","",3,"ngValue"],["viewBox","0 0 24 24",1,"select-arrow"],["d","M7 10l5 5 5-5z","fill","currentColor"],["class","error-msg",4,"ngIf"],["formControlName","phaseid"],[1,"form-group","full-width-desktop"],["formControlName","task","rows","4","placeholder","Describe the goals..."],["formControlName","priority"],["value","High"],["value","Medium"],["value","Low"],["type","date","formControlName","start_date"],["type","date","formControlName","end_date"],["formControlName","assigned_to"],["formControlName","status"],[1,"divider"],["formControlName","description","rows","4","placeholder","Describe the project goals..."],[1,"drawer-footer"],[1,"header-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"],[1,"filter-backdrop",3,"click"],[1,"error-msg"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"app-table-filter",1),ee("toggleSideTab",function(a){return o.toggleSideTab(a)})("selectionChange",function(a){return o.onViewSelected(a)}),p(),f(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),ee("click",function(){return o.clearSelection()}),v(7,"\u2715"),p(),f(8,"span",7),v(9),p()(),f(10,"div",5)(11,"div",8)(12,"button",9),ee("click",function(a){return o.toggle("move",a)}),v(13,"Move"),p(),f(14,"div",10),ee("click",function(a){return a.stopPropagation()}),f(15,"label"),v(16," Move to "),f(17,"select",11),ee("ngModelChange",function(a){return o.moveTarget=a}),f(18,"option",12),v(19,"Select Phase"),p(),U(20,WW,2,2,"option",13),p()(),f(21,"div",14)(22,"button",9),ee("click",function(){return o.moveSelected()}),v(23,"Move"),p(),f(24,"button",9),ee("click",function(){return o.closeAll()}),v(25,"Cancel"),p()()()(),f(26,"button",15),ee("click",function(){return o.deleteSelected()}),v(27,"Delete"),p()()(),I(28,"div",16,17),p()()(),U(30,GW,1,0,"div",18),f(31,"div",19)(32,"div",20)(33,"div",21)(34,"h1"),v(35),p(),f(36,"p"),v(37),p()(),f(38,"button",22),ee("click",function(){return o.toggleSideTab()}),ke(),f(39,"svg",23),I(40,"line",24)(41,"line",25),p()()(),Re(),f(42,"div",26)(43,"div",27)(44,"form",28)(45,"section",29)(46,"h2",30),v(47,"Task Details"),p(),f(48,"div",31)(49,"div",32)(50,"div",33)(51,"label"),v(52,"Project Title "),f(53,"span",34),v(54,"*"),p()(),f(55,"div",35)(56,"select",36),ee("change",function(a){return o.getPhasesByProjectId(a)}),f(57,"option",37),v(58,"Select Project"),p(),U(59,qW,2,2,"option",13),p(),ke(),f(60,"svg",38),I(61,"path",39),p()(),U(62,YW,2,0,"div",40),p()(),Re(),f(63,"div",32)(64,"div",33)(65,"label"),v(66,"Phase "),p(),f(67,"div",35)(68,"select",41)(69,"option",37),v(70,"Select Phase"),p(),U(71,KW,2,2,"option",13),p(),ke(),f(72,"svg",38),I(73,"path",39),p()()()(),Re(),f(74,"div",42)(75,"div",33)(76,"label"),v(77,"Task "),f(78,"span",34),v(79,"*"),p()(),I(80,"textarea",43),U(81,XW,2,0,"div",40),p()(),f(82,"div",32)(83,"div",33)(84,"label"),v(85,"Priority "),f(86,"span",34),v(87,"*"),p()(),f(88,"div",35)(89,"select",44)(90,"option",37),v(91,"Select Priority"),p(),f(92,"option",45),v(93,"High"),p(),f(94,"option",46),v(95,"Medium"),p(),f(96,"option",47),v(97,"Low"),p()(),ke(),f(98,"svg",38),I(99,"path",39),p()(),U(100,ZW,2,0,"div",40),p()(),Re(),f(101,"div",32)(102,"div",33)(103,"label"),v(104,"Start Date "),f(105,"span",34),v(106,"*"),p()(),I(107,"input",48),U(108,QW,2,0,"div",40),p()(),f(109,"div",32)(110,"div",33)(111,"label"),v(112,"End Date "),f(113,"span",34),v(114,"*"),p()(),I(115,"input",49),U(116,JW,2,0,"div",40),p()(),f(117,"div",32)(118,"div",33)(119,"label"),v(120,"Assignee "),f(121,"span",34),v(122,"*"),p()(),f(123,"div",35)(124,"select",50)(125,"option",37),v(126,"Select Assignee"),p(),U(127,eG,2,2,"option",13),p(),ke(),f(128,"svg",38),I(129,"path",39),p()(),U(130,tG,2,0,"div",40),p()(),Re(),f(131,"div",32)(132,"div",33)(133,"label"),v(134,"Status "),f(135,"span",34),v(136,"*"),p()(),f(137,"div",35)(138,"select",51)(139,"option",37),v(140,"Select Status"),p(),U(141,iG,2,2,"option",13),p(),ke(),f(142,"svg",38),I(143,"path",39),p()(),U(144,nG,2,0,"div",40),p()()()(),Re(),I(145,"hr",52),f(146,"section",29)(147,"h2",30),v(148,"Additional Details"),p(),f(149,"div",31)(150,"div",42)(151,"div",33)(152,"label"),v(153,"Description "),f(154,"span",34),v(155,"*"),p()(),I(156,"textarea",53),U(157,rG,2,0,"div",40),p()()(),I(158,"br"),p()()(),f(159,"div",54)(160,"div",55)(161,"button",56),ee("click",function(){return o.onCancel()}),v(162,"Cancel"),p(),f(163,"button",57),ee("click",function(){return o.onSubmit()}),v(164,"Save"),p()()()()()),2&r&&(x(1),D("viewOptions",o.viewOptions),x(3),Fe("pcab-bar-visible",o.selectedCount>0)("pcab-bar-hidden",0===o.selectedCount),x(5),Ge("",o.selectedCount," Selected"),x(2),Fe("pcab-dropdown-open","move"===o.openMenu),x(6),D("ngModel",o.moveTarget),x(3),D("ngForOf",o.phaseList),x(10),D("ngIf",o.isFilterOpen),x(1),Fe("open",o.isFilterOpen),x(4),Ae(o.isEditMode?"Update Task":"Create New Task"),x(2),Ge(" ",o.isEditMode?"Modify task details, assignments, and deadlines":"Define the task scope, timeline, and assign team members"," "),x(7),D("formGroup",o.taskForm),x(13),D("ngValue",null),x(2),D("ngForOf",o.projectList),x(3),D("ngIf",(null==o.rf.projectid?null:o.rf.projectid.invalid)&&((null==o.rf.projectid?null:o.rf.projectid.dirty)||(null==o.rf.projectid?null:o.rf.projectid.touched))),x(7),D("ngValue",null),x(2),D("ngForOf",o.phaseList),x(10),D("ngIf",(null==o.rf.task?null:o.rf.task.invalid)&&((null==o.rf.task?null:o.rf.task.dirty)||(null==o.rf.task?null:o.rf.task.touched))),x(9),D("ngValue",null),x(10),D("ngIf",(null==o.rf.priority?null:o.rf.priority.invalid)&&((null==o.rf.priority?null:o.rf.priority.dirty)||(null==o.rf.priority?null:o.rf.priority.touched))),x(8),D("ngIf",(null==o.rf.start_date?null:o.rf.start_date.invalid)&&((null==o.rf.start_date?null:o.rf.start_date.dirty)||(null==o.rf.start_date?null:o.rf.start_date.touched))),x(8),D("ngIf",(null==o.rf.end_date?null:o.rf.end_date.invalid)&&((null==o.rf.end_date?null:o.rf.end_date.dirty)||(null==o.rf.end_date?null:o.rf.end_date.touched))),x(9),D("ngValue",null),x(2),D("ngForOf",o.employeeList),x(3),D("ngIf",(null==o.rf.assigned_to?null:o.rf.assigned_to.invalid)&&((null==o.rf.assigned_to?null:o.rf.assigned_to.dirty)||(null==o.rf.assigned_to?null:o.rf.assigned_to.touched))),x(9),D("ngValue",null),x(2),D("ngForOf",o.statusList),x(3),D("ngIf",(null==o.rf.status?null:o.rf.status.invalid)&&((null==o.rf.status?null:o.rf.status.dirty)||(null==o.rf.status?null:o.rf.status.touched))),x(13),D("ngIf",(null==o.rf.description?null:o.rf.description.invalid)&&((null==o.rf.description?null:o.rf.description.dirty)||(null==o.rf.description?null:o.rf.description.touched))))},dependencies:[Hi,ki,wo,vo,is,ns,Bn,yo,yr,bo,Js,xr,_o],styles:['.page-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;width:100%;box-sizing:border-box;padding-bottom:20px}.drawer-footer[_ngcontent-%COMP%]{flex-shrink:0;background:var(--surface);border-top:1px solid var(--border);padding:16px 24px;display:flex;justify-content:flex-end;align-items:center;z-index:10;box-shadow:0 -4px 10px #00000008}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.form-header[_ngcontent-%COMP%]{margin-bottom:32px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0 0 6px;color:var(--text-main)}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);font-size:14px}@media (min-width: 640px){.btn[_ngcontent-%COMP%]{flex:0 0 auto;min-width:120px}}.main-form[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow-sm)}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0 0 24px;color:var(--primary);display:flex;align-items:center;padding-bottom:8px;border-bottom:1px solid transparent}.divider[_ngcontent-%COMP%]{border:0;height:1px;background:var(--border);margin:32px 0}.fields-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;align-items:start}.three-col[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.full-width-desktop[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:0;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-main)}.required[_ngcontent-%COMP%]{color:var(--error-color)}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px 14px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg-body);color:var(--text-main);font-size:14px;width:100%;box-sizing:border-box;transition:border-color .2s,box-shadow .2s;font-family:inherit;min-height:44px}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:var(--surface);box-shadow:0 0 0 3px #2563eb1a}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, .disabled-input[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#9ca3af;cursor:not-allowed;opacity:.7}.readonly-input[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#6b7280;cursor:not-allowed}.select-wrapper[_ngcontent-%COMP%]{position:relative;margin-top:4px}select[_ngcontent-%COMP%]{appearance:none;padding-right:36px}.select-arrow[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:14px;height:14px;color:var(--text-muted);pointer-events:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.error-msg[_ngcontent-%COMP%]{font-size:.75rem;color:var(--error-color);margin-top:3px;font-weight:300;position:absolute}input.ng-invalid.ng-touched[_ngcontent-%COMP%], select.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:var(--error-color)}.trigger-actions[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:6px}.count-badge[_ngcontent-%COMP%]{background:var(--primary-light);color:var(--primary);font-size:10px;font-weight:700;padding:2px 6px;border-radius:99px}.placeholder-text[_ngcontent-%COMP%]{color:var(--text-muted);padding-left:6px;font-size:14px}.chips-container[_ngcontent-%COMP%]{display:contents}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:var(--surface);color:var(--text-main);border:1px solid var(--border);font-size:13px;font-weight:500;padding:4px 8px 4px 4px;border-radius:99px;box-shadow:0 1px 2px #0000000d;transition:background .1s}.chip-avatar[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:700}.chip-remove[_ngcontent-%COMP%]{cursor:pointer;color:var(--text-muted);font-size:16px;width:16px;height:16px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.chip-remove[_ngcontent-%COMP%]:hover{color:var(--error-color);background:#FEF2F2}.dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:99;cursor:default}.multi-select-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;max-height:300px;overflow:hidden;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-top:6px;box-shadow:var(--shadow-lg);z-index:100;display:flex;flex-direction:column}.dropdown-search[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid var(--border);position:relative}.dropdown-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:32px;height:36px;border-color:transparent;background:var(--bg-body)}.dropdown-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary);background:var(--surface)}.dropdown-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);width:16px;color:var(--text-muted);pointer-events:none}.options-list[_ngcontent-%COMP%]{overflow-y:auto;flex:1;padding:4px 0}.option-item[_ngcontent-%COMP%]{padding:8px 12px;display:flex;align-items:center;gap:12px;cursor:pointer;transition:background .1s}.option-item[_ngcontent-%COMP%]:hover{background:var(--bg-body)}.option-item.selected[_ngcontent-%COMP%]{background:var(--primary-light)}.option-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#E0E7FF;color:var(--primary);display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;flex-shrink:0}.option-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;line-height:1.3}.option-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-main)}.option-role[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted)}.checkbox-custom[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:6px;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;color:#fff;transition:all .2s}.option-item.selected[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]{background:var(--primary);border-color:var(--primary)}.checkbox-custom[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.no-results[_ngcontent-%COMP%]{padding:16px;text-align:center;color:var(--text-muted);font-size:13px}.toggles-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:30px;margin-top:24px}.toggle-group[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;flex:1;min-width:250px}.toggle-label[_ngcontent-%COMP%]{display:flex;flex-direction:column}.toggle-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-main)}.toggle-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted);line-height:1.4}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px;flex-shrink:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--border);transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--primary)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}@media (max-width: 768px){.page-container[_ngcontent-%COMP%], .main-form[_ngcontent-%COMP%]{padding:16px}.fields-grid[_ngcontent-%COMP%], .three-col[_ngcontent-%COMP%]{gap:16px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.header-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;width:100%}.btn[_ngcontent-%COMP%]{width:100%}}.icon-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:transparent;border:none;border-radius:var(--radius);color:var(--text-muted);cursor:pointer;transition:all .2s}.floating-bar[_ngcontent-%COMP%]   .toolbar-wrapper[_ngcontent-%COMP%]{width:100%;max-width:900px;position:relative;z-index:100}.floating-bar[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);box-shadow:var(--shadow-md);border-radius:var(--radius);padding:4px;display:flex;align-items:center;justify-content:flex-start;gap:4px;transition:all .3s ease;height:auto;min-height:56px}']}),n})();function oG(n,t){if(1&n){const e=Tt();f(0,"div",36),ee("click",function(){return $e(e),We(ue().toggleSideTab())}),p()}}function sG(n,t){if(1&n){const e=Tt();f(0,"div",37),ee("click",function(){return $e(e),We(ue().isTeamDropdownOpen=!1)}),p()}}function aG(n,t){if(1&n){const e=Tt();f(0,"span",40),ee("click",function(r){return r.stopPropagation()}),f(1,"span",41),v(2),p(),v(3),f(4,"span",42),ee("click",function(){const o=$e(e).$implicit;return We(ue(2).toggleEmployee(o))}),v(5,"\xd7"),p()()}if(2&n){const e=t.$implicit,i=ue(2);x(2),Ae(i.getInitials(i.getEmployeeName(e))),x(1),Ge(" ",i.getEmployeeName(e)," ")}}function lG(n,t){if(1&n&&(f(0,"div",38),U(1,aG,6,2,"span",39),p()),2&n){const e=ue();x(1),D("ngForOf",e.selectedEmployeeIds)}}function cG(n,t){1&n&&(f(0,"span",43),v(1," Select members..."),p())}function dG(n,t){if(1&n&&(f(0,"span",44),v(1),p()),2&n){const e=ue();x(1),Ae(e.selectedEmployeeIds.length)}}function uG(n,t){1&n&&(ke(),f(0,"svg",61),I(1,"polyline",62),p())}function hG(n,t){if(1&n){const e=Tt();f(0,"div",54),ee("click",function(){const o=$e(e).$implicit;return We(ue(2).toggleEmployee(o.id))}),f(1,"div",55),v(2),p(),f(3,"div",56)(4,"span",57),v(5),p(),f(6,"span",58),v(7),p()(),f(8,"div",59),U(9,uG,2,0,"svg",60),p()()}if(2&n){const e=t.$implicit,i=ue(2);Fe("selected",i.isEmployeeSelected(e.id)),x(1),sn("background-color",i.getAvatarColor(e.id)),x(1),Ge(" ",i.getInitials(e.employee_name)," "),x(3),Ae(e.employee_name),x(2),Ae(e.role),x(2),D("ngIf",i.isEmployeeSelected(e.id))}}function fG(n,t){1&n&&(f(0,"div",63),v(1," No members found. "),p())}const pG=function(){return{standalone:!0}};function mG(n,t){if(1&n){const e=Tt();ke(),Re(),f(0,"div",45)(1,"div",46),ke(),f(2,"svg",47),I(3,"circle",48)(4,"line",49),p(),Re(),f(5,"input",50),ee("ngModelChange",function(r){return $e(e),We(ue().teamSearch=r)})("click",function(r){return r.stopPropagation()}),p()(),f(6,"div",51),U(7,hG,10,8,"div",52),U(8,fG,2,0,"div",53),p()()}if(2&n){const e=ue();x(5),D("ngModel",e.teamSearch)("ngModelOptions",gg(4,pG)),x(2),D("ngForOf",e.filteredEmployees),x(1),D("ngIf",0===e.filteredEmployees.length)}}function gG(n,t){1&n&&(ke(),Re(),f(0,"div",64),v(1," Team Members are required. "),p())}let bG=(()=>{const t=class{constructor(i,r,o,s,a,l,c){this.el=i,this.commonService=r,this.fb=o,this.route=s,this.toasterService=a,this.storageService=l,this.authService=c,this.isFilterOpen=!1,this.viewOptions={},this.shifts=[],this.users=[],this.employeeList=[],this.projectid=0,this.isTeamDropdownOpen=!1,this.projectForm=this.fb.group({employee_list:[[]],username:[this.storageService.getUsername()]}),this.teamSearch="",this.projectid=this.route.snapshot.paramMap.get("id")}ngOnInit(){this.loadInitialData(),this.getEmployeelistByProjectId(),this.projectForm.get("employee_list")?.setValidators(Ie.required)}ngOnDestroy(){this.table&&this.table.destroy()}loadInitialData(){this.getprojectmembersById(()=>{this.initTable()})}toggleSideTab(i){this.isFilterOpen=!this.isFilterOpen}onViewSelected(i){this.initTable(i.id)}initTable(i=""){this.columns=[{title:"ID",field:"id",sorter:"number",hozAlign:"center",formatter:l=>`<span class="text-light-gray">EMP-${l.getValue()}</span>`},{title:"Employee",field:"firstname",formatter:l=>{const c=l.getData(),d=(c.firstname[0]+(c.lastname?c.lastname[0]:"")).toUpperCase(),u=[220,260,320,160,40],g=u[c.id%u.length];return`\n          <div class="profile-wrapper">\n              <div class="avatar" style="background-color: hsl(${g}, 80%, 95%); color: hsl(${g}, 70%, 40%);">\n                  ${c.profile_image_url?`<img height="40" width="40" src="${c.profile_image_url}" onerror="this.style.display='none'; this.parentElement.innerText='${d}'" />`:d}\n              </div>\n              <div class="flex-col">\n                  <span class="text-bold">${c.firstname} ${c.lastname}</span>\n                  <span class="text-muted">${c.position}</span>\n              </div>\n          </div>\n      `},widthGrow:2,minWidth:240,headerSort:!1,edit:"input"},{title:"Contact Info",field:"email",formatter:l=>{const c=l.getData();return`\n        <div class="flex-col">\n            <div style="display:flex; align-items:center; gap:6px; font-size:12px; color:var(--text-primary);">\n                <i class="ri-mail-line" style="color:var(--text-tertiary)"></i> ${c.email}\n            </div>\n            <div style="display:flex; align-items:center; gap:6px; font-size:11px; color:var(--text-secondary);">\n                <i class="ri-phone-line" style="color:var(--text-tertiary)"></i> ${c.mobile||"--"}\n            </div>\n        </div>\n    `},width:220,headerSort:!1},{title:"Shift",field:"shift_type",width:140,editor:"list",editorParams:{values:["Day Shift","Night Shift","Rotational"]},formatter:l=>`<span style="font-weight:500; font-size:12px;">${l.getValue()}</span>`},{title:"Status",field:"isactive",formatter:function(l){return l.getValue()?'<span class="status-pill status-closed"><i class="ri-checkbox-circle-fill"></i> Active</span>':'<span class="status-pill status-cancelled"><i class="ri-close-circle-fill"></i> Closed</span>'},width:120,hozAlign:"center",editor:"list",editorParams:{values:[{label:"Active",value:1},{label:"Inactive",value:0}]}}];const a={data:this.users,columns:this.columns,movableColumns:!0,resizableRows:!0,movableRows:!0,pagination:"remote",layout:"fitDataFill",paginationSize:15,editTriggerEvent:"dblclick",paginationSizeSelector:[5,10,15,25,35,45,100],columnDefaults:{tooltip:!0},groupBy:i,groupStartOpen:!0,groupHeader:function(l,c,d,u){return`\n              <div class="flex-row">\n                  <i class="ri-stack-line" style="color: var(--primary); font-size: 16px;"></i>\n                  <span class="text-main text-bold">${l||"Unassigned"}</span>\n                  <span class="text-muted" style="font-weight: 400;">(${c} projects)</span>\n              </div>\n          `}};this.table=new Ml(this.el.nativeElement.querySelector(".tabulator-table"),a),this.table.on("cellEdited",l=>{})}getprojectmembersById(i){this.authService.getprojectmembersById(this.projectid).subscribe({next:r=>{this.users=r,this.viewOptions=this.commonService.getFieldLabels(this.users),i&&i(),this.table&&this.table.replaceData(this.users)}})}getEmployeelistByProjectId(){this.authService.getEmployeelistByProjectId(this.projectid).subscribe({next:i=>{this.employeeList=i?.employee_list,this.projectForm.get("employee_list")?.setValue(i?.assigned_employee_list.map(r=>r.id)),this.selectedProject=i?.project}})}get rf(){return{employee_list:this.projectForm.get("employee_list"),projectid:this.projectForm.get("projectid")}}get filteredEmployees(){if(!this.teamSearch)return this.employeeList;const i=this.teamSearch.toLowerCase();return this.employeeList.filter(r=>r?.employee_name?.toLowerCase().includes(i))}get selectedEmployeeIds(){return this.projectForm.get("employee_list")?.value||[]}getInitials(i){return i?i.split(" ").map(r=>r[0]).join("").substring(0,2).toUpperCase():"??"}getEmployeeName(i){const r=this.employeeList.find(o=>o.id===i);return r?r.employee_name:"Unknown"}isEmployeeSelected(i){return this.selectedEmployeeIds.includes(i)}toggleEmployee(i){const r=this.selectedEmployeeIds;r.includes(i)?this.projectForm.patchValue({employee_list:r.filter(o=>o!==i)}):this.projectForm.patchValue({employee_list:[...r,i]}),this.projectForm.get("employee_list")?.markAsDirty()}getAvatarColor(i){const r=["#E0E7FF","#FEE2E2","#DCFCE7","#FEF3C7","#F3E8FF"];return r[i%r.length]}onSubmit(){this.selectedProject={...this.selectedProject,...this.projectForm.value},this.authService.updateProject(this.selectedProject).subscribe({next:i=>{this.toasterService.success(i?.message),this.loadInitialData(),this.toggleSideTab()},error:i=>{this.toasterService.error(i?.error?.message)}})}onCancel(){}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(It),O(ta),O(rs),O(ir),O(xo),O(Xi),O(Cn))},t.\u0275cmp=Qe({type:t,selectors:[["app-users"]],decls:45,vars:16,consts:[[1,"card"],[2,"margin-bottom","15px"],[3,"btntext","viewOptions","toggleSideTab","selectionChange"],[2,"margin-bottom","15px","margin-top","10px","font-size","15px","border-top","1px solid var(--border)","padding-top","10px"],[1,"theme-grid"],[1,"tabulator-table"],["class","filter-backdrop",3,"click",4,"ngIf"],[1,"filter-drawer"],[1,"drawer-header"],[1,"header-content"],[1,"icon-btn","close-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"drawer-content"],[1,"page-container"],[1,"main-form",3,"formGroup"],[1,"form-section"],[1,"section-title"],[1,"fields-grid","three-col"],[1,"form-group","full-width-mobile"],[1,"required"],["class","dropdown-backdrop",3,"click",4,"ngIf"],[1,"multi-select-container"],[1,"multi-select-trigger",3,"click"],["class","chips-container",4,"ngIf","ngIfElse"],["placeholder",""],[1,"trigger-actions"],["class","count-badge",4,"ngIf"],["viewBox","0 0 24 24",1,"select-arrow"],["d","M7 10l5 5 5-5z","fill","currentColor"],["class","multi-select-dropdown",4,"ngIf"],["class","error-msg",4,"ngIf"],[1,"drawer-footer"],[1,"header-actions"],["type","button",1,"btn","btn-primary",3,"click"],[1,"filter-backdrop",3,"click"],[1,"dropdown-backdrop",3,"click"],[1,"chips-container"],["class","chip",3,"click",4,"ngFor","ngForOf"],[1,"chip",3,"click"],[1,"chip-avatar"],[1,"chip-remove",3,"click"],[1,"placeholder-text"],[1,"count-badge"],[1,"multi-select-dropdown"],[1,"dropdown-search"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"search-icon"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["type","text","placeholder","Search people...",3,"ngModel","ngModelOptions","ngModelChange","click"],[1,"options-list"],["class","option-item",3,"selected","click",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],[1,"option-item",3,"click"],[1,"option-avatar"],[1,"option-info"],[1,"option-name"],[1,"option-role"],[1,"checkbox-custom"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","4",4,"ngIf"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","4"],["points","20 6 9 17 4 12"],[1,"no-results"],[1,"error-msg"]],template:function(r,o){if(1&r&&(f(0,"div",0)(1,"h2",1),v(2,"Users"),p(),f(3,"app-table-filter",2),ee("toggleSideTab",function(a){return o.toggleSideTab(a)})("selectionChange",function(a){return o.onViewSelected(a)}),p(),f(4,"div",3)(5,"div",4),I(6,"div",5),p()()(),U(7,oG,1,0,"div",6),f(8,"div",7)(9,"div",8)(10,"div",9)(11,"h1"),v(12," Resource Assignment "),p()(),f(13,"button",10),ee("click",function(){return o.toggleSideTab()}),ke(),f(14,"svg",11),I(15,"line",12)(16,"line",13),p()()(),Re(),f(17,"div",14)(18,"div",15)(19,"form",16)(20,"section",17)(21,"h2",18),v(22,"Resource Assignment"),p(),f(23,"div",19)(24,"div",20)(25,"label"),v(26,"Team Members "),f(27,"span",21),v(28,"*"),p()(),U(29,sG,1,0,"div",22),f(30,"div",23)(31,"div",24),ee("click",function(){return o.isTeamDropdownOpen=!o.isTeamDropdownOpen}),U(32,lG,2,1,"div",25),U(33,cG,2,0,"ng-template",null,26,Eg),f(35,"div",27),U(36,dG,2,1,"span",28),ke(),f(37,"svg",29),I(38,"path",30),p()()(),U(39,mG,9,5,"div",31),p(),U(40,gG,2,0,"div",32),p()()()()(),Re(),f(41,"div",33)(42,"div",34)(43,"button",35),ee("click",function(){return o.onSubmit()}),v(44,"Save"),p()()()()()),2&r){const s=Xm(34);x(3),D("btntext","Employee")("viewOptions",o.viewOptions),x(4),D("ngIf",o.isFilterOpen),x(1),Fe("open",o.isFilterOpen),x(11),D("formGroup",o.projectForm),x(10),D("ngIf",o.isTeamDropdownOpen),x(1),Fe("open",o.isTeamDropdownOpen),x(1),Fe("has-error",(null==o.rf.employee_list?null:o.rf.employee_list.invalid)&&((null==o.rf.employee_list?null:o.rf.employee_list.dirty)||(null==o.rf.employee_list?null:o.rf.employee_list.touched))),x(1),D("ngIf",o.selectedEmployeeIds.length>0)("ngIfElse",s),x(4),D("ngIf",o.selectedEmployeeIds.length>0),x(3),D("ngIf",o.isTeamDropdownOpen),x(1),D("ngIf",(null==o.rf.employee_list?null:o.rf.employee_list.invalid)&&((null==o.rf.employee_list?null:o.rf.employee_list.dirty)||(null==o.rf.employee_list?null:o.rf.employee_list.touched)))}},dependencies:[Hi,ki,wo,vo,Bn,yr,bo,Js,xr],styles:['.page-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;width:100%;box-sizing:border-box;padding-bottom:20px;height:90%}.drawer-footer[_ngcontent-%COMP%]{flex-shrink:0;background:var(--surface);border-top:1px solid var(--border);padding:16px 24px;display:flex;justify-content:flex-end;align-items:center;z-index:10;box-shadow:0 -4px 10px #00000008}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.form-header[_ngcontent-%COMP%]{margin-bottom:32px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0 0 6px;color:var(--text-main)}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);font-size:14px}@media (min-width: 640px){.btn[_ngcontent-%COMP%]{flex:0 0 auto;min-width:120px}}.main-form[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow-sm)}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0 0 24px;color:var(--primary);display:flex;align-items:center;padding-bottom:8px;border-bottom:1px solid transparent}.divider[_ngcontent-%COMP%]{border:0;height:1px;background:var(--border);margin:32px 0}.fields-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;align-items:start}.three-col[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.full-width-desktop[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:0;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-main)}.required[_ngcontent-%COMP%]{color:var(--error-color)}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px 14px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg-body);color:var(--text-main);font-size:14px;width:100%;box-sizing:border-box;transition:border-color .2s,box-shadow .2s;font-family:inherit;min-height:44px}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:var(--surface);box-shadow:0 0 0 3px #2563eb1a}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, .disabled-input[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#9ca3af;cursor:not-allowed;opacity:.7}.readonly-input[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#6b7280;cursor:not-allowed}.select-wrapper[_ngcontent-%COMP%]{position:relative}select[_ngcontent-%COMP%]{appearance:none;padding-right:36px}.select-arrow[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:14px;height:14px;color:var(--text-muted);pointer-events:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.error-msg[_ngcontent-%COMP%]{font-size:.75rem;color:var(--error-color);margin-top:-2px;font-weight:300}input.ng-invalid.ng-touched[_ngcontent-%COMP%], select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:var(--error-color)}.multi-select-container[_ngcontent-%COMP%]{position:relative}.multi-select-trigger[_ngcontent-%COMP%]{min-height:44px;padding:6px 40px 6px 8px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg-body);cursor:pointer;display:flex;flex-wrap:wrap;gap:6px;align-items:center;transition:all .2s}.multi-select-trigger.has-error[_ngcontent-%COMP%]{border-color:var(--error-color)}.multi-select-container.disabled-input[_ngcontent-%COMP%]   .multi-select-trigger[_ngcontent-%COMP%]{background-color:#f3f4f6;cursor:not-allowed;opacity:.7;pointer-events:none}.multi-select-container.open[_ngcontent-%COMP%]   .multi-select-trigger[_ngcontent-%COMP%]{border-color:var(--primary);background:var(--surface);box-shadow:0 0 0 3px #2563eb1a}.trigger-actions[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:6px}.count-badge[_ngcontent-%COMP%]{background:var(--primary-light);color:var(--primary);font-size:10px;font-weight:700;padding:2px 6px;border-radius:99px}.placeholder-text[_ngcontent-%COMP%]{color:var(--text-muted);padding-left:6px;font-size:14px}.chips-container[_ngcontent-%COMP%]{display:contents}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:var(--surface);color:var(--text-main);border:1px solid var(--border);font-size:13px;font-weight:500;padding:4px 8px 4px 4px;border-radius:99px;box-shadow:0 1px 2px #0000000d;transition:background .1s}.chip-avatar[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:700}.chip-remove[_ngcontent-%COMP%]{cursor:pointer;color:var(--text-muted);font-size:16px;width:16px;height:16px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.chip-remove[_ngcontent-%COMP%]:hover{color:var(--error-color);background:#FEF2F2}.dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:99;cursor:default}.multi-select-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;max-height:300px;overflow:hidden;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-top:6px;box-shadow:var(--shadow-lg);z-index:100;display:flex;flex-direction:column}.dropdown-search[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid var(--border);position:relative}.dropdown-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:32px;height:36px;border-color:transparent;background:var(--bg-body)}.dropdown-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary);background:var(--surface)}.dropdown-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);width:16px;color:var(--text-muted);pointer-events:none}.options-list[_ngcontent-%COMP%]{overflow-y:auto;flex:1;padding:4px 0}.option-item[_ngcontent-%COMP%]{padding:8px 12px;display:flex;align-items:center;gap:12px;cursor:pointer;transition:background .1s}.option-item[_ngcontent-%COMP%]:hover{background:var(--bg-body)}.option-item.selected[_ngcontent-%COMP%]{background:var(--primary-light)}.option-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#E0E7FF;color:var(--primary);display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;flex-shrink:0}.option-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;line-height:1.3}.option-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-main)}.option-role[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted)}.checkbox-custom[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:6px;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;color:#fff;transition:all .2s}.option-item.selected[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]{background:var(--primary);border-color:var(--primary)}.checkbox-custom[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.no-results[_ngcontent-%COMP%]{padding:16px;text-align:center;color:var(--text-muted);font-size:13px}.toggles-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:30px;margin-top:24px}.toggle-group[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;flex:1;min-width:250px}.toggle-label[_ngcontent-%COMP%]{display:flex;flex-direction:column}.toggle-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-main)}.toggle-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted);line-height:1.4}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px;flex-shrink:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--border);transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--primary)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}@media (max-width: 768px){.page-container[_ngcontent-%COMP%], .main-form[_ngcontent-%COMP%]{padding:16px}.fields-grid[_ngcontent-%COMP%], .three-col[_ngcontent-%COMP%]{gap:16px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.header-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;width:100%}.btn[_ngcontent-%COMP%]{width:100%}}.icon-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:transparent;border:none;border-radius:var(--radius);color:var(--text-muted);cursor:pointer;transition:all .2s}']}),n})(),vG=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-reports"]],decls:2,vars:0,template:function(r,o){1&r&&(f(0,"p"),v(1,"reports works!"),p())}}),n})();function _G(n,t){if(1&n){const e=Tt();f(0,"div",44),ee("click",function(){return $e(e),We(ue().toggleSideTab())}),p()}}function yG(n,t){if(1&n&&(f(0,"option",45),v(1),p()),2&n){const e=t.$implicit;D("value",e.id),x(1),Ge("",e.project_title," ")}}function xG(n,t){1&n&&(ke(),Re(),f(0,"div",46),v(1," Project Title is required. "),p())}function wG(n,t){1&n&&(f(0,"div",46),v(1," Task is required. "),p())}function CG(n,t){1&n&&(ke(),Re(),f(0,"div",46),v(1," Phase Type is required. "),p())}function EG(n,t){1&n&&(f(0,"div",46),v(1," Start Date is required. "),p())}function MG(n,t){1&n&&(f(0,"div",46),v(1," End Date is required. "),p())}function DG(n,t){if(1&n&&(f(0,"option",45),v(1),p()),2&n){const e=t.$implicit;D("value",e.id),x(1),Ge("",e.employee_name," ")}}function SG(n,t){1&n&&(ke(),Re(),f(0,"div",46),v(1," Assignee is required. "),p())}function TG(n,t){if(1&n&&(f(0,"option",45),v(1),p()),2&n){const e=t.$implicit;D("value",e),x(1),Ge(" ",e,"")}}function kG(n,t){1&n&&(ke(),Re(),f(0,"div",46),v(1," Status is required. "),p())}let AG=(()=>{const t=class{constructor(i,r,o,s,a,l,c,d){this.el=i,this.route=r,this.fb=o,this.toasterService=s,this.authService=a,this.commonService=l,this.storageService=c,this.router=d,this.isEditMode=!1,this.viewOptions={},this.projectid=0,this.statusList=[],this.cUsername=this.storageService.getUsername(),this.empid=0,this.apppTypeList=[],this.employeeList=[],this.projectList=[],this.Phases=[],this.columns=[],this.isTeamDropdownOpen=!1,this.teamSearch="",this.projectid=this.route.snapshot.paramMap.get("id"),this.empid=this.storageService.getEmpId()}toggleSideTab(i){console.log(i),this.isFilterOpen=!this.isFilterOpen,"New"===i&&this.onCancel()}ngOnInit(){this.getProjects(),this.getEmployees(),this.loadInitialData(),this.phaseForm=this.fb.group({id:[null],phase_title:["",Ie.required],phase_type:["Internal",Ie.required],projectid:[null,Ie.required],version:[null],start_date:[null,Ie.required],end_date:[null],status:["Open",Ie.required],assignee:[null],remark:[""],username:this.storageService.getUsername()})}get rf(){return{id:this.phaseForm.get("id"),phase_title:this.phaseForm.get("phase_title"),phase_type:this.phaseForm.get("phase_type"),projectid:this.phaseForm.get("projectid"),version:this.phaseForm.get("version"),start_date:this.phaseForm.get("start_date"),end_date:this.phaseForm.get("end_date"),status:this.phaseForm.get("status"),assignee:this.phaseForm.get("assignee"),remark:this.phaseForm.get("remark")}}onSubmit(){console.log("taskForm Data:",this.phaseForm.value),this.phaseForm.valid?this.isEditMode?(this.selectPhase={...this.selectPhase,...this.phaseForm.value},this.authService.updatePhase(this.selectPhase).subscribe({next:i=>{this.toasterService.success(i?.message),this.isEditMode=!1,this.toggleSideTab(),this.loadInitialData()},error:i=>{this.toasterService.error(i?.error?.message)}})):this.authService.createPhase(this.phaseForm.value).subscribe({next:i=>{this.toasterService.success(i?.message),this.toggleSideTab(),this.loadInitialData()},error:i=>{this.toasterService.error(i?.error?.message)}}):this.phaseForm.markAllAsTouched()}onCancel(){this.phaseForm.reset({projectid:this.projectid,username:this.storageService.getUsername()})}getEmployees(){this.authService.getEmployeeList().subscribe({next:i=>this.employeeList=i})}getProjects(i){this.authService.getAllProjectsByEmployeeId(this.empid).subscribe({next:r=>{this.projectList=r,i&&i()}})}getAllTasks(i){this.authService.getAllTasks().subscribe({next:r=>{this.Phases=r,this.viewOptions=this.commonService.getFieldLabels(this.Phases),i&&i()}})}getStatusList(){this.authService.getStatusList().subscribe({next:i=>{this.statusList=i}})}getPhaseByProjectId(i){this.authService.getPhaseByProjectId(this.projectid).subscribe({next:r=>{this.Phases=r,this.viewOptions=this.commonService.getFieldLabels(this.Phases),i&&i()}})}loadInitialData(){this.getStatusList(),this.getPhaseByProjectId(()=>{this.initTable()})}onViewSelected(i){this.initTable(i.id)}updatePhase(){this.selectPhase.username=this.storageService.getUsername(),this.authService.updatePhase(this.selectPhase).subscribe({next:i=>{this.toasterService.success(i?.message),this.isEditMode=!1,this.loadInitialData()},error:i=>{this.toasterService.error(i?.error?.message)}})}patchPhaseForm(i){i&&(this.isEditMode=!0,this.phaseForm.patchValue({id:i.id,code:i.code,phase_title:i.phase_title,phase_type:i.phase_type,projectid:i.projectid,version:i.version,start_date:i.start_date,end_date:i.end_date,status:i.status,assignee:i.assignee,remark:i.remark}))}initTable(i=""){const a=function(u){const g=u.getValue();if(!g)return"-";const b=luxon.DateTime.now();let _=luxon.DateTime.fromISO(g);if(g.length<=10&&(_=_.set({hour:23,minute:59,second:59})),!_.isValid)return g;let w="",C="";if(_>b){const M=_.diff(b,["days","hours","minutes"]).toObject();if(M.days&&M.days>=1){const L=Math.floor(M.days);w=`${L} ${1===L?"day":"days"} to go`}else if(M.hours&&M.hours>=1){const L=Math.floor(M.hours);w=`${L} ${1===L?"hour":"hours"} left`}else{const L=Math.floor(M.minutes||1);w=`${L} ${1===L?"minute":"minutes"} left`}C="text-green"}else{const M=b.diff(_,["days","hours","minutes"]).toObject();if(M.days&&M.days>=1){const L=Math.floor(M.days);w=`Ended ${L} ${1===L?"day":"days"} ago`}else if(M.hours&&M.hours>=1){const L=Math.floor(M.hours);w=`Ended ${L} ${1===L?"hour":"hours"} ago`}else{const L=Math.floor(M.minutes||1);w=`Ended ${L} ${1===L?"minute":"minutes"} ago`}C="text-red"}return`\n        <div class="flex-col">\n          <span class="text-main">${_.toFormat("MM-dd-yyyy")}</span>\n          <span class="text-muted ${C}">\n            (${w})\n          </span>\n        </div>\n      `};this.columns=[{title:"Phase code",field:"code",formatter:u=>`<span class="text-light-gray">${u.getValue()}</span>`},{title:"Phase",field:"phase_title",frozen:!0,formatter:function(u){return`\n          <div class="task-cell-wrapper">\n              <div class="flex-row">\n                  <div class="icon-box">\n                      <i class="ri-folder-3-line"></i>\n                  </div>\n                  <div class="flex-col">\n                      <span class="text-main text-bold">${u.getData().phase_title}</span>\n                  </div>\n              </div>\n              <button class="access-btn">\n                  Open <i class="ri-arrow-right-line"></i>\n              </button>\n          </div>\n      `},minWidth:100,widthGrow:2,editor:"input",cellClick:(u,g)=>{if(u.target.closest(".access-btn")){u.stopPropagation();const b=g.getRow().getData();this.router.navigate([`/main/projects/projects-content/${this.projectid}/1`],{queryParams:{phaseid:b.id}}),sessionStorage.setItem("activeProjectTab","subtasks")}}},{title:"Type",field:"phase_type",formatter:function(u){const g=u.getValue(),_={Internal:{cls:"type-internal",icon:"ri-building-2-fill"},External:{cls:"type-external",icon:"ri-global-line"}}[g]||{cls:"type-default",icon:"ri-information-fill"};return`\n        <span class="type-badge ${_.cls}">\n          <i class="${_.icon}"></i>\n          ${g}\n        </span>\n      `},hozAlign:"center",editor:"list",editorParams:{values:["Internal","External"]}},{title:"Owner",field:"assignee",formatter:function(u,g){const b=u.getValue();if(!b||Array.isArray(b)&&0===b.length)return"";const _=Array.isArray(b)?b:[b],w=document.createElement("div");w.className="chip-container";const C=["bg-blue","bg-purple","bg-pink","bg-indigo","bg-teal"];return _.forEach(M=>{const L=g.lookup[M]||"Unknown",N=L?L.charAt(0).toUpperCase():"?",ce=C[M%C.length],De=document.createElement("div");De.className="flex-row",De.innerHTML=`\n            <div class="avatar-circle ${ce}">${N}</div>\n            <span class="text-main truncate">${L}</span>\n        `,w.appendChild(De)}),w},editor:"list",formatterParams:{lookup:this.commonService.formatForTabulatorObj(this.employeeList,"id","employee_name")},editorParams:{values:this.commonService.formatForTabulatorObj(this.employeeList,"id","employee_name"),autocomplete:!0,clearable:!0,listOnEmpty:!0,itemFormatter:function(u,g,b,_){if(!u)return"";let w=0;for(let N=0;N<u.length;N++)w=u.charCodeAt(N)+((w<<5)-w);const C=["bg-blue","bg-purple","bg-pink","bg-indigo","bg-teal"],M=C[(b.value||0)%C.length],L=u.split(" ").map(N=>N[0]).slice(0,2).join("");return _&&(_.title="Click to toggle selection"),`\n      <div class="user">\n          <div class="avatar-circle ${M}">${L}</div>\n          <span class="text-main truncate">${u}</span>\n      </div>\n      `}}},{title:"Status",field:"status",formatter:function(u){const g=u.getValue();return`<span class="${g}">\n                <i class="${({Open:{cls:"status-open",icon:"ri-door-open-fill"},"In Progress":{cls:"status-inprogress",icon:"ri-loader-4-fill"},"In Review":{cls:"status-review",icon:"ri-search-eye-fill"},"To be Tested":{cls:"status-testing",icon:"ri-flask-fill"},"On Hold":{cls:"status-hold",icon:"ri-pause-circle-fill"},Delayed:{cls:"status-delayed",icon:"ri-timer-2-fill"},Closed:{cls:"status-closed",icon:"ri-checkbox-circle-fill"},Cancelled:{cls:"status-cancelled",icon:"ri-close-circle-fill"}}[g]||{cls:"status-default",icon:"ri-information-fill"}).icon}"></i> ${g}\n              </span>`},hozAlign:"center",editor:"list",editorParams:{values:this.statusList}},{title:"Start Date",field:"start_date",formatter:a,editor:"date",editorParams:{format:"yyyy-MM-dd"}},{title:"Due Date",field:"end_date",formatter:a,width:140,editor:"date",editorParams:{format:"yyyy-MM-dd"}},{title:"project name",field:"project_name"},{title:"remark",field:"remark",editor:"textarea"},{title:"Created",field:"createddate",sorter:"datetime"},{title:"Updated",field:"updateddate",sorter:"datetime"},{title:"Actions",field:"actions",headerSort:!1,frozen:!0,hozAlign:"center",formatter:()=>'\n            <button \n              style="border:none;background:transparent;cursor:pointer;padding:4px;">\n              <i class="ri-edit-2-line edit" style="font-size:18px;color:#1976d2;"></i>\n            </button>\n          ',cellClick:(u,g)=>{const b=g.getRow().getData();u.target.classList.contains("edit")&&(this.selectPhase=b,this.patchPhaseForm(b),this.toggleSideTab())}}];const d={data:this.Phases,columns:this.columns,movableColumns:!0,resizableRows:!0,movableRows:!0,pagination:"local",paginationSize:15,editTriggerEvent:"dblclick",paginationSizeSelector:[5,10,15,25,35,45,100],columnDefaults:{tooltip:!0},groupBy:i,resizableColumnFit:!0,layout:"fitDataStretch",groupStartOpen:!0,groupHeader:function(u,g,b,_){return`\n              <div class="flex-row">\n                  <i class="ri-stack-line" style="color: var(--primary); font-size: 16px;"></i>\n                  <span class="text-main text-bold">${u||"Unassigned"}</span>\n                  <span class="text-muted" style="font-weight: 400;">(${g} Phases)</span>\n              </div>\n          `}};this.table=new Ml(this.el.nativeElement.querySelector(".tabulator-table-task"),d),this.table.on("cellEdited",u=>{this.selectPhase=u.getRow().getData(),"assigned_to_name"===u.getField()&&(this.selectPhase.assigned_to=u.getValue()),this.updatePhase(),("project_title"===u.getField()||"manager_name"===u.getField())&&u.getRow().reformat()})}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(It),O(ir),O(rs),O(xo),O(Cn),O(ta),O(Xi),O(Jt))},t.\u0275cmp=Qe({type:t,selectors:[["app-phases"]],viewQuery:function(r,o){if(1&r&&Xn(wo,5),2&r){let s;ln(s=cn())&&(o.viewSelector=s.first)}},decls:128,vars:22,consts:[[2,"margin-bottom","15px","font-size","15px"],[2,"margin-bottom","1em",3,"btntext","viewOptions","toggleSideTab","selectionChange"],[1,"theme-grid",2,"padding-top","1em"],[1,"tabulator-table-task"],["class","filter-backdrop",3,"click",4,"ngIf"],[1,"filter-drawer"],[1,"drawer-header"],[1,"header-content"],[1,"icon-btn","close-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"drawer-content"],[1,"page-container"],[1,"main-form",3,"formGroup"],[1,"form-section"],[1,"section-title"],[1,"fields-grid"],[1,"form-group"],[2,"position","relative"],[1,"required"],[1,"select-wrapper"],["formControlName","projectid"],["disabled","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["viewBox","0 0 24 24",1,"select-arrow"],["d","M7 10l5 5 5-5z","fill","currentColor"],["class","error-msg",4,"ngIf"],[1,"form-group","full-width-desktop"],["formControlName","phase_title","rows","4","placeholder","Describe the goals..."],["formControlName","phase_type"],["value","Internal"],["value","External"],["type","date","formControlName","start_date"],["type","date","formControlName","end_date"],["formControlName","assignee"],["formControlName","status"],["type","text","formControlName","version","placeholder","e.g. v1.0.0"],[1,"divider"],["formControlName","remark","rows","4","placeholder","Describe the project goals..."],[1,"drawer-footer"],[1,"header-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"filter-backdrop",3,"click"],[3,"value"],[1,"error-msg"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"app-table-filter",1),ee("toggleSideTab",function(a){return o.toggleSideTab(a)})("selectionChange",function(a){return o.onViewSelected(a)}),p(),f(2,"div",2),I(3,"div",3),p()(),U(4,_G,1,0,"div",4),f(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1"),v(9),p(),f(10,"p"),v(11),p()(),f(12,"button",8),ee("click",function(){return o.toggleSideTab()}),ke(),f(13,"svg",9),I(14,"line",10)(15,"line",11),p()()(),Re(),f(16,"div",12)(17,"div",13)(18,"form",14)(19,"section",15)(20,"h2",16),v(21,"Phase Details"),p(),f(22,"div",17)(23,"div",18)(24,"div",19)(25,"label"),v(26,"Project "),f(27,"span",20),v(28,"*"),p()(),f(29,"div",21)(30,"select",22)(31,"option",23),v(32,"Select Manager"),p(),U(33,yG,2,2,"option",24),p(),ke(),f(34,"svg",25),I(35,"path",26),p()(),U(36,xG,2,0,"div",27),p()(),Re(),f(37,"div",28)(38,"div",19)(39,"label"),v(40,"Phase title "),f(41,"span",20),v(42,"*"),p()(),I(43,"textarea",29),U(44,wG,2,0,"div",27),p()(),f(45,"div",18)(46,"div",19)(47,"label"),v(48,"Phase Type "),f(49,"span",20),v(50,"*"),p()(),f(51,"div",21)(52,"select",30)(53,"option",23),v(54,"Select Type"),p(),f(55,"option",31),v(56,"Internal"),p(),f(57,"option",32),v(58,"External"),p()(),ke(),f(59,"svg",25),I(60,"path",26),p()(),U(61,CG,2,0,"div",27),p()(),Re(),f(62,"div",18)(63,"div",19)(64,"label"),v(65,"Start Date "),f(66,"span",20),v(67,"*"),p()(),I(68,"input",33),U(69,EG,2,0,"div",27),p()(),f(70,"div",18)(71,"div",19)(72,"label"),v(73,"End Date "),f(74,"span",20),v(75,"*"),p()(),I(76,"input",34),U(77,MG,2,0,"div",27),p()(),f(78,"div",18)(79,"div",19)(80,"label"),v(81,"Assignee "),f(82,"span",20),v(83,"*"),p()(),f(84,"div",21)(85,"select",35)(86,"option",23),v(87,"Select Assignee"),p(),U(88,DG,2,2,"option",24),p(),ke(),f(89,"svg",25),I(90,"path",26),p()(),U(91,SG,2,0,"div",27),p()(),Re(),f(92,"div",18)(93,"div",19)(94,"label"),v(95,"Status "),f(96,"span",20),v(97,"*"),p()(),f(98,"div",21)(99,"select",36)(100,"option",23),v(101,"Select Status"),p(),U(102,TG,2,2,"option",24),p(),ke(),f(103,"svg",25),I(104,"path",26),p()(),U(105,kG,2,0,"div",27),p()(),Re(),f(106,"div",18)(107,"div",19)(108,"label"),v(109,"Version "),p(),I(110,"input",37),p()()()(),I(111,"hr",38),f(112,"section",15)(113,"h2",16),v(114,"Additional Details"),p(),f(115,"div",17)(116,"div",28)(117,"div",19)(118,"label"),v(119,"Remarks "),p(),I(120,"textarea",39),p()()(),I(121,"br"),p()()(),f(122,"div",40)(123,"div",41)(124,"button",42),ee("click",function(){return o.onCancel()}),v(125,"Cancel"),p(),f(126,"button",43),ee("click",function(){return o.onSubmit()}),v(127,"Save"),p()()()()()),2&r&&(x(1),D("btntext","")("viewOptions",o.viewOptions),x(3),D("ngIf",o.isFilterOpen),x(1),Fe("open",o.isFilterOpen),x(4),Ae(o.isEditMode?"Update Phase":"Create New Phase"),x(2),Ge(" ",o.isEditMode?"Modify task details, assignments, and deadlines":"Define the task scope, timeline, and assign team members"," "),x(7),D("formGroup",o.phaseForm),x(13),D("ngValue",null),x(2),D("ngForOf",o.projectList),x(3),D("ngIf",(null==o.rf.projectid?null:o.rf.projectid.invalid)&&((null==o.rf.projectid?null:o.rf.projectid.dirty)||(null==o.rf.projectid?null:o.rf.projectid.touched))),x(8),D("ngIf",(null==o.rf.phase_title?null:o.rf.phase_title.invalid)&&((null==o.rf.phase_title?null:o.rf.phase_title.dirty)||(null==o.rf.phase_title?null:o.rf.phase_title.touched))),x(9),D("ngValue",null),x(8),D("ngIf",(null==o.rf.phase_type?null:o.rf.phase_type.invalid)&&((null==o.rf.phase_type?null:o.rf.phase_type.dirty)||(null==o.rf.phase_type?null:o.rf.phase_type.touched))),x(8),D("ngIf",(null==o.rf.start_date?null:o.rf.start_date.invalid)&&((null==o.rf.start_date?null:o.rf.start_date.dirty)||(null==o.rf.start_date?null:o.rf.start_date.touched))),x(8),D("ngIf",(null==o.rf.end_date?null:o.rf.end_date.invalid)&&((null==o.rf.end_date?null:o.rf.end_date.dirty)||(null==o.rf.end_date?null:o.rf.end_date.touched))),x(9),D("ngValue",null),x(2),D("ngForOf",o.employeeList),x(3),D("ngIf",(null==o.rf.assignee?null:o.rf.assignee.invalid)&&((null==o.rf.assignee?null:o.rf.assignee.dirty)||(null==o.rf.assignee?null:o.rf.assignee.touched))),x(9),D("ngValue",null),x(2),D("ngForOf",o.statusList),x(3),D("ngIf",(null==o.rf.status?null:o.rf.status.invalid)&&((null==o.rf.status?null:o.rf.status.dirty)||(null==o.rf.status?null:o.rf.status.touched))))},dependencies:[Hi,ki,wo,vo,is,ns,Bn,yo,yr,bo,xr,_o],styles:['.page-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;width:100%;box-sizing:border-box;padding-bottom:20px}.drawer-footer[_ngcontent-%COMP%]{flex-shrink:0;background:var(--surface);border-top:1px solid var(--border);padding:16px 24px;display:flex;justify-content:flex-end;align-items:center;z-index:10;box-shadow:0 -4px 10px #00000008}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.form-header[_ngcontent-%COMP%]{margin-bottom:32px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0 0 6px;color:var(--text-main)}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);font-size:14px}@media (min-width: 640px){.btn[_ngcontent-%COMP%]{flex:0 0 auto;min-width:120px}}.main-form[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow-sm)}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0 0 24px;color:var(--primary);display:flex;align-items:center;padding-bottom:8px;border-bottom:1px solid transparent}.divider[_ngcontent-%COMP%]{border:0;height:1px;background:var(--border);margin:32px 0}.fields-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;align-items:start}.three-col[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.full-width-desktop[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:0;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-main)}.required[_ngcontent-%COMP%]{color:var(--error-color)}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px 14px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg-body);color:var(--text-main);font-size:14px;width:100%;box-sizing:border-box;transition:border-color .2s,box-shadow .2s;font-family:inherit;min-height:44px}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:var(--surface);box-shadow:0 0 0 3px #2563eb1a}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, .disabled-input[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#9ca3af;cursor:not-allowed;opacity:.7}.readonly-input[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#6b7280;cursor:not-allowed}.select-wrapper[_ngcontent-%COMP%]{position:relative}select[_ngcontent-%COMP%]{appearance:none;padding-right:36px}.select-arrow[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:14px;height:14px;color:var(--text-muted);pointer-events:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.error-msg[_ngcontent-%COMP%]{font-size:.75rem;color:var(--error-color);margin-top:3px;font-weight:300;position:absolute}input.ng-invalid.ng-touched[_ngcontent-%COMP%], select.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:var(--error-color)}.trigger-actions[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:6px}.count-badge[_ngcontent-%COMP%]{background:var(--primary-light);color:var(--primary);font-size:10px;font-weight:700;padding:2px 6px;border-radius:99px}.placeholder-text[_ngcontent-%COMP%]{color:var(--text-muted);padding-left:6px;font-size:14px}.chips-container[_ngcontent-%COMP%]{display:contents}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:var(--surface);color:var(--text-main);border:1px solid var(--border);font-size:13px;font-weight:500;padding:4px 8px 4px 4px;border-radius:99px;box-shadow:0 1px 2px #0000000d;transition:background .1s}.chip-avatar[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:700}.chip-remove[_ngcontent-%COMP%]{cursor:pointer;color:var(--text-muted);font-size:16px;width:16px;height:16px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.chip-remove[_ngcontent-%COMP%]:hover{color:var(--error-color);background:#FEF2F2}.dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:99;cursor:default}.multi-select-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;max-height:300px;overflow:hidden;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-top:6px;box-shadow:var(--shadow-lg);z-index:100;display:flex;flex-direction:column}.dropdown-search[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid var(--border);position:relative}.dropdown-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:32px;height:36px;border-color:transparent;background:var(--bg-body)}.dropdown-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary);background:var(--surface)}.dropdown-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);width:16px;color:var(--text-muted);pointer-events:none}.options-list[_ngcontent-%COMP%]{overflow-y:auto;flex:1;padding:4px 0}.option-item[_ngcontent-%COMP%]{padding:8px 12px;display:flex;align-items:center;gap:12px;cursor:pointer;transition:background .1s}.option-item[_ngcontent-%COMP%]:hover{background:var(--bg-body)}.option-item.selected[_ngcontent-%COMP%]{background:var(--primary-light)}.option-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#E0E7FF;color:var(--primary);display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;flex-shrink:0}.option-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;line-height:1.3}.option-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-main)}.option-role[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted)}.checkbox-custom[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:6px;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;color:#fff;transition:all .2s}.option-item.selected[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]{background:var(--primary);border-color:var(--primary)}.checkbox-custom[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.no-results[_ngcontent-%COMP%]{padding:16px;text-align:center;color:var(--text-muted);font-size:13px}.toggles-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:30px;margin-top:24px}.toggle-group[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;flex:1;min-width:250px}.toggle-label[_ngcontent-%COMP%]{display:flex;flex-direction:column}.toggle-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-main)}.toggle-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted);line-height:1.4}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px;flex-shrink:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--border);transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--primary)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}@media (max-width: 768px){.page-container[_ngcontent-%COMP%], .main-form[_ngcontent-%COMP%]{padding:16px}.fields-grid[_ngcontent-%COMP%], .three-col[_ngcontent-%COMP%]{gap:16px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.header-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;width:100%}.btn[_ngcontent-%COMP%]{width:100%}}.icon-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:transparent;border:none;border-radius:var(--radius);color:var(--text-muted);cursor:pointer;transition:all .2s}']}),n})(),OG=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-time-logs"]],decls:2,vars:0,template:function(r,o){1&r&&(f(0,"p"),v(1,"time-logs works!"),p())}}),n})(),PG=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-timesheet"]],decls:2,vars:0,template:function(r,o){1&r&&(f(0,"p"),v(1,"timesheet works!"),p())}}),n})(),jS=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-documents"]],decls:2,vars:0,template:function(r,o){1&r&&(f(0,"p"),v(1,"documents works!"),p())}}),n})(),RG=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Qe({type:t,selectors:[["app-issues"]],decls:1,vars:1,consts:[[3,"type"]],template:function(r,o){1&r&&I(0,"app-tasks",0),2&r&&D("type","bug")},dependencies:[HS]}),n})();function FG(n,t){1&n&&I(0,"app-dashboard")}function IG(n,t){1&n&&I(0,"app-tasks")}function LG(n,t){1&n&&I(0,"app-users")}function NG(n,t){1&n&&I(0,"app-reports")}function BG(n,t){1&n&&I(0,"app-phases")}function VG(n,t){1&n&&I(0,"app-time-logs")}function zG(n,t){1&n&&I(0,"app-timesheet")}function HG(n,t){1&n&&I(0,"app-documents")}function jG(n,t){1&n&&I(0,"app-issues")}function UG(n,t){1&n&&(f(0,"div"),v(1,"Select a tab"),p())}let $G=(()=>{const t=class{constructor(i){this.layoutService=i,this.activeProjectTab=""}ngOnInit(){const i=localStorage.getItem("projectDetails");this.projectDetails=i?JSON.parse(i):null}ngAfterViewInit(){Promise.resolve().then(()=>{this.layoutService.initResponsiveTabs(),this.activeProjectTab=sessionStorage.getItem("activeProjectTab")||"tasks"})}setActiveTab(i){this.activeProjectTab=i}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(Ks))},t.\u0275cmp=Qe({type:t,selectors:[["app-projects-content"]],decls:37,vars:11,consts:[[1,"card"],[2,"margin-bottom","15px"],[1,"tabs-wrapper"],["id","tab-list",1,"tab-list"],["data-id","dashboard",1,"tab-item",3,"click"],["data-id","tasks",1,"tab-item",3,"click"],["data-id","users",1,"tab-item",3,"click"],["data-id","reports",1,"tab-item",3,"click"],["data-id","phases",1,"tab-item",3,"click"],["data-id","time-logs",1,"tab-item",3,"click"],["data-id","timesheet",1,"tab-item",3,"click"],["data-id","documents",1,"tab-item",3,"click"],["data-id","issues",1,"tab-item",3,"click"],["id","tab-more",1,"tab-more"],[1,"ri-more-fill"],["id","more-dropdown",1,"more-dropdown"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"h2",1),v(2),p(),f(3,"div",2)(4,"div",3)(5,"div",4),ee("click",function(){return o.setActiveTab("dashboard")}),v(6,"Dashboard"),p(),f(7,"div",5),ee("click",function(){return o.setActiveTab("tasks")}),v(8,"Tasks"),p(),f(9,"div",6),ee("click",function(){return o.setActiveTab("users")}),v(10,"Users"),p(),f(11,"div",7),ee("click",function(){return o.setActiveTab("reports")}),v(12,"Reports"),p(),f(13,"div",8),ee("click",function(){return o.setActiveTab("phases")}),v(14,"Phases"),p(),f(15,"div",9),ee("click",function(){return o.setActiveTab("time-logs")}),v(16,"Time Logs"),p(),f(17,"div",10),ee("click",function(){return o.setActiveTab("timesheet")}),v(18,"Timesheet"),p(),f(19,"div",11),ee("click",function(){return o.setActiveTab("documents")}),v(20,"Documents"),p(),f(21,"div",12),ee("click",function(){return o.setActiveTab("issues")}),v(22,"Issues"),p()(),f(23,"div",13),I(24,"i",14)(25,"div",15),p()(),Ir(26,16),U(27,FG,1,0,"app-dashboard",17),U(28,IG,1,0,"app-tasks",17),U(29,LG,1,0,"app-users",17),U(30,NG,1,0,"app-reports",17),U(31,BG,1,0,"app-phases",17),U(32,VG,1,0,"app-time-logs",17),U(33,zG,1,0,"app-timesheet",17),U(34,HG,1,0,"app-documents",17),U(35,jG,1,0,"app-issues",17),U(36,UG,2,0,"div",18),Lr(),p()),2&r&&(x(2),Ae(null==o.projectDetails?null:o.projectDetails.project_title),x(24),D("ngSwitch",o.activeProjectTab),x(1),D("ngSwitchCase","dashboard"),x(1),D("ngSwitchCase","tasks"),x(1),D("ngSwitchCase","users"),x(1),D("ngSwitchCase","reports"),x(1),D("ngSwitchCase","phases"),x(1),D("ngSwitchCase","time-logs"),x(1),D("ngSwitchCase","timesheet"),x(1),D("ngSwitchCase","documents"),x(1),D("ngSwitchCase","issues"))},dependencies:[Vc,nb,rb,UW,HS,bG,vG,AG,OG,PG,jS,RG]}),n})();function WG(n,t){if(1&n&&(f(0,"option",33),v(1),p()),2&n){const e=t.$implicit;D("value",e.id),x(1),Ge(" ",e.task," ")}}function GG(n,t){if(1&n){const e=Tt();f(0,"div")(1,"div",34)(2,"span",35),v(3),p(),f(4,"div",36)(5,"span",37),v(6),p(),f(7,"span"),v(8,"\u2022"),p(),f(9,"span"),v(10),mr(11,"date"),p(),f(12,"div",38)(13,"button",39),ee("click",function(){const o=$e(e).$implicit;return We(ue().edit(o))}),v(14,"\u270e"),p(),f(15,"button",40),ee("click",function(){const o=$e(e).$implicit;return We(ue().delete(o.id))}),v(16,"\u2715"),p()()()(),f(17,"div",41),v(18),p()()}if(2&n){const e=t.$implicit;(function uw(n,t,e){pr(Tn,Br,Ka(fe(),n,t,e),!0)})("feed-item status-indicator-",ue().getStatus(e.completion_percentage),""),x(3),Ae(e.task),x(3),Ae(e.worked_hours),x(4),Ae(Oc(11,7,e.date,"MMM d")),x(8),Ge(" ",e.comments," ")}}function qG(n,t){1&n&&(f(0,"div",42),v(1," No entries. "),p())}let YG=(()=>{const t=class{constructor(i,r,o,s){this.fb=i,this.authService=r,this.toasterService=o,this.storageService=s,this.date=new Date,this.projects=[],this.selectedDsr={},this.data=[],this.currFilter="all",this.editId=null,this.taskForm=this.fb.group({id:[0],subtaskid:[{value:null,disabled:!0},Ie.required],worked_hours:["08:00:00",Ie.required],comments:["",Ie.required],completion_percentage:[25,Ie.required],username:[this.storageService.getUsername()],date:[this.formattedDate]}),this.FILTER_RANGES={green:{min:70,max:100},amber:{min:30,max:69},red:{min:0,max:29}}}ngOnInit(){this.patchTask(),this.getDsrDetailsBySubtaskId()}ngOnChanges(i){i.selectedTask&&this.patchTask()}patchTask(){this.selectedTask?.id&&this.taskForm.patchValue({subtaskid:this.selectedTask.id,date:this.formattedDate,username:this.storageService.getUsername()})}get filteredData(){if("all"===this.currFilter)return this.data;const i=this.FILTER_RANGES[this.currFilter];return this.data.filter(r=>r.completion_percentage>=i.min&&r.completion_percentage<=i.max)}get totalTime(){const i=this.filteredData.reduce((r,o)=>r+this.timeToSeconds(o.worked_hours),0);return this.secondsToTime(i)}getProgressColor(){const i=this.taskForm.get("completion_percentage")?.value||0;return i<30?"var(--color-low)":i<70?"var(--color-med)":"var(--color-high)"}setCompletion(i){this.taskForm.patchValue({completion_percentage:i})}getStatus(i){return i<30?"red":i<70?"amber":"green"}timeToSeconds(i){if(!i)return 0;const r=i.split(":").map(Number);return 3===r.length?3600*r[0]+60*r[1]+r[2]:3600*r[0]+60*r[1]}secondsToTime(i){return[Math.floor(i/3600),Math.floor(i%3600/60),i%60].map(a=>a.toString().padStart(2,"0")).join(":")}submit(){if(this.taskForm.invalid)return;const i=this.taskForm.getRawValue(),r=this.editId?{...this.selectedDsr,...i,id:this.editId}:{...i};this.authService.createDailyStatus(r).subscribe({next:o=>{this.toasterService.success(o?.message),this.getDsrDetailsBySubtaskId(),this.resetForm(r.subtaskid)},error:o=>{this.toasterService.error(o?.error?.message)}})}resetForm(i){this.editId=null,this.taskForm.reset({subtaskid:i,worked_hours:"08:00:00",completion_percentage:25,comments:"",username:this.storageService.getUsername(),date:this.formattedDate}),this.taskForm.get("subtaskid")?.disable()}edit(i){this.editId=i.id,this.selectedDsr=i,console.log(i),this.taskForm.patchValue({worked_hours:i.worked_hours,comments:i.comments,completion_percentage:i.completion_percentage})}delete(i){Xs().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&this.authService.deleteDsr(this.storageService.getUsername(),i).subscribe({next:o=>{this.toasterService.success(o?.message),this.data=this.data.filter(s=>s.id!==i),this.editId===i&&(this.editId=null)},error:o=>{this.toasterService.success(o?.error?.message)}})})}get formattedDate(){const i=this.date,r=String(i.getMonth()+1).padStart(2,"0"),o=String(i.getDate()).padStart(2,"0");return`${i.getFullYear()}-${r}-${o}`}getDsrDetailsBySubtaskId(){this.authService.getDsrDetailsBySubtaskId(this.selectedTask?.id).subscribe({next:i=>{this.data=i}})}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(rs),O(Cn),O(xo),O(Xi))},t.\u0275cmp=Qe({type:t,selectors:[["app-status-log"]],inputs:{projects:"projects",selectedTask:"selectedTask"},features:[je],decls:59,vars:33,consts:[[1,"widget-card"],[1,"header-section"],[1,"header-title"],[1,"header-stats"],[1,"composer-area",3,"formGroup"],[1,"form-row"],["type","date","formControlName","date",1,"input-control","input-time",3,"value"],["formControlName","subtaskid","readonly","",1,"input-control","input-select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","time","step","1","formControlName","worked_hours",1,"input-control","input-time"],["placeholder","Update details...","formControlName","comments",1,"textarea-control"],[1,"toolbar-actions"],[1,"status-picker"],[1,"form-group",2,"width","100%"],[2,"margin","0","font-size","14px","font-weight","700","color","var(--primary)"],[1,"progress-card"],[1,"progress-header"],[1,"prog-title"],[1,"prog-val"],[1,"custom-slider-wrapper"],[1,"track"],[1,"fill"],["type","range","min","0","max","100","formControlName","completion_percentage",1,"overlay-range"],[1,"presets"],["type","button",1,"btn-preset",3,"click"],[2,"display","flex","justify-content","end"],["type","button",1,"btn-primary",3,"disabled","click"],[1,"nav-filters"],[1,"nav-item",3,"click"],[1,"feed-container"],[3,"class",4,"ngFor","ngForOf"],["class","empty",4,"ngIf"],[3,"value"],[1,"item-header"],[1,"item-title"],[1,"item-meta"],[1,"badge-duration"],[1,"item-actions"],[1,"btn-icon-action",3,"click"],[1,"btn-icon-action","is-delete",3,"click"],[1,"item-content"],[1,"empty"]],template:function(r,o){if(1&r&&(f(0,"div",0)(1,"div",1)(2,"h2",2),v(3,"Updates"),p(),f(4,"span",3),v(5),p()(),f(6,"form",4)(7,"div",5),I(8,"input",6),p(),f(9,"div",5)(10,"select",7)(11,"option",8),v(12,"Select Task"),p(),U(13,WG,2,2,"option",9),p(),I(14,"input",10),p(),f(15,"textarea",11),v(16,"      "),p(),f(17,"div",12)(18,"div",13)(19,"div",14)(20,"label",15),v(21,"PROGRESS"),p(),f(22,"div",16)(23,"div",17)(24,"span",18),v(25,"Completed"),p(),f(26,"span",19),v(27),p()(),f(28,"div",20)(29,"div",21),I(30,"div",22),p(),I(31,"input",23),p(),f(32,"div",24)(33,"button",25),ee("click",function(){return o.setCompletion(0)}),v(34,"0%"),p(),f(35,"button",25),ee("click",function(){return o.setCompletion(25)}),v(36,"25%"),p(),f(37,"button",25),ee("click",function(){return o.setCompletion(50)}),v(38,"50%"),p(),f(39,"button",25),ee("click",function(){return o.setCompletion(75)}),v(40,"75%"),p(),f(41,"button",25),ee("click",function(){return o.setCompletion(100)}),v(42,"100%"),p()()()()(),I(43,"br"),f(44,"div",26)(45,"button",27),ee("click",function(){return o.submit()}),v(46),p()()()(),f(47,"div",28)(48,"span",29),ee("click",function(){return o.currFilter="all"}),v(49," All "),p(),f(50,"span",29),ee("click",function(){return o.currFilter="green"}),v(51," Done "),p(),f(52,"span",29),ee("click",function(){return o.currFilter="amber"}),v(53," Pending "),p(),f(54,"span",29),ee("click",function(){return o.currFilter="red"}),v(55," On Track "),p()(),f(56,"div",30),U(57,GG,19,10,"div",31),U(58,qG,2,0,"div",32),p()()),2&r){let s,a,l,c,d,u,g;x(5),Ge("",o.totalTime," Total"),x(1),D("formGroup",o.taskForm),x(2),D("value",o.date),x(5),D("ngForOf",o.projects),x(13),sn("color",o.getProgressColor()),x(1),Ge(" ",null==(s=o.taskForm.get("completion_percentage"))?null:s.value,"% "),x(3),sn("width",null==(a=o.taskForm.get("completion_percentage"))?null:a.value,"%")("background-color",o.getProgressColor()),x(3),Fe("active",0===(null==(l=o.taskForm.get("completion_percentage"))?null:l.value)),x(2),Fe("active",25===(null==(c=o.taskForm.get("completion_percentage"))?null:c.value)),x(2),Fe("active",50===(null==(d=o.taskForm.get("completion_percentage"))?null:d.value)),x(2),Fe("active",75===(null==(u=o.taskForm.get("completion_percentage"))?null:u.value)),x(2),Fe("active",100===(null==(g=o.taskForm.get("completion_percentage"))?null:g.value)),x(4),D("disabled",o.taskForm.invalid),x(1),Ge(" ",o.editId?"Update":"Add"," "),x(2),Fe("is-active","all"===o.currFilter),x(2),Fe("is-active","green"===o.currFilter),x(2),Fe("is-active","amber"===o.currFilter),x(2),Fe("is-active","red"===o.currFilter),x(3),D("ngForOf",o.filteredData),x(1),D("ngIf",0===o.filteredData.length)}},dependencies:[Hi,ki,vo,is,ns,Bn,Rf,yo,yr,bo,xr,_o,yh],styles:['[_nghost-%COMP%]{--status-green: #22c55e;--status-amber: #f59e0b;--status-red: #ef4444;height:100vh}*[_ngcontent-%COMP%]{box-sizing:border-box;outline:none}.widget-card[_ngcontent-%COMP%]{width:100%;height:90vh;background:var(--bg-body);border:1px solid var(--border);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;display:flex;flex-direction:column;overflow:hidden}.header-section[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid var(--border);background:#fff;display:flex;justify-content:space-between;align-items:center}.header-section[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700;color:var(--primary)}.header-section[_ngcontent-%COMP%]   .header-stats[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:var(--text-muted);font-variant-numeric:tabular-nums}.composer-area[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid var(--border);background:#fff}.composer-area[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:10px}.composer-area[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]{width:100%;padding:8px;font-size:13px;color:var(--text-main);background:#fff;border:2px solid var(--border);border-radius:6px;transition:border-color .2s}.composer-area[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.composer-area[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.composer-area[_ngcontent-%COMP%]   .input-select[_ngcontent-%COMP%]{flex:2;cursor:pointer}.composer-area[_ngcontent-%COMP%]   .input-time[_ngcontent-%COMP%]{flex:1;text-align:center;font-variant-numeric:tabular-nums}.composer-area[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]{width:100%;height:60px;resize:vertical;padding:10px;font-size:13px;font-family:inherit;border:2px solid var(--border);border-radius:6px;margin-bottom:12px}.composer-area[_ngcontent-%COMP%]   .textarea-control[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.toolbar-actions[_ngcontent-%COMP%]{align-items:end}.toolbar-actions[_ngcontent-%COMP%]   .status-picker[_ngcontent-%COMP%]{display:flex;gap:8px}.toolbar-actions[_ngcontent-%COMP%]   .status-picker[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;cursor:pointer;opacity:.4;transition:all .2s}.toolbar-actions[_ngcontent-%COMP%]   .status-picker[_ngcontent-%COMP%]   .status-dot.is-active[_ngcontent-%COMP%]{opacity:1;transform:scale(1.1)}.toolbar-actions[_ngcontent-%COMP%]   .status-picker[_ngcontent-%COMP%]   .status-dot.is-green[_ngcontent-%COMP%]{background:var(--status-green)}.toolbar-actions[_ngcontent-%COMP%]   .status-picker[_ngcontent-%COMP%]   .status-dot.is-amber[_ngcontent-%COMP%]{background:var(--status-amber)}.toolbar-actions[_ngcontent-%COMP%]   .status-picker[_ngcontent-%COMP%]   .status-dot.is-red[_ngcontent-%COMP%]{background:var(--status-red)}.toolbar-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border:none;padding:6px 16px;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer}.toolbar-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{background:var(--text-muted);opacity:.5;cursor:default}.progress-card[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem}.progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.prog-title[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:#6b7280}.prog-val[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;transition:color .3s ease}.custom-slider-wrapper[_ngcontent-%COMP%]{position:relative;height:24px;margin-bottom:1.25rem;display:flex;align-items:center}.track[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.fill[_ngcontent-%COMP%]{height:100%;background-color:var(--primary);border-radius:4px;transition:width .1s linear,background-color .3s ease}.overlay-range[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer;margin:0}.presets[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:space-between;flex-wrap:wrap}.btn-preset[_ngcontent-%COMP%]{flex:1;min-width:45px;padding:6px 0;background:#ffffff;border:1px solid var(--border);border-radius:4px;font-size:.75rem;font-weight:600;color:#6b7280;cursor:pointer;transition:all .2s}.btn-preset[_ngcontent-%COMP%]:hover{border-color:#d1d5db;background:#f3f4f6;color:var(--text-input)}.btn-preset.active[_ngcontent-%COMP%]{background:var(--primary);color:#fff}.nav-filters[_ngcontent-%COMP%]{padding:10px 20px;border-bottom:1px solid var(--border);background:#fff;display:flex;gap:12px}.nav-filters[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:var(--text-muted);cursor:pointer}.nav-filters[_ngcontent-%COMP%]   .nav-item.is-active[_ngcontent-%COMP%]{color:var(--primary);font-weight:700;text-decoration:underline}.feed-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#fafafa}.feed-container[_ngcontent-%COMP%]   .feed-item[_ngcontent-%COMP%]{position:relative;padding:16px 20px;background:#fff;border-bottom:1px solid var(--border-color)}.feed-container[_ngcontent-%COMP%]   .feed-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px}.feed-container[_ngcontent-%COMP%]   .feed-item.status-indicator-green[_ngcontent-%COMP%]:before{background:var(--status-green)}.feed-container[_ngcontent-%COMP%]   .feed-item.status-indicator-amber[_ngcontent-%COMP%]:before{background:var(--status-amber)}.feed-container[_ngcontent-%COMP%]   .feed-item.status-indicator-red[_ngcontent-%COMP%]:before{background:var(--status-red)}.feed-container[_ngcontent-%COMP%]   .feed-item[_ngcontent-%COMP%]:hover   .item-header[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{opacity:1}.feed-container[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:6px;font-size:12px}.feed-container[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--primary)}.feed-container[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;color:var(--text-muted)}.feed-container[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .badge-duration[_ngcontent-%COMP%]{font-family:monospace;background:#f1f5f9;padding:2px 6px;border-radius:4px;font-size:11px;color:#475569}.feed-container[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;gap:4px;opacity:0;transition:opacity .2s}.feed-container[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .btn-icon-action[_ngcontent-%COMP%]{background:none;border:none;padding:4px;cursor:pointer;color:var(--text-muted)}.feed-container[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .btn-icon-action[_ngcontent-%COMP%]:hover{color:var(--primary)}.feed-container[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .btn-icon-action.is-delete[_ngcontent-%COMP%]:hover{color:#ef4444}.feed-container[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;color:#475569}.feed-container[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{text-align:center;padding:20px;font-size:13px;color:#cbd5f5}']}),n})();function KG(n,t){if(1&n){const e=Tt();f(0,"div",7),ee("click",function(){$e(e);const r=ue();return r.toggleSideTab(),We(r.drawerType="filter")}),p()}}function XG(n,t){1&n&&(f(0,"div",42),v(1," Task name is required. "),p())}function ZG(n,t){1&n&&(f(0,"div",42),v(1," Priority is required. "),p())}function QG(n,t){if(1&n&&(f(0,"option",43),v(1),p()),2&n){const e=t.$implicit;D("value",e),x(1),Ge("",e," ")}}function JG(n,t){1&n&&(f(0,"div",42),v(1," Status is required. "),p())}function eq(n,t){1&n&&(f(0,"div",42),v(1," Start date is required. "),p())}function tq(n,t){1&n&&(f(0,"div",42),v(1," End date is required. "),p())}function iq(n,t){if(1&n){const e=Tt();f(0,"div",19)(1,"label",20),v(2,"PROGRESS"),p(),f(3,"div",44)(4,"div",45)(5,"span",46),v(6,"Completed"),p(),f(7,"span",47),v(8),p()(),f(9,"div",48)(10,"div",49),I(11,"div",50),p(),I(12,"input",51),p(),f(13,"div",52)(14,"button",53),ee("click",function(){return $e(e),We(ue(2).setCompletion(0))}),v(15,"0%"),p(),f(16,"button",53),ee("click",function(){return $e(e),We(ue(2).setCompletion(25))}),v(17,"25%"),p(),f(18,"button",53),ee("click",function(){return $e(e),We(ue(2).setCompletion(50))}),v(19,"50%"),p(),f(20,"button",53),ee("click",function(){return $e(e),We(ue(2).setCompletion(75))}),v(21,"75%"),p(),f(22,"button",53),ee("click",function(){return $e(e),We(ue(2).setCompletion(100))}),v(23,"100%"),p()()()()}if(2&n){const e=ue(2);let i,r,o,s,a,l,c;x(7),sn("color",e.getProgressColor()),x(1),Ge("",null==(i=e.taskForm.get("completion_percentage"))?null:i.value,"%"),x(3),sn("width",null==(r=e.taskForm.get("completion_percentage"))?null:r.value,"%")("background-color",e.getProgressColor()),x(3),Fe("active",0===(null==(o=e.taskForm.get("completion_percentage"))?null:o.value)),x(2),Fe("active",25===(null==(s=e.taskForm.get("completion_percentage"))?null:s.value)),x(2),Fe("active",50===(null==(a=e.taskForm.get("completion_percentage"))?null:a.value)),x(2),Fe("active",75===(null==(l=e.taskForm.get("completion_percentage"))?null:l.value)),x(2),Fe("active",100===(null==(c=e.taskForm.get("completion_percentage"))?null:c.value))}}function nq(n,t){1&n&&(f(0,"div",42),v(1," Description is required. "),p())}function rq(n,t){if(1&n){const e=Tt();Ir(0),f(1,"div",8)(2,"div",9)(3,"h1"),v(4),p(),f(5,"p"),v(6),p()(),f(7,"button",10),ee("click",function(){return $e(e),We(ue().toggleSideTab("filter"))}),ke(),f(8,"svg",11),I(9,"line",12)(10,"line",13),p()()(),Re(),f(11,"div",14)(12,"div",15)(13,"div",16)(14,"div",17)(15,"form",18)(16,"div",19)(17,"label",20),v(18,"TASK NAME "),f(19,"span",21),v(20,"*"),p()(),I(21,"input",22),U(22,XG,2,0,"div",23),p(),f(23,"div",24)(24,"div",25)(25,"label",20),v(26,"PRIORITY "),f(27,"span",21),v(28,"*"),p()(),f(29,"div",26)(30,"select",27)(31,"option",28),v(32,"High"),p(),f(33,"option",29),v(34,"Medium"),p(),f(35,"option",30),v(36,"Low"),p()(),I(37,"i",31),p(),U(38,ZG,2,0,"div",23),p(),f(39,"div",25)(40,"label",20),v(41,"STATUS "),f(42,"span",21),v(43,"*"),p()(),f(44,"div",26)(45,"select",32),U(46,QG,2,2,"option",33),p(),I(47,"i",31),p(),U(48,JG,2,0,"div",23),p()(),f(49,"div",24)(50,"div",25)(51,"label",20),v(52,"START DATE "),f(53,"span",21),v(54,"*"),p()(),f(55,"div",34),I(56,"input",35)(57,"i",36),p(),U(58,eq,2,0,"div",23),p(),f(59,"div",25)(60,"label",20),v(61,"END DATE "),f(62,"span",21),v(63,"*"),p()(),f(64,"div",34),I(65,"input",37)(66,"i",36),p(),U(67,tq,2,0,"div",23),p()(),I(68,"div",24),U(69,iq,24,17,"div",38),f(70,"div",19)(71,"label",20),v(72,"DESCRIPTION "),f(73,"span",21),v(74,"*"),p()(),I(75,"textarea",39),U(76,nq,2,0,"div",23),p(),f(77,"div",40)(78,"button",41),ee("click",function(){return $e(e),We(ue().saveTask())}),v(79," SAVE TASK "),p()()()()()()(),Lr()}if(2&n){const e=ue();let i;x(4),Ae(e.isEditMode?"Update Task":"Create New Task"),x(2),Ge(" ",e.isEditMode?"Modify task details, assignments, and deadlines":"Define the task scope, timeline, and assign team members"," "),x(9),D("formGroup",e.taskForm),x(6),Fe("error-border",e.isFieldInvalid("task")),x(1),D("ngIf",e.isFieldInvalid("task")),x(8),Fe("error-border",e.isFieldInvalid("priority")),x(8),D("ngIf",e.isFieldInvalid("priority")),x(7),Fe("error-border",e.isFieldInvalid("status")),x(1),D("ngForOf",e.statusList),x(2),D("ngIf",e.isFieldInvalid("status")),x(8),Fe("error-border",e.isFieldInvalid("start_date")),x(2),D("ngIf",e.isFieldInvalid("start_date")),x(7),Fe("error-border",e.isFieldInvalid("end_date")),D("min",(null==(i=e.taskForm.get("start_date"))?null:i.value)||e.minDate),x(2),D("ngIf",e.isFieldInvalid("end_date")),x(2),D("ngIf",e.isEditMode),x(6),Fe("error-border",e.isFieldInvalid("description")),x(1),D("ngIf",e.isFieldInvalid("description")),x(2),D("disabled",e.taskForm.invalid)}}function oq(n,t){if(1&n){const e=Tt();Ir(0),f(1,"div",8)(2,"div",9)(3,"h1"),v(4,"Update Task"),p(),f(5,"p"),v(6," Modify task details, assignments, and deadlines "),p()(),f(7,"button",10),ee("click",function(){return $e(e),We(ue().closeDrawer())}),ke(),f(8,"svg",11),I(9,"line",12)(10,"line",13),p()()(),Re(),f(11,"div",54),I(12,"app-status-log",55),p(),Lr()}if(2&n){const e=ue();x(12),D("selectedTask",e.selectTask)("projects",e.subTaskList)}}let US=(()=>{const t=class{constructor(i,r,o,s,a,l,c){this.el=i,this.authService=r,this.toasterService=o,this.storageService=s,this.route=a,this.commonService=l,this.fb=c,this.isEditMode=!1,this.cUsername=this.storageService.getUsername(),this.selectTask={},this.taskid=0,this.statusList=[],this.subTaskList=[],this.viewOptions={},this.columns=[],this.isFilterOpen=!1,this.drawerType="filter",this.minDate=(new Date).toISOString().split("T")[0],this.taskForm=this.fb.group({id:[null],task:["Sub task for task 1",Ie.required],priority:["High",Ie.required],status:["In-Progress",Ie.required],start_date:["2025-12-09",Ie.required],end_date:["2025-12-10",Ie.required],completion_percentage:[75],description:["sub task for task 1",Ie.required],taskid:[this.taskid,Ie.required],employeeid:["0",Ie.required]}),this.taskid=this.route.snapshot.paramMap.get("taskid")}ngOnInit(){console.log(this.taskid),this.loadInitialData(this.taskid)}loadInitialData(i){this.taskid=i,this.getStatusList(),this.getSubtasks(()=>{this.initTable()})}closeDrawer(){this.drawerType="filter",this.toggleSideTab()}toggleSideTab(i){if(console.log(i),this.isFilterOpen=!this.isFilterOpen,"New"===i){this.isEditMode=!1;let r=this.storageService.getEmpId();this.taskForm.reset({id:null,completion_percentage:0,taskid:this.taskid,employeeid:r})}}onViewSelected(i){this.initTable(i.id)}getStatusList(){this.authService.getStatusList().subscribe({next:i=>{this.statusList=i}})}getSubtasks(i){this.authService.getSubtasks(this.taskid).subscribe({next:r=>{this.subTaskList=r,this.table?.replaceData(r),this.viewOptions=this.commonService.getFieldLabels(this.subTaskList),i&&i()}})}createSubtask(i){this.authService.createSubtask(i).subscribe({next:r=>{this.toasterService.success(r?.message),this.getSubtasks(),this.toggleSideTab()},error:r=>{this.toasterService.error(r?.error?.message)}})}updateSubtask(i){this.authService.updateSubtask(i).subscribe({next:r=>{this.toasterService.success(r?.message),this.getSubtasks(),this.toggleSideTab()},error:r=>{this.toasterService.error(r?.error?.message)}})}initTable(i=""){const a=d=>{const u=d.getValue();if(!u)return"-";const g=u.split(":").map(Number),M=luxon.Duration.fromObject({hours:g[0]||0,minutes:g[1]||0,seconds:g[2]||0}).as("hours");let L="",N="";return M<8?(L=M.toFixed(2),N="hrs"):(L=(M/8).toFixed(2),N="days"),`\n        <div class="client-pill">\n          <i class="ri-time-line" style="color:var(--text-muted)"></i>\n          <span>${L} ${N}</span>\n        </div>\n      `};this.columns=[{title:"Task Name",field:"task",frozen:!0,formatter:function(d){return`\n          <div class="task-cell-wrapper">\n              <div class="flex-row">\n                  <div class="icon-box">\n                      <i class="ri-folder-3-line"></i>\n                  </div>\n                  <div class="flex-col">\n                      <span class="text-main text-bold">${d.getData().task}</span>\n                  </div>\n              </div>\n             \n          </div>\n      `},minWidth:300,widthGrow:2,editor:"textarea",cellClick:(d,u)=>{d.target.closest(".access-btn")&&(d.stopPropagation(),u.getRow().getData())}},{title:"Status",field:"status",formatter:function(d){const u=d.getValue();return`<span class="${u}">\n                <i class="${({Open:{cls:"status-open",icon:"ri-door-open-fill"},"In Progress":{cls:"status-inprogress",icon:"ri-loader-4-fill"},"In Review":{cls:"status-review",icon:"ri-search-eye-fill"},"To be Tested":{cls:"status-testing",icon:"ri-flask-fill"},"On Hold":{cls:"status-hold",icon:"ri-pause-circle-fill"},Delayed:{cls:"status-delayed",icon:"ri-timer-2-fill"},Closed:{cls:"status-closed",icon:"ri-checkbox-circle-fill"},Cancelled:{cls:"status-cancelled",icon:"ri-close-circle-fill"}}[u]||{cls:"status-default",icon:"ri-information-fill"}).icon}"></i> ${u}\n              </span>`},hozAlign:"center",editor:"list",editorParams:{values:this.statusList}},{title:"Start Date",field:"start_date"},{title:"Due Date",field:"end_date",formatter:function(d){const u=d.getValue();if(!u)return"-";const g=luxon.DateTime.now();let b=luxon.DateTime.fromISO(u);if(u.length<=10&&(b=b.set({hour:23,minute:59,second:59})),!b.isValid)return u;let _="",w="";if(b>g){const C=b.diff(g,["days","hours","minutes"]).toObject();if(C.days&&C.days>=1){const M=Math.floor(C.days);_=`${M} ${1===M?"day":"days"} to go`}else if(C.hours&&C.hours>=1){const M=Math.floor(C.hours);_=`${M} ${1===M?"hour":"hours"} left`}else{const M=Math.floor(C.minutes||1);_=`${M} ${1===M?"minute":"minutes"} left`}w="text-green"}else{const C=g.diff(b,["days","hours","minutes"]).toObject();if(C.days&&C.days>=1){const M=Math.floor(C.days);_=`Ended ${M} ${1===M?"day":"days"} ago`}else if(C.hours&&C.hours>=1){const M=Math.floor(C.hours);_=`Ended ${M} ${1===M?"hour":"hours"} ago`}else{const M=Math.floor(C.minutes||1);_=`Ended ${M} ${1===M?"minute":"minutes"} ago`}w="text-red"}return`\n        <div class="flex-col">\n          <span class="text-main">${b.toFormat("MM-dd-yyyy")}</span>\n          <span class="text-muted ${w}">\n            (${_})\n          </span>\n        </div>\n      `},width:140},{title:"Duration",field:"estimated_hours",formatter:a},{title:"Work hours",field:"worked_hours",formatter:a},{title:"Completion",field:"tasks_done",width:180,headerSort:!1,formatter:d=>{const w=d.getData().completion_percentage||0;return`\n          <div class="task-progress-container">\n            \n              <div class="task-bar-track">\n                  <div class="task-bar-fill" style="width: ${w}%"></div>\n                  <span class="task-bar-text">${w} %</span>\n              </div>\n             \n          </div>\n      `},editorParams:{min:0,max:100}},{title:"Description",field:"description",editor:"textarea"},{title:"Actions",field:"actions",headerSort:!1,frozen:!0,hozAlign:"center",formatter:()=>'\n            <button  class="edit"\n              style="border:none;background:transparent;cursor:pointer;padding:4px;">\n              <i class="ri-edit-2-line edit" style="font-size:18px;color:var(--c-blue);"></i>\n            </button>\n             <button class="dsr"\n              style="border:none;background:transparent;cursor:pointer;padding:4px; ">\n              <i class="ri-question-answer-line dsr" style="font-size:18px;color:var(--warning);"></i>\n            </button>\n     \n            <button class="delete"\n              style="border:none;background:transparent;cursor:pointer;padding:4px;">\n              <i class="ri-delete-bin-6-line delete" style="font-size:18px;color:var(--danger);"></i>\n            </button>\n          ',cellClick:(d,u)=>{const g=u.getRow().getData();this.selectTask=g,d.target.classList.contains("edit")&&(this.patchTaskForm(g),this.toggleSideTab()),d.target.classList.contains("dsr")&&(this.drawerType="dsr",this.toggleSideTab()),d.target.classList.contains("delete")&&Xs().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(b=>{b.isConfirmed&&this.authService.deleteSubtask(this.cUsername,g.id).subscribe({next:_=>{this.toasterService.success(_?.message),this.loadInitialData(this.taskid)}})})}}];const c={data:this.subTaskList,columns:this.columns,movableColumns:!0,resizableRows:!0,movableRows:!0,pagination:"local",paginationSize:15,editTriggerEvent:"dblclick",paginationSizeSelector:[5,10,15,25,35,45,100],columnDefaults:{tooltip:!0},groupBy:i,resizableColumnFit:!0,groupStartOpen:!0,groupHeader:function(d,u,g,b){return`\n              <div class="flex-row">\n                  <i class="ri-stack-line" style="color: var(--primary); font-size: 16px;"></i>\n                  <span class="text-main text-bold">${d||"Unassigned"}</span>\n                  <span class="text-muted" style="font-weight: 400;">(${u} sub-tasks)</span>\n              </div>\n          `}};this.table=new Ml(this.el.nativeElement.querySelector(".tabulator-table-task"),c),this.table.on("cellEdited",d=>{this.selectTask=d.getRow().getData(),this.authService.updateSubtask(this.selectTask).subscribe({next:u=>{this.toasterService.success(u?.message),this.getSubtasks()},error:u=>{this.toasterService.error(u?.error?.message)}})})}isFieldInvalid(i){const r=this.taskForm.get(i);return!(!r||!r.invalid||!r.dirty&&!r.touched)}getProgressColor(){const i=this.taskForm.get("completion_percentage")?.value||0;return i<30?"var(--color-low)":i<70?"var(--color-med)":"var(--color-high)"}setCompletion(i){this.taskForm.patchValue({completion_percentage:i})}saveTask(){if(this.taskForm.invalid)this.taskForm.markAllAsTouched();else if(console.log(this.isEditMode),this.isEditMode)this.selectTask={...this.selectTask,...this.taskForm.value},this.updateSubtask(this.selectTask);else{this.taskForm.get("taskid")?.setValue(this.taskid);let i=this.storageService.getEmpId();this.taskForm.get("employeeid")?.setValue(i),this.createSubtask(this.taskForm.value)}}patchTaskForm(i){this.taskForm&&(this.isEditMode=!0,this.taskForm.patchValue({id:i.id??null,task:i.task,priority:i.priority,status:i.status,start_date:i.start_date,end_date:i.end_date,completion_percentage:i.completion_percentage??0,description:i.description,taskid:i.taskid,employeeid:i.employeeid}))}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(It),O(Cn),O(xo),O(Xi),O(ir),O(ta),O(rs))},t.\u0275cmp=Qe({type:t,selectors:[["app-sub-tasklist"]],decls:8,vars:7,consts:[[2,"margin-bottom","15px","font-size","15px"],[2,"margin-bottom","1em",3,"btntext","viewOptions","toggleSideTab","selectionChange"],[1,"theme-grid",2,"padding-top","1em"],[1,"tabulator-table-task"],["class","filter-backdrop",3,"click",4,"ngIf"],[1,"filter-drawer"],[4,"ngIf"],[1,"filter-backdrop",3,"click"],[1,"drawer-header"],[1,"header-content"],[1,"icon-btn","close-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"drawer-content"],[1,"page-container","sub-tasklist"],[1,"form-wrapper"],[1,"form-container"],[3,"formGroup"],[1,"form-group"],[1,"label"],[1,"req"],["type","text","formControlName","task","placeholder","Enter task name",1,"input-control"],["class","error-msg",4,"ngIf"],[1,"row"],[1,"col","form-group"],[1,"select-wrapper"],["formControlName","priority",1,"input-control"],["value","High"],["value","Medium"],["value","Low"],[1,"ri-arrow-down-s-line","chev"],["formControlName","status",1,"input-control"],[3,"value",4,"ngFor","ngForOf"],[1,"icon-input"],["type","date","formControlName","start_date",1,"input-control"],[1,"ri-calendar-line","icon-right"],["type","date","formControlName","end_date",1,"input-control",3,"min"],["class","form-group",4,"ngIf"],["formControlName","description","placeholder","Add detailed notes...",1,"input-control","textarea"],[1,"form-group",2,"margin-top","2rem"],[1,"btn-submit",3,"disabled","click"],[1,"error-msg"],[3,"value"],[1,"progress-card"],[1,"progress-header"],[1,"prog-title"],[1,"prog-val"],[1,"custom-slider-wrapper"],[1,"track"],[1,"fill"],["type","range","min","0","max","100","formControlName","completion_percentage",1,"overlay-range"],[1,"presets"],["type","button",1,"btn-preset",3,"click"],[1,"drawer-content",2,"padding","2px"],[3,"selectedTask","projects"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"app-table-filter",1),ee("toggleSideTab",function(a){return o.toggleSideTab(a)})("selectionChange",function(a){return o.onViewSelected(a)}),p(),f(2,"div",2),I(3,"div",3),p()(),U(4,KG,1,0,"div",4),f(5,"div",5),U(6,rq,80,25,"ng-container",6),U(7,oq,13,2,"ng-container",6),p()),2&r&&(x(1),D("btntext","subtask")("viewOptions",o.viewOptions),x(3),D("ngIf",o.isFilterOpen),x(1),Fe("open",o.isFilterOpen),x(1),D("ngIf","filter"===o.drawerType),x(1),D("ngIf","dsr"===o.drawerType))},dependencies:[Hi,ki,wo,YG,vo,is,ns,Bn,Rf,yo,yr,bo,xr,_o],styles:[".icon-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:transparent;border:none;border-radius:var(--radius);color:var(--text-muted);cursor:pointer;transition:all .2s}.form-header[_ngcontent-%COMP%]{margin-bottom:32px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0 0 6px;color:var(--text-main)}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);font-size:14px}[_nghost-%COMP%]{--color-low: #ef4444;--color-med: #f59e0b;--color-high: #10b981}.form-wrapper[_ngcontent-%COMP%]{padding:2rem;display:flex;justify-content:center;width:100%;box-sizing:border-box}.form-container[_ngcontent-%COMP%]{width:100%;max-width:500px}.label[_ngcontent-%COMP%]{display:block;font-size:.75rem;font-weight:700;color:var(--text-label);margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.02em}.req[_ngcontent-%COMP%]{color:var(--error-color);margin-left:2px}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.input-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;font-size:.95rem;border:2px solid var(--border);border-radius:var(--radius);color:var(--text-input);outline:none;background:var(--bg-input);transition:border-color .2s;box-sizing:border-box}.input-control[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.input-control.error-border[_ngcontent-%COMP%]{border-color:var(--error-color);background-color:#fef2f2}.error-msg[_ngcontent-%COMP%]{color:var(--error-color);font-size:.75rem;margin-top:4px;font-weight:500}.row[_ngcontent-%COMP%]{display:flex;gap:1rem}.col[_ngcontent-%COMP%]{flex:1;min-width:0}.select-wrapper[_ngcontent-%COMP%]{position:relative}select.input-control[_ngcontent-%COMP%]{appearance:none;cursor:pointer}.chev[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#6b7280;pointer-events:none}.icon-input[_ngcontent-%COMP%]{position:relative}.icon-right[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#1f2937;font-size:1.1rem;pointer-events:none}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, input[type=time][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{background:transparent;color:transparent;cursor:pointer;height:auto;inset:0;position:absolute;width:auto}.progress-card[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem}.progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.prog-title[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:#6b7280}.prog-val[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;transition:color .3s ease}.custom-slider-wrapper[_ngcontent-%COMP%]{position:relative;height:24px;margin-bottom:1.25rem;display:flex;align-items:center}.track[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.fill[_ngcontent-%COMP%]{height:100%;background-color:var(--primary);border-radius:4px;transition:width .1s linear,background-color .3s ease}.overlay-range[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer;margin:0}.presets[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:space-between;flex-wrap:wrap}.btn-preset[_ngcontent-%COMP%]{flex:1;min-width:45px;padding:6px 0;background:#ffffff;border:1px solid var(--border);border-radius:4px;font-size:.75rem;font-weight:600;color:#6b7280;cursor:pointer;transition:all .2s}.btn-preset[_ngcontent-%COMP%]:hover{border-color:#d1d5db;background:#f3f4f6;color:var(--text-input)}.btn-preset.active[_ngcontent-%COMP%]{background:var(--primary);color:#fff}.textarea[_ngcontent-%COMP%]{min-height:120px;resize:vertical;font-family:inherit}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:var(--primary);color:#fff;font-weight:600;border:none;border-radius:var(--radius);cursor:pointer;transition:opacity .2s;font-size:12px}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background-color:#9ca3af}.btn-submit[_ngcontent-%COMP%]:not(:disabled):hover{opacity:.9}@media (max-width: 600px){.form-wrapper[_ngcontent-%COMP%]{padding:1rem}.row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.presets[_ngcontent-%COMP%]{gap:4px}.btn-preset[_ngcontent-%COMP%]{padding:8px 0}}"]}),n})(),$S=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sq=0;const wv=new be("CdkAccordion");let aq=(()=>{class n{constructor(){this._stateChanges=new re,this._openCloseAllActions=new re,this.id="cdk-accordion-"+sq++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Dl(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Be({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Bt([{provide:wv,useExisting:n}]),je]}),n})(),lq=0,cq=(()=>{class n{get expanded(){return this._expanded}set expanded(e){e=Dl(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Dl(e)}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=W.EMPTY,this.closed=new xt,this.opened=new xt,this.destroyed=new xt,this.expandedChange=new xt,this.id="cdk-accordion-child-"+lq++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(O(wv,12),O(Uo),O($S))},n.\u0275dir=Be({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Bt([{provide:wv,useValue:void 0}])]}),n})(),dq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({}),n})();const uq=["body"];function hq(n,t){}const fq=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],pq=["mat-expansion-panel-header","*","mat-action-row"];function mq(n,t){1&n&&I(0,"span",2),2&n&&D("@indicatorRotate",ue()._getExpandedState())}const gq=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],bq=["mat-panel-title","mat-panel-description","*"],Cv=new be("MAT_ACCORDION"),WS="225ms cubic-bezier(0.4,0.0,0.2,1)",GS={indicatorRotate:fo("indicatorRotate",[Pn("collapsed, void",ri({transform:"rotate(0deg)"})),Pn("expanded",ri({transform:"rotate(180deg)"})),Rn("expanded <=> collapsed, void => collapsed",Jn(WS))]),bodyExpansion:fo("bodyExpansion",[Pn("collapsed, void",ri({height:"0px",visibility:"hidden"})),Pn("expanded",ri({height:"*",visibility:"visible"})),Rn("expanded <=> collapsed, void => collapsed",Jn(WS))])},qS=new be("MAT_EXPANSION_PANEL");let vq=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(O(gr),O(qS,8))},n.\u0275dir=Be({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),_q=0;const YS=new be("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let KS=(()=>{class n extends cq{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Dl(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,o,s,a,l){super(e,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new xt,this.afterCollapse=new xt,this._inputChanges=new re,this._headerId="mat-expansion-panel-header-"+_q++,this._bodyAnimationDone=new re,this.accordion=e,this._document=s,this._bodyAnimationDone.pipe(aS((c,d)=>c.fromState===d.fromState&&c.toState===d.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ws(null),pi(()=>this.expanded&&!this._portal),Ln(1)).subscribe(()=>{this._portal=new fv(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(O(Cv,12),O(Uo),O($S),O(On),O(ct),O(Bs,8),O(YS,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&eh(r,vq,5),2&e){let o;ln(o=cn())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&Xn(uq,5),2&e){let r;ln(r=cn())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&Fe("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Bt([{provide:Cv,useValue:void 0},{provide:qS,useExisting:n}]),yt,je],ngContentSelectors:pq,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(Wu(fq),Vo(0),f(1,"div",0,1),ee("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),f(3,"div",2),Vo(4,1),U(5,hq,0,0,"ng-template",3),p(),Vo(6,2),p()),2&e&&(x(1),D("@bodyExpansion",i._getExpandedState())("id",i.id),Di("aria-labelledby",i._headerId),x(4),D("cdkPortalOutlet",i._portal))},dependencies:[Gf],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[GS.bodyExpansion]},changeDetection:0}),n})();class yq{}const xq=a$(yq);let XS=(()=>{class n extends xq{constructor(e,i,r,o,s,a,l){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=W.EMPTY;const c=e.accordion?e.accordion._stateChanges.pipe(pi(d=>!(!d.hideToggle&&!d.togglePosition))):Gi;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=fa(e.opened,e.closed,c,e._inputChanges.pipe(pi(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(pi(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Kf(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(O(KS,1),O(It),O(Qf),O(Uo),O(YS,8),O(Bs,8),ac("tabindex"))},n.\u0275cmp=Qe({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&ee("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(Di("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),sn("height",i._getHeaderHeight()),Fe("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[yt],ngContentSelectors:bq,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(Wu(gq),f(0,"span",0),Vo(1),Vo(2,1),Vo(3,2),p(),U(4,mq,1,1,"span",1)),2&e&&(Fe("mat-content-hide-toggle",!i._showToggle()),x(4),D("ngIf",i._showToggle()))},dependencies:[ki],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[GS.indicatorRotate]},changeDetection:0}),n})(),wq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Be({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),Cq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Be({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),Eq=(()=>{class n extends aq{constructor(){super(...arguments),this._ownHeaders=new al,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Dl(e)}ngAfterContentInit(){this._headers.changes.pipe(Ws(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new IU(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ri(n)))(i||n)}}(),n.\u0275dir=Be({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&eh(r,XS,5),2&e){let o;ln(o=cn())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&Fe("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Bt([{provide:Cv,useExisting:n}]),yt]}),n})(),Mq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[uo,$i,dq,Ad]}),n})();function Dq(n,t){if(1&n){const e=Tt();f(0,"div",43)(1,"input",44),ee("input",function(r){const s=$e(e).$implicit;return We(ue().onTaskSelect(r,s))}),p(),f(2,"div",45)(3,"div",46),v(4),f(5,"span",19),v(6),p()(),f(7,"div",47)(8,"h4"),v(9),p(),f(10,"p",48),v(11),p()(),f(12,"div",49)(13,"div"),v(14),p(),f(15,"div"),v(16),p()()()()}if(2&n){const e=t.$implicit,i=ue();x(1),D("value",e.id)("checked",e.id===(null==i.selectedTask?null:i.selectedTask.id)),x(3),Ge(" ",null==e?null:e.taskcode," "),x(1),D("ngClass","status-badge "+(null==e?null:e.status)),x(1),Ae(null==e?null:e.status),x(3),Ae(null==e?null:e.task),x(2),Ge(" ",null==e?null:e.description,""),x(3),Ge("",null==e?null:e.priority," Priority"),x(2),Ae(null==e?null:e.assigned_to_name)}}function Sq(n,t){1&n&&I(0,"app-documents")}function Tq(n,t){1&n&&I(0,"app-sub-tasklist")}function kq(n,t){1&n&&(f(0,"div",50),v(1,"Select a tab"),p())}const Aq=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:zS},{path:"main",component:C6,canActivate:[AW],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:UV},{path:"analytics",component:$V},{path:"projects",component:cW},{path:"profile",component:k$},{path:"security",component:A$},{path:"general",component:O$},{path:"billing",component:P$},{path:"logs",component:R$},{path:"settings",component:hW},{path:"projects/projects-content/:id",component:$G},{path:"projects/projects-content/:id/:taskid",component:(()=>{const t=class{constructor(i,r,o,s,a,l){this.authService=i,this.route=r,this.layoutService=o,this.router=s,this.storageService=a,this.commonService=l,this.projectid=0,this.phaseid=0,this.phaseList=[],this.empid=0,this.taskid=1,this.taskList=[],this.viewOptions={},this.panelOpenState=!1,this.selectedTask={},this.activeProjectTab="",this.projectid=this.route.snapshot.paramMap.get("id"),this.empid=this.storageService.getEmpId(),this.taskid=this.route.snapshot.paramMap.get("taskid")}setActiveTab(i){this.activeProjectTab=i,this.taskid=this.route.snapshot.paramMap.get("taskid"),this.subTasklist.loadInitialData(this.taskid)}ngAfterViewInit(){Promise.resolve().then(()=>{this.layoutService.initResponsiveTabs(),this.activeProjectTab=sessionStorage.getItem("activeProjectTab")||"subtasks"});const i=document.getElementById("toggleBtn"),r=document.getElementById("closeBtn"),o=document.getElementById("sidebar");function s(){o.classList.toggle("toggled")}i.addEventListener("click",s),r.addEventListener("click",s)}ngOnInit(){this.getTasksByProjectIdNdEmployeeId()}getTasksByProjectIdNdEmployeeId(i){this.authService.getTasksByProjectIdNdEmployeeId(this.projectid,this.empid||0,this.phaseid||0,"all").subscribe({next:r=>{this.taskList=r,this.selectedTask=this.taskList.find(o=>o.id==this.taskid),this.selectedTask||(this.selectedTask=this.taskList[0]),this.getPhaseList(),i&&i()}})}getPhaseList(){this.authService.getPhaseByProjectId(this.projectid).subscribe({next:i=>{this.phaseList=i,this.viewOptions=this.commonService.getFieldValuesByTasks(this.phaseList,"phase_title")}})}onTaskSelect(i,r){this.selectedTask=r,this.subTasklist.loadInitialData(r?.id),this.router.navigate(["/main/projects/projects-content",this.projectid,i.target.value])}onTaskEdit(i){const r=i.target.innerText.trim();console.log(r)}goToTasks(){this.router.navigate([`/main/projects/projects-content/${this.projectid}`]),sessionStorage.setItem("activeProjectTab","tasks")}onPhasesSelect(i){console.log(i),this.phaseid=i?.id,this.getTasksByProjectIdNdEmployeeId()}};let n=t;return t.\u0275fac=function(r){return new(r||t)(O(Cn),O(ir),O(Ks),O(Jt),O(Xi),O(ta))},t.\u0275cmp=Qe({type:t,selectors:[["app-sub-tasks"]],viewQuery:function(r,o){if(1&r&&Xn(US,5),2&r){let s;ln(s=cn())&&(o.subTasklist=s.first)}},decls:77,vars:17,consts:[[1,"container"],["id","sidebar"],["id","closeBtn",1,"close-btn","mobile-close"],[1,"aside-header"],[2,"margin-bottom","1em",3,"isRightSectionNeeded","triggerTxt","btntext","viewOptions","selectionChange"],[1,"task-tile-group"],["class","input-container",4,"ngFor","ngForOf"],[1,"navbar"],["id","toggleBtn",1,"ri-menu-fold-line"],[2,"margin-left","10px"],[1,"content-scroll"],[1,"detail-card"],[1,"card-header"],[1,"card-title-row"],[2,"width","100%"],["contentEditable","true",1,"task-title"],[1,"task-meta"],[1,"ri-user-line"],[1,"ri-calendar-line"],[3,"ngClass"],[1,"card-actions",2,"display","flex","gap","10px"],[1,"ri-more-fill",2,"color","#666","font-size","1.2rem","cursor","pointer"],[1,"ri-close-line",2,"color","#666","font-size","1.2rem","cursor","pointer",3,"click"],[1,"accordion-wrapper"],[3,"opened","closed"],[2,"font-weight","600","color","var(--text-muted)"],[1,"tabs-wrapper"],["id","tab-list",1,"tab-list"],["data-id","comments",1,"tab-item",3,"click"],["data-id","tasks",1,"tab-item",3,"click"],["data-id","documents",1,"tab-item",3,"click"],["data-id","issues",1,"tab-item",3,"click"],["data-id","status-timeline",1,"tab-item",3,"click"],["data-id","dependency",1,"tab-item",3,"click"],["data-id","activity",1,"tab-item",3,"click"],["id","tab-more",1,"tab-more"],[1,"ri-more-fill"],["id","more-dropdown",1,"more-dropdown"],["id","tab-content-display"],[3,"ngSwitch"],[4,"ngSwitchCase"],["style","font-size: medium;",4,"ngSwitchDefault"],["id","overlay"],[1,"input-container"],["id","t1","type","radio","name","radio",1,"task-button",3,"value","checked","input"],[1,"task-tile"],[1,"task-tile-label"],[1,"task-description"],[2,"max-width","320px","min-width","320px","text-wrap","pretty"],[1,"task-footer"],[2,"font-size","medium"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"aside",1)(2,"button",2),v(3,"\xd7"),p(),f(4,"div",3)(5,"app-table-filter",4),ee("selectionChange",function(a){return o.onPhasesSelect(a)}),p()(),f(6,"div",5),U(7,Dq,17,9,"div",6),p()(),f(8,"main")(9,"div",7),I(10,"i",8),f(11,"div",9)(12,"h3"),v(13),p()()(),f(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"h2",15),v(20),p(),f(21,"div",16)(22,"span"),I(23,"i",17),v(24),p(),f(25,"span"),I(26,"i",18),v(27),p(),f(28,"span",19),v(29),p()()(),f(30,"div",20),I(31,"i",21),f(32,"i",22),ee("click",function(){return o.goToTasks()}),p()()()()(),f(33,"div",23)(34,"mat-accordion")(35,"mat-expansion-panel",24),ee("opened",function(){return o.panelOpenState=!0})("closed",function(){return o.panelOpenState=!1}),f(36,"mat-expansion-panel-header")(37,"mat-panel-title",25),v(38," Description "),p(),I(39,"mat-panel-description"),p(),f(40,"p"),v(41),p()(),I(42,"br"),f(43,"mat-expansion-panel",24),ee("opened",function(){return o.panelOpenState=!0})("closed",function(){return o.panelOpenState=!1}),f(44,"mat-expansion-panel-header")(45,"mat-panel-title",25),v(46," Task Information "),p()(),f(47,"div")(48,"pre"),v(49),mr(50,"json"),p()()()()(),I(51,"br"),f(52,"div",26)(53,"div",27)(54,"div",28),ee("click",function(){return o.setActiveTab("comments")}),v(55,"Comments "),p(),f(56,"div",29),ee("click",function(){return o.setActiveTab("tasks")}),v(57,"Sub tasks"),p(),f(58,"div",30),ee("click",function(){return o.setActiveTab("documents")}),v(59,"Documents "),p(),f(60,"div",31),ee("click",function(){return o.setActiveTab("issues")}),v(61,"Issues"),p(),f(62,"div",32),ee("click",function(){return o.setActiveTab("status-timeline")}),v(63,"Status Timeline"),p(),f(64,"div",33),ee("click",function(){return o.setActiveTab("dependency")}),v(65,"Dependency"),p(),f(66,"div",34),ee("click",function(){return o.setActiveTab("activity")}),v(67,"Activity Stream "),p()(),f(68,"div",35),I(69,"i",36)(70,"div",37),p()(),f(71,"div",38),Ir(72,39),U(73,Sq,1,0,"app-documents",40),U(74,Tq,1,0,"app-sub-tasklist",40),U(75,kq,2,0,"div",41),Lr(),p()()(),I(76,"div",42),p()),2&r&&(x(5),D("isRightSectionNeeded",!1)("triggerTxt","Select Phase")("viewOptions",o.viewOptions),x(2),D("ngForOf",o.taskList),x(6),Ae(null==o.selectedTask?null:o.selectedTask.project_title),x(7),Ae(null==o.selectedTask?null:o.selectedTask.task),x(4),Ge(" By ",null==o.selectedTask?null:o.selectedTask.assigned_to_name,""),x(3),Ge(" ",null==o.selectedTask?null:o.selectedTask.project_title,""),x(1),D("ngClass","status-badge "+(null==o.selectedTask?null:o.selectedTask.status)),x(1),Ae(null==o.selectedTask?null:o.selectedTask.status),x(12),Ae(null==o.selectedTask?null:o.selectedTask.description),x(8),Ge("                             ",Ns(50,15,o.selectedTask),"\n                              "),x(23),D("ngSwitch",o.activeProjectTab),x(1),D("ngSwitchCase","documents"),x(1),D("ngSwitchCase","tasks"))},dependencies:[D1,Hi,Vc,nb,rb,wo,Eq,KS,XS,Cq,wq,jS,US,P1],styles:[".card[_ngcontent-%COMP%]{height:100%;width:100%}.container[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;position:relative;justify-content:center;overflow:hidden}aside[_ngcontent-%COMP%]{background-color:var(--bg-body);width:var(--sidebar-width);padding:1rem;padding-top:0;border-right:1px solid #eee;transition:all .3s ease;flex-shrink:0;display:flex;flex-direction:column;height:90vh;overflow-y:scroll;position:relative;z-index:10}aside[_ngcontent-%COMP%]::-webkit-scrollbar{width:0px;background-color:#f5f5f5}aside[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#d1d5db;border-radius:4px}.aside-header[_ngcontent-%COMP%]{position:sticky;top:0;background-color:var(--bg-body);z-index:10;min-height:var(--header-height);display:flex;align-items:center;padding-top:10px;margin-bottom:.5rem}.task-tile-group[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;width:100%;padding-bottom:40px}.input-container[_ngcontent-%COMP%]{position:relative;width:100%;margin:.5rem 0}.input-container[_ngcontent-%COMP%]:hover   .task-tile[_ngcontent-%COMP%]{background-color:var(--bg-selected)}.task-tile-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .task-button[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;height:100%;width:100%;margin:0;cursor:pointer;z-index:5}.task-tile-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .task-tile[_ngcontent-%COMP%]{width:100%;height:100%;background:#fff;box-shadow:#0000001f 0 1px 3px,#0000003d 0 1px 2px;border:2px solid transparent;border-radius:5px;padding:1em;transition:transform .3s ease;cursor:pointer;position:relative}.task-tile-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .task-tile-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;text-align:center;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--primary);margin-bottom:8px}.task-description[_ngcontent-%COMP%]{color:var(--text-muted);font-size:small;padding:4px 0;line-height:1.4}.task-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#3a3333;font-size:.95rem}.task-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:x-small;color:var(--text-muted);margin-top:10px}.task-tile-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .task-button[_ngcontent-%COMP%]:checked + .task-tile[_ngcontent-%COMP%]{border:2px solid var(--primary);background-color:#fff}main[_ngcontent-%COMP%]{flex:1;min-width:0;padding:0 1em;display:flex;flex-direction:column;height:100%;background-color:var(--bg-body);position:relative;z-index:10}.navbar[_ngcontent-%COMP%]{display:flex;align-items:center;height:var(--header-height);flex-shrink:0;padding:1em}.navbar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;margin:0;font-weight:600}#toggleBtn[_ngcontent-%COMP%]{font-size:1.4rem;cursor:pointer;color:var(--text-muted);margin-right:10px;transition:transform .3s ease}.content-scroll[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding-bottom:2rem}.content-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:0px}.content-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.task-title-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;gap:8px}.task-title[_ngcontent-%COMP%]{padding:6px 10px;font-size:20px;font-weight:600;border-radius:6px;outline:none;cursor:text;width:100%;transition:background .2s ease,box-shadow .2s ease;margin:0 0 5px}.task-title-wrapper[_ngcontent-%COMP%]:hover   .task-title[_ngcontent-%COMP%]{background:#f4f6f8}.task-title[_ngcontent-%COMP%]:focus{background:#ffffff;box-shadow:0 0 0 2px var(--primary)}.detail-card[_ngcontent-%COMP%]{background:var(--surface);border-radius:var(--radius);box-shadow:0 1px 3px #0000000d;margin-bottom:2rem;overflow:hidden;position:sticky;top:0;z-index:2}.card-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border)}.card-title-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:10px}.task-meta[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted);display:flex;align-items:center;gap:6px;flex-wrap:wrap}.task-meta[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}@media (min-width: 769px){.mobile-close[_ngcontent-%COMP%]{display:none}aside.toggled[_ngcontent-%COMP%]{margin-left:-385px}body.sidebar-closed[_ngcontent-%COMP%]   #toggleBtn[_ngcontent-%COMP%]{transform:rotate(180deg)}}@media (max-width: 768px){aside[_ngcontent-%COMP%]{display:none;position:absolute;left:0;top:0;bottom:0;width:85%;max-width:320px;box-shadow:4px 0 12px #00000026;background:#fff}#toggleBtn[_ngcontent-%COMP%]{display:none}aside.mobile-open[_ngcontent-%COMP%]{display:flex;animation:slideIn .3s forwards}@keyframes slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}.content-scroll[_ngcontent-%COMP%]{padding:1rem}.close-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;font-size:1.5rem;background:none;border:none;cursor:pointer;color:#666;z-index:50}}#overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.4);z-index:15;display:none}"]}),n})()}]},{path:"**",component:zS}];let Oq=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=_t({type:t}),t.\u0275inj=mt({imports:[aD.forRoot(Aq,{useHash:!0}),aD]}),n})(),Pq=(()=>{const t=class{constructor(i,r,o){this.storage=i,this.router=r,this.loader=o}intercept(i,r){this.loader.show();const o=this.storage.getToken(),s=o?i.clone({setHeaders:{Authorization:`Bearer ${o}`}}):i;return r.handle(s).pipe(jr(a=>(401===a.status&&(this.storage.clearAll(),this.router.navigate(["/login"])),$s(()=>a))),Yc(()=>{setTimeout(()=>{this.loader.hide()},1e3)}))}};let n=t;return t.\u0275fac=function(r){return new(r||t)(G(Xi),G(Jt),G(cD))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),n})(),tT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[$i,$i]}),n})(),zq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[$i,yv,$i]}),n})(),iT=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=_t({type:t}),t.\u0275inj=mt({imports:[uo,G0,q0]}),n})(),qq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({imports:[$i,uo,lS,$i]}),n})();const Qq={provide:new be("mat-select-scroll-strategy"),deps:[ss],useFactory:function Zq(n){return()=>n.scrollStrategies.reposition()}};let Jq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({providers:[Qq],imports:[uo,Yf,PS,$i,Wf,qq,PS,$i]}),n})();const nY={provide:new be("mat-menu-scroll-strategy"),deps:[ss],useFactory:function iY(n){return()=>n.scrollStrategies.reposition()}};let rY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_t({type:n}),n.\u0275inj=mt({providers:[nY],imports:[uo,yv,$i,Yf,Wf,$i]}),n})(),oY=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=_t({type:t}),t.\u0275inj=mt({imports:[uo,iT,G0,q0,Mq,tT,Jq,rY]}),n})(),sY=(()=>{const t=class{};let n=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=_t({type:t,bootstrap:[q8]}),t.\u0275inj=mt({providers:[{provide:gD,useClass:Pq,multi:!0}],imports:[u5,rE,Oq,y6,q0,G0,tT,S$,zq,iT,oY,uz.forRoot({positionClass:"toast-top-right",preventDuplicates:!0,closeButton:!0,progressBar:!0}),xS]}),n})();n3().bootstrapModule(sY).catch(n=>console.error(n))},466:function(Se,Ee,K){var $;Se.exports=($=K(585),K(319),K(493),K(865),K(57),function(){var B=$,ie=B.lib.BlockCipher,W=B.algo,Z=[],se=[],k=[],z=[],E=[],R=[],H=[],P=[],j=[],V=[];!function(){for(var T=[],F=0;F<256;F++)T[F]=F<128?F<<1:F<<1^283;var Q=0,X=0;for(F=0;F<256;F++){var te=X^X<<1^X<<2^X<<3^X<<4;Z[Q]=te=te>>>8^255&te^99,se[te]=Q;var ye,ne=T[Q],me=T[ne],ve=T[me];k[Q]=(ye=257*T[te]^16843008*te)<<24|ye>>>8,z[Q]=ye<<16|ye>>>16,E[Q]=ye<<8|ye>>>24,R[Q]=ye,H[te]=(ye=16843009*ve^65537*me^257*ne^16843008*Q)<<24|ye>>>8,P[te]=ye<<16|ye>>>16,j[te]=ye<<8|ye>>>24,V[te]=ye,Q?(Q=ne^T[T[T[ve^ne]]],X^=T[T[X]]):Q=X=1}}();var q=[0,1,2,4,8,16,32,64,128,27,54],Y=W.AES=ie.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var F=this._keyPriorReset=this._key,Q=F.words,X=F.sigBytes/4,ne=4*((this._nRounds=X+6)+1),me=this._keySchedule=[],ve=0;ve<ne;ve++)ve<X?me[ve]=Q[ve]:(T=me[ve-1],ve%X?X>6&&ve%X==4&&(T=Z[T>>>24]<<24|Z[T>>>16&255]<<16|Z[T>>>8&255]<<8|Z[255&T]):(T=Z[(T=T<<8|T>>>24)>>>24]<<24|Z[T>>>16&255]<<16|Z[T>>>8&255]<<8|Z[255&T],T^=q[ve/X|0]<<24),me[ve]=me[ve-X]^T);for(var ye=this._invKeySchedule=[],ge=0;ge<ne;ge++){if(ve=ne-ge,ge%4)var T=me[ve];else T=me[ve-4];ye[ge]=ge<4||ve<=4?T:H[Z[T>>>24]]^P[Z[T>>>16&255]]^j[Z[T>>>8&255]]^V[Z[255&T]]}}},encryptBlock:function(T,F){this._doCryptBlock(T,F,this._keySchedule,k,z,E,R,Z)},decryptBlock:function(T,F){var Q=T[F+1];T[F+1]=T[F+3],T[F+3]=Q,this._doCryptBlock(T,F,this._invKeySchedule,H,P,j,V,se),Q=T[F+1],T[F+1]=T[F+3],T[F+3]=Q},_doCryptBlock:function(T,F,Q,X,te,ne,me,ve){for(var ye=this._nRounds,ge=T[F]^Q[0],le=T[F+1]^Q[1],we=T[F+2]^Q[2],Me=T[F+3]^Q[3],_e=4,Ue=1;Ue<ye;Ue++){var Ce=X[ge>>>24]^te[le>>>16&255]^ne[we>>>8&255]^me[255&Me]^Q[_e++],tt=X[le>>>24]^te[we>>>16&255]^ne[Me>>>8&255]^me[255&ge]^Q[_e++],it=X[we>>>24]^te[Me>>>16&255]^ne[ge>>>8&255]^me[255&le]^Q[_e++],de=X[Me>>>24]^te[ge>>>16&255]^ne[le>>>8&255]^me[255&we]^Q[_e++];ge=Ce,le=tt,we=it,Me=de}Ce=(ve[ge>>>24]<<24|ve[le>>>16&255]<<16|ve[we>>>8&255]<<8|ve[255&Me])^Q[_e++],tt=(ve[le>>>24]<<24|ve[we>>>16&255]<<16|ve[Me>>>8&255]<<8|ve[255&ge])^Q[_e++],it=(ve[we>>>24]<<24|ve[Me>>>16&255]<<16|ve[ge>>>8&255]<<8|ve[255&le])^Q[_e++],de=(ve[Me>>>24]<<24|ve[ge>>>16&255]<<16|ve[le>>>8&255]<<8|ve[255&we])^Q[_e++],T[F]=Ce,T[F+1]=tt,T[F+2]=it,T[F+3]=de},keySize:8});B.AES=ie._createHelper(Y)}(),$.AES)},302:function(Se,Ee,K){var $;Se.exports=($=K(585),K(319),K(493),K(865),K(57),function(){var B=$,ie=B.lib.BlockCipher;const Z=16,se=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],k=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var z={pbox:[],sbox:[]};function E(V,q){let X=V.sbox[0][q>>24&255]+V.sbox[1][q>>16&255];return X^=V.sbox[2][q>>8&255],X+=V.sbox[3][255&q],X}function R(V,q,Y){let Q,T=q,F=Y;for(let X=0;X<Z;++X)T^=V.pbox[X],F=E(V,T)^F,Q=T,T=F,F=Q;return Q=T,T=F,F=Q,F^=V.pbox[Z],T^=V.pbox[Z+1],{left:T,right:F}}var j=B.algo.Blowfish=ie.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var V=this._keyPriorReset=this._key;!function P(V,q,Y){for(let te=0;te<4;te++){V.sbox[te]=[];for(let ne=0;ne<256;ne++)V.sbox[te][ne]=k[te][ne]}let T=0;for(let te=0;te<Z+2;te++)V.pbox[te]=se[te]^q[T],T++,T>=Y&&(T=0);let F=0,Q=0,X=0;for(let te=0;te<Z+2;te+=2)X=R(V,F,Q),F=X.left,Q=X.right,V.pbox[te]=F,V.pbox[te+1]=Q;for(let te=0;te<4;te++)for(let ne=0;ne<256;ne+=2)X=R(V,F,Q),F=X.left,Q=X.right,V.sbox[te][ne]=F,V.sbox[te][ne+1]=Q;return!0}(z,V.words,V.sigBytes/4)}},encryptBlock:function(V,q){var Y=R(z,V[q],V[q+1]);V[q]=Y.left,V[q+1]=Y.right},decryptBlock:function(V,q){var Y=function H(V,q,Y){let Q,T=q,F=Y;for(let X=Z+1;X>1;--X)T^=V.pbox[X],F=E(V,T)^F,Q=T,T=F,F=Q;return Q=T,T=F,F=Q,F^=V.pbox[1],T^=V.pbox[0],{left:T,right:F}}(z,V[q],V[q+1]);V[q]=Y.left,V[q+1]=Y.right},blockSize:2,keySize:4,ivSize:2});B.Blowfish=ie._createHelper(j)}(),$.Blowfish)},57:function(Se,Ee,K){var B,oe,ie,W,Z,se,k,E,H,P,V,q,Y,F,X,ne,me,ye,ge,$;Se.exports=($=K(585),K(865),void($.lib.Cipher||(oe=$,ie=oe.lib,W=ie.Base,Z=ie.WordArray,se=ie.BufferedBlockAlgorithm,k=oe.enc,E=k.Base64,H=oe.algo.EvpKDF,P=ie.Cipher=se.extend({cfg:W.extend(),createEncryptor:function(le,we){return this.create(this._ENC_XFORM_MODE,le,we)},createDecryptor:function(le,we){return this.create(this._DEC_XFORM_MODE,le,we)},init:function(le,we,Me){this.cfg=this.cfg.extend(Me),this._xformMode=le,this._key=we,this.reset()},reset:function(){se.reset.call(this),this._doReset()},process:function(le){return this._append(le),this._process()},finalize:function(le){return le&&this._append(le),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function le(we){return"string"==typeof we?ge:me}return function(we){return{encrypt:function(Me,_e,Ue){return le(_e).encrypt(we,Me,_e,Ue)},decrypt:function(Me,_e,Ue){return le(_e).decrypt(we,Me,_e,Ue)}}}}()}),ie.StreamCipher=P.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),V=oe.mode={},q=ie.BlockCipherMode=W.extend({createEncryptor:function(le,we){return this.Encryptor.create(le,we)},createDecryptor:function(le,we){return this.Decryptor.create(le,we)},init:function(le,we){this._cipher=le,this._iv=we}}),Y=V.CBC=function(){var le=q.extend();function we(Me,_e,Ue){var Ce,tt=this._iv;tt?(Ce=tt,this._iv=B):Ce=this._prevBlock;for(var it=0;it<Ue;it++)Me[_e+it]^=Ce[it]}return le.Encryptor=le.extend({processBlock:function(Me,_e){var Ue=this._cipher,Ce=Ue.blockSize;we.call(this,Me,_e,Ce),Ue.encryptBlock(Me,_e),this._prevBlock=Me.slice(_e,_e+Ce)}}),le.Decryptor=le.extend({processBlock:function(Me,_e){var Ue=this._cipher,Ce=Ue.blockSize,tt=Me.slice(_e,_e+Ce);Ue.decryptBlock(Me,_e),we.call(this,Me,_e,Ce),this._prevBlock=tt}}),le}(),F=(oe.pad={}).Pkcs7={pad:function(le,we){for(var Me=4*we,_e=Me-le.sigBytes%Me,Ue=_e<<24|_e<<16|_e<<8|_e,Ce=[],tt=0;tt<_e;tt+=4)Ce.push(Ue);var it=Z.create(Ce,_e);le.concat(it)},unpad:function(le){le.sigBytes-=255&le.words[le.sigBytes-1>>>2]}},ie.BlockCipher=P.extend({cfg:P.cfg.extend({mode:Y,padding:F}),reset:function(){var le;P.reset.call(this);var we=this.cfg,Me=we.iv,_e=we.mode;this._xformMode==this._ENC_XFORM_MODE?le=_e.createEncryptor:(le=_e.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==le?this._mode.init(this,Me&&Me.words):(this._mode=le.call(_e,this,Me&&Me.words),this._mode.__creator=le)},_doProcessBlock:function(le,we){this._mode.processBlock(le,we)},_doFinalize:function(){var le,we=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(we.pad(this._data,this.blockSize),le=this._process(!0)):(le=this._process(!0),we.unpad(le)),le},blockSize:4}),X=ie.CipherParams=W.extend({init:function(le){this.mixIn(le)},toString:function(le){return(le||this.formatter).stringify(this)}}),ne=(oe.format={}).OpenSSL={stringify:function(le){var Me=le.ciphertext,_e=le.salt;return(_e?Z.create([1398893684,1701076831]).concat(_e).concat(Me):Me).toString(E)},parse:function(le){var we,Me=E.parse(le),_e=Me.words;return 1398893684==_e[0]&&1701076831==_e[1]&&(we=Z.create(_e.slice(2,4)),_e.splice(0,4),Me.sigBytes-=16),X.create({ciphertext:Me,salt:we})}},me=ie.SerializableCipher=W.extend({cfg:W.extend({format:ne}),encrypt:function(le,we,Me,_e){_e=this.cfg.extend(_e);var Ue=le.createEncryptor(Me,_e),Ce=Ue.finalize(we),tt=Ue.cfg;return X.create({ciphertext:Ce,key:Me,iv:tt.iv,algorithm:le,mode:tt.mode,padding:tt.padding,blockSize:le.blockSize,formatter:_e.format})},decrypt:function(le,we,Me,_e){return _e=this.cfg.extend(_e),we=this._parse(we,_e.format),le.createDecryptor(Me,_e).finalize(we.ciphertext)},_parse:function(le,we){return"string"==typeof le?we.parse(le,this):le}}),ye=(oe.kdf={}).OpenSSL={execute:function(le,we,Me,_e,Ue){if(_e||(_e=Z.random(8)),Ue)var Ce=H.create({keySize:we+Me,hasher:Ue}).compute(le,_e);else Ce=H.create({keySize:we+Me}).compute(le,_e);var tt=Z.create(Ce.words.slice(we),4*Me);return Ce.sigBytes=4*we,X.create({key:Ce,iv:tt,salt:_e})}},ge=ie.PasswordBasedCipher=me.extend({cfg:me.cfg.extend({kdf:ye}),encrypt:function(le,we,Me,_e){var Ue=(_e=this.cfg.extend(_e)).kdf.execute(Me,le.keySize,le.ivSize,_e.salt,_e.hasher);_e.iv=Ue.iv;var Ce=me.encrypt.call(this,le,we,Ue.key,_e);return Ce.mixIn(Ue),Ce},decrypt:function(le,we,Me,_e){_e=this.cfg.extend(_e),we=this._parse(we,_e.format);var Ue=_e.kdf.execute(Me,le.keySize,le.ivSize,we.salt,_e.hasher);return _e.iv=Ue.iv,me.decrypt.call(this,le,we,Ue.key,_e)}}))))},585:function(Se,Ee,K){var $;Se.exports=($=$||function(B,oe){var ie;if(typeof window<"u"&&window.crypto&&(ie=window.crypto),typeof self<"u"&&self.crypto&&(ie=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(ie=globalThis.crypto),!ie&&typeof window<"u"&&window.msCrypto&&(ie=window.msCrypto),!ie&&typeof global<"u"&&global.crypto&&(ie=global.crypto),!ie)try{ie=K(480)}catch{}var W=function(){if(ie){if("function"==typeof ie.getRandomValues)try{return ie.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof ie.randomBytes)try{return ie.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},Z=Object.create||function(){function T(){}return function(F){var Q;return T.prototype=F,Q=new T,T.prototype=null,Q}}(),se={},k=se.lib={},z=k.Base={extend:function(T){var F=Z(this);return T&&F.mixIn(T),(!F.hasOwnProperty("init")||this.init===F.init)&&(F.init=function(){F.$super.init.apply(this,arguments)}),F.init.prototype=F,F.$super=this,F},create:function(){var T=this.extend();return T.init.apply(T,arguments),T},init:function(){},mixIn:function(T){for(var F in T)T.hasOwnProperty(F)&&(this[F]=T[F]);T.hasOwnProperty("toString")&&(this.toString=T.toString)},clone:function(){return this.init.prototype.extend(this)}},E=k.WordArray=z.extend({init:function(T,F){T=this.words=T||[],this.sigBytes=null!=F?F:4*T.length},toString:function(T){return(T||H).stringify(this)},concat:function(T){var F=this.words,Q=T.words,X=this.sigBytes,te=T.sigBytes;if(this.clamp(),X%4)for(var ne=0;ne<te;ne++)F[X+ne>>>2]|=(Q[ne>>>2]>>>24-ne%4*8&255)<<24-(X+ne)%4*8;else for(var ve=0;ve<te;ve+=4)F[X+ve>>>2]=Q[ve>>>2];return this.sigBytes+=te,this},clamp:function(){var T=this.words,F=this.sigBytes;T[F>>>2]&=4294967295<<32-F%4*8,T.length=B.ceil(F/4)},clone:function(){var T=z.clone.call(this);return T.words=this.words.slice(0),T},random:function(T){for(var F=[],Q=0;Q<T;Q+=4)F.push(W());return new E.init(F,T)}}),R=se.enc={},H=R.Hex={stringify:function(T){for(var F=T.words,Q=T.sigBytes,X=[],te=0;te<Q;te++){var ne=F[te>>>2]>>>24-te%4*8&255;X.push((ne>>>4).toString(16)),X.push((15&ne).toString(16))}return X.join("")},parse:function(T){for(var F=T.length,Q=[],X=0;X<F;X+=2)Q[X>>>3]|=parseInt(T.substr(X,2),16)<<24-X%8*4;return new E.init(Q,F/2)}},P=R.Latin1={stringify:function(T){for(var F=T.words,Q=T.sigBytes,X=[],te=0;te<Q;te++)X.push(String.fromCharCode(F[te>>>2]>>>24-te%4*8&255));return X.join("")},parse:function(T){for(var F=T.length,Q=[],X=0;X<F;X++)Q[X>>>2]|=(255&T.charCodeAt(X))<<24-X%4*8;return new E.init(Q,F)}},j=R.Utf8={stringify:function(T){try{return decodeURIComponent(escape(P.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(T){return P.parse(unescape(encodeURIComponent(T)))}},V=k.BufferedBlockAlgorithm=z.extend({reset:function(){this._data=new E.init,this._nDataBytes=0},_append:function(T){"string"==typeof T&&(T=j.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},_process:function(T){var F,Q=this._data,X=Q.words,te=Q.sigBytes,ne=this.blockSize,ve=te/(4*ne),ye=(ve=T?B.ceil(ve):B.max((0|ve)-this._minBufferSize,0))*ne,ge=B.min(4*ye,te);if(ye){for(var le=0;le<ye;le+=ne)this._doProcessBlock(X,le);F=X.splice(0,ye),Q.sigBytes-=ge}return new E.init(F,ge)},clone:function(){var T=z.clone.call(this);return T._data=this._data.clone(),T},_minBufferSize:0}),Y=(k.Hasher=V.extend({cfg:z.extend(),init:function(T){this.cfg=this.cfg.extend(T),this.reset()},reset:function(){V.reset.call(this),this._doReset()},update:function(T){return this._append(T),this._process(),this},finalize:function(T){return T&&this._append(T),this._doFinalize()},blockSize:16,_createHelper:function(T){return function(F,Q){return new T.init(Q).finalize(F)}},_createHmacHelper:function(T){return function(F,Q){return new Y.HMAC.init(T,Q).finalize(F)}}}),se.algo={});return se}(Math),$)},319:function(Se,Ee,K){var $,ie;Se.exports=($=K(585),ie=$.lib.WordArray,$.enc.Base64={stringify:function(k){var z=k.words,E=k.sigBytes,R=this._map;k.clamp();for(var H=[],P=0;P<E;P+=3)for(var Y=(z[P>>>2]>>>24-P%4*8&255)<<16|(z[P+1>>>2]>>>24-(P+1)%4*8&255)<<8|z[P+2>>>2]>>>24-(P+2)%4*8&255,T=0;T<4&&P+.75*T<E;T++)H.push(R.charAt(Y>>>6*(3-T)&63));var F=R.charAt(64);if(F)for(;H.length%4;)H.push(F);return H.join("")},parse:function(k){var z=k.length,E=this._map,R=this._reverseMap;if(!R){R=this._reverseMap=[];for(var H=0;H<E.length;H++)R[E.charCodeAt(H)]=H}var P=E.charAt(64);if(P){var j=k.indexOf(P);-1!==j&&(z=j)}return function se(k,z,E){for(var R=[],H=0,P=0;P<z;P++)if(P%4){var j=E[k.charCodeAt(P-1)]<<P%4*2,V=E[k.charCodeAt(P)]>>>6-P%4*2;R[H>>>2]|=(j|V)<<24-H%4*8,H++}return ie.create(R,H)}(k,z,R)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},$.enc.Base64)},410:function(Se,Ee,K){var $,ie;Se.exports=($=K(585),ie=$.lib.WordArray,$.enc.Base64url={stringify:function(k,z){void 0===z&&(z=!0);var E=k.words,R=k.sigBytes,H=z?this._safe_map:this._map;k.clamp();for(var P=[],j=0;j<R;j+=3)for(var T=(E[j>>>2]>>>24-j%4*8&255)<<16|(E[j+1>>>2]>>>24-(j+1)%4*8&255)<<8|E[j+2>>>2]>>>24-(j+2)%4*8&255,F=0;F<4&&j+.75*F<R;F++)P.push(H.charAt(T>>>6*(3-F)&63));var Q=H.charAt(64);if(Q)for(;P.length%4;)P.push(Q);return P.join("")},parse:function(k,z){void 0===z&&(z=!0);var E=k.length,R=z?this._safe_map:this._map,H=this._reverseMap;if(!H){H=this._reverseMap=[];for(var P=0;P<R.length;P++)H[R.charCodeAt(P)]=P}var j=R.charAt(64);if(j){var V=k.indexOf(j);-1!==V&&(E=V)}return function se(k,z,E){for(var R=[],H=0,P=0;P<z;P++)if(P%4){var j=E[k.charCodeAt(P-1)]<<P%4*2,V=E[k.charCodeAt(P)]>>>6-P%4*2;R[H>>>2]|=(j|V)<<24-H%4*8,H++}return ie.create(R,H)}(k,E,H)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},$.enc.Base64url)},12:function(Se,Ee,K){var $;Se.exports=($=K(585),function(){var ie=$.lib.WordArray,W=$.enc;function se(k){return k<<8&4278255360|k>>>8&16711935}W.Utf16=W.Utf16BE={stringify:function(k){for(var z=k.words,E=k.sigBytes,R=[],H=0;H<E;H+=2)R.push(String.fromCharCode(z[H>>>2]>>>16-H%4*8&65535));return R.join("")},parse:function(k){for(var z=k.length,E=[],R=0;R<z;R++)E[R>>>1]|=k.charCodeAt(R)<<16-R%2*16;return ie.create(E,2*z)}},W.Utf16LE={stringify:function(k){for(var z=k.words,E=k.sigBytes,R=[],H=0;H<E;H+=2){var P=se(z[H>>>2]>>>16-H%4*8&65535);R.push(String.fromCharCode(P))}return R.join("")},parse:function(k){for(var z=k.length,E=[],R=0;R<z;R++)E[R>>>1]|=se(k.charCodeAt(R)<<16-R%2*16);return ie.create(E,2*z)}}}(),$.enc.Utf16)},865:function(Se,Ee,K){var B,oe,ie,W,Z,k,$;Se.exports=($=K(585),K(162),K(764),W=(oe=(B=$).lib).WordArray,k=(Z=B.algo).EvpKDF=(ie=oe.Base).extend({cfg:ie.extend({keySize:4,hasher:Z.MD5,iterations:1}),init:function(z){this.cfg=this.cfg.extend(z)},compute:function(z,E){for(var R,H=this.cfg,P=H.hasher.create(),j=W.create(),V=j.words,q=H.keySize,Y=H.iterations;V.length<q;){R&&P.update(R),R=P.update(z).finalize(E),P.reset();for(var T=1;T<Y;T++)R=P.finalize(R),P.reset();j.concat(R)}return j.sigBytes=4*q,j}}),B.EvpKDF=function(z,E,R){return k.create(R).compute(z,E)},$.EvpKDF)},847:function(Se,Ee,K){var $,W,se;Se.exports=($=K(585),K(57),W=$.lib.CipherParams,se=$.enc.Hex,$.format.Hex={stringify:function(E){return E.ciphertext.toString(se)},parse:function(E){var R=se.parse(E);return W.create({ciphertext:R})}},$.format.Hex)},764:function(Se,Ee,K){var $,Z;Se.exports=($=K(585),Z=$.enc.Utf8,void($.algo.HMAC=$.lib.Base.extend({init:function(z,E){z=this._hasher=new z.init,"string"==typeof E&&(E=Z.parse(E));var R=z.blockSize,H=4*R;E.sigBytes>H&&(E=z.finalize(E)),E.clamp();for(var P=this._oKey=E.clone(),j=this._iKey=E.clone(),V=P.words,q=j.words,Y=0;Y<R;Y++)V[Y]^=1549556828,q[Y]^=909522486;P.sigBytes=j.sigBytes=H,this.reset()},reset:function(){var z=this._hasher;z.reset(),z.update(this._iKey)},update:function(z){return this._hasher.update(z),this},finalize:function(z){var E=this._hasher,R=E.finalize(z);return E.reset(),E.finalize(this._oKey.clone().concat(R))}})))},206:function(Se,Ee,K){var $;Se.exports=($=K(585),K(401),K(412),K(12),K(319),K(410),K(493),K(162),K(817),K(769),K(351),K(787),K(971),K(973),K(764),K(812),K(865),K(57),K(424),K(635),K(592),K(354),K(934),K(413),K(630),K(187),K(691),K(237),K(847),K(466),K(243),K(486),K(182),K(544),K(302),$)},412:function(Se,Ee,K){var $;Se.exports=($=K(585),function(){if("function"==typeof ArrayBuffer){var ie=$.lib.WordArray,W=ie.init,Z=ie.init=function(se){if(se instanceof ArrayBuffer&&(se=new Uint8Array(se)),(se instanceof Int8Array||typeof Uint8ClampedArray<"u"&&se instanceof Uint8ClampedArray||se instanceof Int16Array||se instanceof Uint16Array||se instanceof Int32Array||se instanceof Uint32Array||se instanceof Float32Array||se instanceof Float64Array)&&(se=new Uint8Array(se.buffer,se.byteOffset,se.byteLength)),se instanceof Uint8Array){for(var k=se.byteLength,z=[],E=0;E<k;E++)z[E>>>2]|=se[E]<<24-E%4*8;W.call(this,z,k)}else W.apply(this,arguments)};Z.prototype=ie}}(),$.lib.WordArray)},493:function(Se,Ee,K){var $;Se.exports=($=K(585),function(B){var oe=$,ie=oe.lib,W=ie.WordArray,Z=ie.Hasher,se=oe.algo,k=[];!function(){for(var j=0;j<64;j++)k[j]=4294967296*B.abs(B.sin(j+1))|0}();var z=se.MD5=Z.extend({_doReset:function(){this._hash=new W.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(j,V){for(var q=0;q<16;q++){var Y=V+q,T=j[Y];j[Y]=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8)}var F=this._hash.words,Q=j[V+0],X=j[V+1],te=j[V+2],ne=j[V+3],me=j[V+4],ve=j[V+5],ye=j[V+6],ge=j[V+7],le=j[V+8],we=j[V+9],Me=j[V+10],_e=j[V+11],Ue=j[V+12],Ce=j[V+13],tt=j[V+14],it=j[V+15],de=F[0],pe=F[1],re=F[2],he=F[3];de=E(de,pe,re,he,Q,7,k[0]),he=E(he,de,pe,re,X,12,k[1]),re=E(re,he,de,pe,te,17,k[2]),pe=E(pe,re,he,de,ne,22,k[3]),de=E(de,pe,re,he,me,7,k[4]),he=E(he,de,pe,re,ve,12,k[5]),re=E(re,he,de,pe,ye,17,k[6]),pe=E(pe,re,he,de,ge,22,k[7]),de=E(de,pe,re,he,le,7,k[8]),he=E(he,de,pe,re,we,12,k[9]),re=E(re,he,de,pe,Me,17,k[10]),pe=E(pe,re,he,de,_e,22,k[11]),de=E(de,pe,re,he,Ue,7,k[12]),he=E(he,de,pe,re,Ce,12,k[13]),re=E(re,he,de,pe,tt,17,k[14]),de=R(de,pe=E(pe,re,he,de,it,22,k[15]),re,he,X,5,k[16]),he=R(he,de,pe,re,ye,9,k[17]),re=R(re,he,de,pe,_e,14,k[18]),pe=R(pe,re,he,de,Q,20,k[19]),de=R(de,pe,re,he,ve,5,k[20]),he=R(he,de,pe,re,Me,9,k[21]),re=R(re,he,de,pe,it,14,k[22]),pe=R(pe,re,he,de,me,20,k[23]),de=R(de,pe,re,he,we,5,k[24]),he=R(he,de,pe,re,tt,9,k[25]),re=R(re,he,de,pe,ne,14,k[26]),pe=R(pe,re,he,de,le,20,k[27]),de=R(de,pe,re,he,Ce,5,k[28]),he=R(he,de,pe,re,te,9,k[29]),re=R(re,he,de,pe,ge,14,k[30]),de=H(de,pe=R(pe,re,he,de,Ue,20,k[31]),re,he,ve,4,k[32]),he=H(he,de,pe,re,le,11,k[33]),re=H(re,he,de,pe,_e,16,k[34]),pe=H(pe,re,he,de,tt,23,k[35]),de=H(de,pe,re,he,X,4,k[36]),he=H(he,de,pe,re,me,11,k[37]),re=H(re,he,de,pe,ge,16,k[38]),pe=H(pe,re,he,de,Me,23,k[39]),de=H(de,pe,re,he,Ce,4,k[40]),he=H(he,de,pe,re,Q,11,k[41]),re=H(re,he,de,pe,ne,16,k[42]),pe=H(pe,re,he,de,ye,23,k[43]),de=H(de,pe,re,he,we,4,k[44]),he=H(he,de,pe,re,Ue,11,k[45]),re=H(re,he,de,pe,it,16,k[46]),de=P(de,pe=H(pe,re,he,de,te,23,k[47]),re,he,Q,6,k[48]),he=P(he,de,pe,re,ge,10,k[49]),re=P(re,he,de,pe,tt,15,k[50]),pe=P(pe,re,he,de,ve,21,k[51]),de=P(de,pe,re,he,Ue,6,k[52]),he=P(he,de,pe,re,ne,10,k[53]),re=P(re,he,de,pe,Me,15,k[54]),pe=P(pe,re,he,de,X,21,k[55]),de=P(de,pe,re,he,le,6,k[56]),he=P(he,de,pe,re,it,10,k[57]),re=P(re,he,de,pe,ye,15,k[58]),pe=P(pe,re,he,de,Ce,21,k[59]),de=P(de,pe,re,he,me,6,k[60]),he=P(he,de,pe,re,_e,10,k[61]),re=P(re,he,de,pe,te,15,k[62]),pe=P(pe,re,he,de,we,21,k[63]),F[0]=F[0]+de|0,F[1]=F[1]+pe|0,F[2]=F[2]+re|0,F[3]=F[3]+he|0},_doFinalize:function(){var j=this._data,V=j.words,q=8*this._nDataBytes,Y=8*j.sigBytes;V[Y>>>5]|=128<<24-Y%32;var T=B.floor(q/4294967296),F=q;V[15+(Y+64>>>9<<4)]=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8),V[14+(Y+64>>>9<<4)]=16711935&(F<<8|F>>>24)|4278255360&(F<<24|F>>>8),j.sigBytes=4*(V.length+1),this._process();for(var Q=this._hash,X=Q.words,te=0;te<4;te++){var ne=X[te];X[te]=16711935&(ne<<8|ne>>>24)|4278255360&(ne<<24|ne>>>8)}return Q},clone:function(){var j=Z.clone.call(this);return j._hash=this._hash.clone(),j}});function E(j,V,q,Y,T,F,Q){var X=j+(V&q|~V&Y)+T+Q;return(X<<F|X>>>32-F)+V}function R(j,V,q,Y,T,F,Q){var X=j+(V&Y|q&~Y)+T+Q;return(X<<F|X>>>32-F)+V}function H(j,V,q,Y,T,F,Q){var X=j+(V^q^Y)+T+Q;return(X<<F|X>>>32-F)+V}function P(j,V,q,Y,T,F,Q){var X=j+(q^(V|~Y))+T+Q;return(X<<F|X>>>32-F)+V}oe.MD5=Z._createHelper(z),oe.HmacMD5=Z._createHmacHelper(z)}(Math),$.MD5)},424:function(Se,Ee,K){var $;Se.exports=($=K(585),K(57),$.mode.CFB=function(){var B=$.lib.BlockCipherMode.extend();function oe(ie,W,Z,se){var k,z=this._iv;z?(k=z.slice(0),this._iv=void 0):k=this._prevBlock,se.encryptBlock(k,0);for(var E=0;E<Z;E++)ie[W+E]^=k[E]}return B.Encryptor=B.extend({processBlock:function(ie,W){var Z=this._cipher,se=Z.blockSize;oe.call(this,ie,W,se,Z),this._prevBlock=ie.slice(W,W+se)}}),B.Decryptor=B.extend({processBlock:function(ie,W){var Z=this._cipher,se=Z.blockSize,k=ie.slice(W,W+se);oe.call(this,ie,W,se,Z),this._prevBlock=k}}),B}(),$.mode.CFB)},592:function(Se,Ee,K){var $;Se.exports=($=K(585),K(57),$.mode.CTRGladman=function(){var B=$.lib.BlockCipherMode.extend();function oe(Z){if(255==(Z>>24&255)){var se=Z>>16&255,k=Z>>8&255,z=255&Z;255===se?(se=0,255===k?(k=0,255===z?z=0:++z):++k):++se,Z=0,Z+=se<<16,Z+=k<<8,Z+=z}else Z+=1<<24;return Z}var W=B.Encryptor=B.extend({processBlock:function(Z,se){var k=this._cipher,z=k.blockSize,E=this._iv,R=this._counter;E&&(R=this._counter=E.slice(0),this._iv=void 0),function ie(Z){return 0===(Z[0]=oe(Z[0]))&&(Z[1]=oe(Z[1])),Z}(R);var H=R.slice(0);k.encryptBlock(H,0);for(var P=0;P<z;P++)Z[se+P]^=H[P]}});return B.Decryptor=W,B}(),$.mode.CTRGladman)},635:function(Se,Ee,K){var B,oe,$;Se.exports=($=K(585),K(57),$.mode.CTR=(oe=(B=$.lib.BlockCipherMode.extend()).Encryptor=B.extend({processBlock:function(ie,W){var Z=this._cipher,se=Z.blockSize,k=this._iv,z=this._counter;k&&(z=this._counter=k.slice(0),this._iv=void 0);var E=z.slice(0);Z.encryptBlock(E,0),z[se-1]=z[se-1]+1|0;for(var R=0;R<se;R++)ie[W+R]^=E[R]}}),B.Decryptor=oe,B),$.mode.CTR)},934:function(Se,Ee,K){var B,$;Se.exports=($=K(585),K(57),$.mode.ECB=((B=$.lib.BlockCipherMode.extend()).Encryptor=B.extend({processBlock:function(oe,ie){this._cipher.encryptBlock(oe,ie)}}),B.Decryptor=B.extend({processBlock:function(oe,ie){this._cipher.decryptBlock(oe,ie)}}),B),$.mode.ECB)},354:function(Se,Ee,K){var B,oe,$;Se.exports=($=K(585),K(57),$.mode.OFB=(oe=(B=$.lib.BlockCipherMode.extend()).Encryptor=B.extend({processBlock:function(ie,W){var Z=this._cipher,se=Z.blockSize,k=this._iv,z=this._keystream;k&&(z=this._keystream=k.slice(0),this._iv=void 0),Z.encryptBlock(z,0);for(var E=0;E<se;E++)ie[W+E]^=z[E]}}),B.Decryptor=oe,B),$.mode.OFB)},413:function(Se,Ee,K){var $;Se.exports=($=K(585),K(57),$.pad.AnsiX923={pad:function(B,oe){var ie=B.sigBytes,W=4*oe,Z=W-ie%W,se=ie+Z-1;B.clamp(),B.words[se>>>2]|=Z<<24-se%4*8,B.sigBytes+=Z},unpad:function(B){B.sigBytes-=255&B.words[B.sigBytes-1>>>2]}},$.pad.Ansix923)},630:function(Se,Ee,K){var $;Se.exports=($=K(585),K(57),$.pad.Iso10126={pad:function(B,oe){var ie=4*oe,W=ie-B.sigBytes%ie;B.concat($.lib.WordArray.random(W-1)).concat($.lib.WordArray.create([W<<24],1))},unpad:function(B){B.sigBytes-=255&B.words[B.sigBytes-1>>>2]}},$.pad.Iso10126)},187:function(Se,Ee,K){var $;Se.exports=($=K(585),K(57),$.pad.Iso97971={pad:function(B,oe){B.concat($.lib.WordArray.create([2147483648],1)),$.pad.ZeroPadding.pad(B,oe)},unpad:function(B){$.pad.ZeroPadding.unpad(B),B.sigBytes--}},$.pad.Iso97971)},237:function(Se,Ee,K){var $;Se.exports=($=K(585),K(57),$.pad.NoPadding={pad:function(){},unpad:function(){}},$.pad.NoPadding)},691:function(Se,Ee,K){var $;Se.exports=($=K(585),K(57),$.pad.ZeroPadding={pad:function(B,oe){var ie=4*oe;B.clamp(),B.sigBytes+=ie-(B.sigBytes%ie||ie)},unpad:function(B){var oe=B.words,ie=B.sigBytes-1;for(ie=B.sigBytes-1;ie>=0;ie--)if(oe[ie>>>2]>>>24-ie%4*8&255){B.sigBytes=ie+1;break}}},$.pad.ZeroPadding)},812:function(Se,Ee,K){var B,oe,ie,W,Z,k,z,$;Se.exports=($=K(585),K(817),K(764),W=(oe=(B=$).lib).WordArray,k=(Z=B.algo).HMAC,z=Z.PBKDF2=(ie=oe.Base).extend({cfg:ie.extend({keySize:4,hasher:Z.SHA256,iterations:25e4}),init:function(E){this.cfg=this.cfg.extend(E)},compute:function(E,R){for(var H=this.cfg,P=k.create(H.hasher,E),j=W.create(),V=W.create([1]),q=j.words,Y=V.words,T=H.keySize,F=H.iterations;q.length<T;){var Q=P.update(R).finalize(V);P.reset();for(var X=Q.words,te=X.length,ne=Q,me=1;me<F;me++){ne=P.finalize(ne),P.reset();for(var ve=ne.words,ye=0;ye<te;ye++)X[ye]^=ve[ye]}j.concat(Q),Y[0]++}return j.sigBytes=4*T,j}}),B.PBKDF2=function(E,R,H){return z.create(H).compute(E,R)},$.PBKDF2)},544:function(Se,Ee,K){var $;Se.exports=($=K(585),K(319),K(493),K(865),K(57),function(){var B=$,ie=B.lib.StreamCipher,Z=[],se=[],k=[],z=B.algo.RabbitLegacy=ie.extend({_doReset:function(){var R=this._key.words,H=this.cfg.iv,P=this._X=[R[0],R[3]<<16|R[2]>>>16,R[1],R[0]<<16|R[3]>>>16,R[2],R[1]<<16|R[0]>>>16,R[3],R[2]<<16|R[1]>>>16],j=this._C=[R[2]<<16|R[2]>>>16,4294901760&R[0]|65535&R[1],R[3]<<16|R[3]>>>16,4294901760&R[1]|65535&R[2],R[0]<<16|R[0]>>>16,4294901760&R[2]|65535&R[3],R[1]<<16|R[1]>>>16,4294901760&R[3]|65535&R[0]];this._b=0;for(var V=0;V<4;V++)E.call(this);for(V=0;V<8;V++)j[V]^=P[V+4&7];if(H){var q=H.words,Y=q[0],T=q[1],F=16711935&(Y<<8|Y>>>24)|4278255360&(Y<<24|Y>>>8),Q=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8),X=F>>>16|4294901760&Q,te=Q<<16|65535&F;for(j[0]^=F,j[1]^=X,j[2]^=Q,j[3]^=te,j[4]^=F,j[5]^=X,j[6]^=Q,j[7]^=te,V=0;V<4;V++)E.call(this)}},_doProcessBlock:function(R,H){var P=this._X;E.call(this),Z[0]=P[0]^P[5]>>>16^P[3]<<16,Z[1]=P[2]^P[7]>>>16^P[5]<<16,Z[2]=P[4]^P[1]>>>16^P[7]<<16,Z[3]=P[6]^P[3]>>>16^P[1]<<16;for(var j=0;j<4;j++)Z[j]=16711935&(Z[j]<<8|Z[j]>>>24)|4278255360&(Z[j]<<24|Z[j]>>>8),R[H+j]^=Z[j]},blockSize:4,ivSize:2});function E(){for(var R=this._X,H=this._C,P=0;P<8;P++)se[P]=H[P];for(H[0]=H[0]+1295307597+this._b|0,H[1]=H[1]+3545052371+(H[0]>>>0<se[0]>>>0?1:0)|0,H[2]=H[2]+886263092+(H[1]>>>0<se[1]>>>0?1:0)|0,H[3]=H[3]+1295307597+(H[2]>>>0<se[2]>>>0?1:0)|0,H[4]=H[4]+3545052371+(H[3]>>>0<se[3]>>>0?1:0)|0,H[5]=H[5]+886263092+(H[4]>>>0<se[4]>>>0?1:0)|0,H[6]=H[6]+1295307597+(H[5]>>>0<se[5]>>>0?1:0)|0,H[7]=H[7]+3545052371+(H[6]>>>0<se[6]>>>0?1:0)|0,this._b=H[7]>>>0<se[7]>>>0?1:0,P=0;P<8;P++){var j=R[P]+H[P],V=65535&j,q=j>>>16;k[P]=((V*V>>>17)+V*q>>>15)+q*q^((4294901760&j)*j|0)+((65535&j)*j|0)}R[0]=k[0]+(k[7]<<16|k[7]>>>16)+(k[6]<<16|k[6]>>>16)|0,R[1]=k[1]+(k[0]<<8|k[0]>>>24)+k[7]|0,R[2]=k[2]+(k[1]<<16|k[1]>>>16)+(k[0]<<16|k[0]>>>16)|0,R[3]=k[3]+(k[2]<<8|k[2]>>>24)+k[1]|0,R[4]=k[4]+(k[3]<<16|k[3]>>>16)+(k[2]<<16|k[2]>>>16)|0,R[5]=k[5]+(k[4]<<8|k[4]>>>24)+k[3]|0,R[6]=k[6]+(k[5]<<16|k[5]>>>16)+(k[4]<<16|k[4]>>>16)|0,R[7]=k[7]+(k[6]<<8|k[6]>>>24)+k[5]|0}B.RabbitLegacy=ie._createHelper(z)}(),$.RabbitLegacy)},182:function(Se,Ee,K){var $;Se.exports=($=K(585),K(319),K(493),K(865),K(57),function(){var B=$,ie=B.lib.StreamCipher,Z=[],se=[],k=[],z=B.algo.Rabbit=ie.extend({_doReset:function(){for(var R=this._key.words,H=this.cfg.iv,P=0;P<4;P++)R[P]=16711935&(R[P]<<8|R[P]>>>24)|4278255360&(R[P]<<24|R[P]>>>8);var j=this._X=[R[0],R[3]<<16|R[2]>>>16,R[1],R[0]<<16|R[3]>>>16,R[2],R[1]<<16|R[0]>>>16,R[3],R[2]<<16|R[1]>>>16],V=this._C=[R[2]<<16|R[2]>>>16,4294901760&R[0]|65535&R[1],R[3]<<16|R[3]>>>16,4294901760&R[1]|65535&R[2],R[0]<<16|R[0]>>>16,4294901760&R[2]|65535&R[3],R[1]<<16|R[1]>>>16,4294901760&R[3]|65535&R[0]];for(this._b=0,P=0;P<4;P++)E.call(this);for(P=0;P<8;P++)V[P]^=j[P+4&7];if(H){var q=H.words,Y=q[0],T=q[1],F=16711935&(Y<<8|Y>>>24)|4278255360&(Y<<24|Y>>>8),Q=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8),X=F>>>16|4294901760&Q,te=Q<<16|65535&F;for(V[0]^=F,V[1]^=X,V[2]^=Q,V[3]^=te,V[4]^=F,V[5]^=X,V[6]^=Q,V[7]^=te,P=0;P<4;P++)E.call(this)}},_doProcessBlock:function(R,H){var P=this._X;E.call(this),Z[0]=P[0]^P[5]>>>16^P[3]<<16,Z[1]=P[2]^P[7]>>>16^P[5]<<16,Z[2]=P[4]^P[1]>>>16^P[7]<<16,Z[3]=P[6]^P[3]>>>16^P[1]<<16;for(var j=0;j<4;j++)Z[j]=16711935&(Z[j]<<8|Z[j]>>>24)|4278255360&(Z[j]<<24|Z[j]>>>8),R[H+j]^=Z[j]},blockSize:4,ivSize:2});function E(){for(var R=this._X,H=this._C,P=0;P<8;P++)se[P]=H[P];for(H[0]=H[0]+1295307597+this._b|0,H[1]=H[1]+3545052371+(H[0]>>>0<se[0]>>>0?1:0)|0,H[2]=H[2]+886263092+(H[1]>>>0<se[1]>>>0?1:0)|0,H[3]=H[3]+1295307597+(H[2]>>>0<se[2]>>>0?1:0)|0,H[4]=H[4]+3545052371+(H[3]>>>0<se[3]>>>0?1:0)|0,H[5]=H[5]+886263092+(H[4]>>>0<se[4]>>>0?1:0)|0,H[6]=H[6]+1295307597+(H[5]>>>0<se[5]>>>0?1:0)|0,H[7]=H[7]+3545052371+(H[6]>>>0<se[6]>>>0?1:0)|0,this._b=H[7]>>>0<se[7]>>>0?1:0,P=0;P<8;P++){var j=R[P]+H[P],V=65535&j,q=j>>>16;k[P]=((V*V>>>17)+V*q>>>15)+q*q^((4294901760&j)*j|0)+((65535&j)*j|0)}R[0]=k[0]+(k[7]<<16|k[7]>>>16)+(k[6]<<16|k[6]>>>16)|0,R[1]=k[1]+(k[0]<<8|k[0]>>>24)+k[7]|0,R[2]=k[2]+(k[1]<<16|k[1]>>>16)+(k[0]<<16|k[0]>>>16)|0,R[3]=k[3]+(k[2]<<8|k[2]>>>24)+k[1]|0,R[4]=k[4]+(k[3]<<16|k[3]>>>16)+(k[2]<<16|k[2]>>>16)|0,R[5]=k[5]+(k[4]<<8|k[4]>>>24)+k[3]|0,R[6]=k[6]+(k[5]<<16|k[5]>>>16)+(k[4]<<16|k[4]>>>16)|0,R[7]=k[7]+(k[6]<<8|k[6]>>>24)+k[5]|0}B.Rabbit=ie._createHelper(z)}(),$.Rabbit)},486:function(Se,Ee,K){var $;Se.exports=($=K(585),K(319),K(493),K(865),K(57),function(){var B=$,ie=B.lib.StreamCipher,W=B.algo,Z=W.RC4=ie.extend({_doReset:function(){for(var z=this._key,E=z.words,R=z.sigBytes,H=this._S=[],P=0;P<256;P++)H[P]=P;P=0;for(var j=0;P<256;P++){var V=P%R,Y=H[P];H[P]=H[j=(j+H[P]+(E[V>>>2]>>>24-V%4*8&255))%256],H[j]=Y}this._i=this._j=0},_doProcessBlock:function(z,E){z[E]^=se.call(this)},keySize:8,ivSize:0});function se(){for(var z=this._S,E=this._i,R=this._j,H=0,P=0;P<4;P++){var j=z[E=(E+1)%256];z[E]=z[R=(R+z[E])%256],z[R]=j,H|=z[(z[E]+z[R])%256]<<24-8*P}return this._i=E,this._j=R,H}B.RC4=ie._createHelper(Z);var k=W.RC4Drop=Z.extend({cfg:Z.cfg.extend({drop:192}),_doReset:function(){Z._doReset.call(this);for(var z=this.cfg.drop;z>0;z--)se.call(this)}});B.RC4Drop=ie._createHelper(k)}(),$.RC4)},973:function(Se,Ee,K){var $;Se.exports=($=K(585),function(B){var oe=$,ie=oe.lib,W=ie.WordArray,Z=ie.Hasher,se=oe.algo,k=W.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),z=W.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),E=W.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),R=W.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),H=W.create([0,1518500249,1859775393,2400959708,2840853838]),P=W.create([1352829926,1548603684,1836072691,2053994217,0]),j=se.RIPEMD160=Z.extend({_doReset:function(){this._hash=W.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(X,te){for(var ne=0;ne<16;ne++){var me=te+ne,ve=X[me];X[me]=16711935&(ve<<8|ve>>>24)|4278255360&(ve<<24|ve>>>8)}var Ce,tt,it,de,pe,re,he,St,Ye,ot,st,ye=this._hash.words,ge=H.words,le=P.words,we=k.words,Me=z.words,_e=E.words,Ue=R.words;for(re=Ce=ye[0],he=tt=ye[1],St=it=ye[2],Ye=de=ye[3],ot=pe=ye[4],ne=0;ne<80;ne+=1)st=Ce+X[te+we[ne]]|0,st+=ne<16?V(tt,it,de)+ge[0]:ne<32?q(tt,it,de)+ge[1]:ne<48?Y(tt,it,de)+ge[2]:ne<64?T(tt,it,de)+ge[3]:F(tt,it,de)+ge[4],st=(st=Q(st|=0,_e[ne]))+pe|0,Ce=pe,pe=de,de=Q(it,10),it=tt,tt=st,st=re+X[te+Me[ne]]|0,st+=ne<16?F(he,St,Ye)+le[0]:ne<32?T(he,St,Ye)+le[1]:ne<48?Y(he,St,Ye)+le[2]:ne<64?q(he,St,Ye)+le[3]:V(he,St,Ye)+le[4],st=(st=Q(st|=0,Ue[ne]))+ot|0,re=ot,ot=Ye,Ye=Q(St,10),St=he,he=st;st=ye[1]+it+Ye|0,ye[1]=ye[2]+de+ot|0,ye[2]=ye[3]+pe+re|0,ye[3]=ye[4]+Ce+he|0,ye[4]=ye[0]+tt+St|0,ye[0]=st},_doFinalize:function(){var X=this._data,te=X.words,ne=8*this._nDataBytes,me=8*X.sigBytes;te[me>>>5]|=128<<24-me%32,te[14+(me+64>>>9<<4)]=16711935&(ne<<8|ne>>>24)|4278255360&(ne<<24|ne>>>8),X.sigBytes=4*(te.length+1),this._process();for(var ve=this._hash,ye=ve.words,ge=0;ge<5;ge++){var le=ye[ge];ye[ge]=16711935&(le<<8|le>>>24)|4278255360&(le<<24|le>>>8)}return ve},clone:function(){var X=Z.clone.call(this);return X._hash=this._hash.clone(),X}});function V(X,te,ne){return X^te^ne}function q(X,te,ne){return X&te|~X&ne}function Y(X,te,ne){return(X|~te)^ne}function T(X,te,ne){return X&ne|te&~ne}function F(X,te,ne){return X^(te|~ne)}function Q(X,te){return X<<te|X>>>32-te}oe.RIPEMD160=Z._createHelper(j),oe.HmacRIPEMD160=Z._createHmacHelper(j)}(Math),$.RIPEMD160)},162:function(Se,Ee,K){var B,oe,ie,W,se,k,$;Se.exports=($=K(585),ie=(oe=(B=$).lib).WordArray,se=[],k=B.algo.SHA1=(W=oe.Hasher).extend({_doReset:function(){this._hash=new ie.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(z,E){for(var R=this._hash.words,H=R[0],P=R[1],j=R[2],V=R[3],q=R[4],Y=0;Y<80;Y++){if(Y<16)se[Y]=0|z[E+Y];else{var T=se[Y-3]^se[Y-8]^se[Y-14]^se[Y-16];se[Y]=T<<1|T>>>31}var F=(H<<5|H>>>27)+q+se[Y];F+=Y<20?1518500249+(P&j|~P&V):Y<40?1859775393+(P^j^V):Y<60?(P&j|P&V|j&V)-1894007588:(P^j^V)-899497514,q=V,V=j,j=P<<30|P>>>2,P=H,H=F}R[0]=R[0]+H|0,R[1]=R[1]+P|0,R[2]=R[2]+j|0,R[3]=R[3]+V|0,R[4]=R[4]+q|0},_doFinalize:function(){var z=this._data,E=z.words,R=8*this._nDataBytes,H=8*z.sigBytes;return E[H>>>5]|=128<<24-H%32,E[14+(H+64>>>9<<4)]=Math.floor(R/4294967296),E[15+(H+64>>>9<<4)]=R,z.sigBytes=4*E.length,this._process(),this._hash},clone:function(){var z=W.clone.call(this);return z._hash=this._hash.clone(),z}}),B.SHA1=W._createHelper(k),B.HmacSHA1=W._createHmacHelper(k),$.SHA1)},769:function(Se,Ee,K){var B,ie,W,Z,se,$;Se.exports=($=K(585),K(817),ie=(B=$).lib.WordArray,se=(W=B.algo).SHA224=(Z=W.SHA256).extend({_doReset:function(){this._hash=new ie.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var k=Z._doFinalize.call(this);return k.sigBytes-=4,k}}),B.SHA224=Z._createHelper(se),B.HmacSHA224=Z._createHmacHelper(se),$.SHA224)},817:function(Se,Ee,K){var $;Se.exports=($=K(585),function(B){var oe=$,ie=oe.lib,W=ie.WordArray,Z=ie.Hasher,se=oe.algo,k=[],z=[];!function(){function H(q){for(var Y=B.sqrt(q),T=2;T<=Y;T++)if(!(q%T))return!1;return!0}function P(q){return 4294967296*(q-(0|q))|0}for(var j=2,V=0;V<64;)H(j)&&(V<8&&(k[V]=P(B.pow(j,.5))),z[V]=P(B.pow(j,1/3)),V++),j++}();var E=[],R=se.SHA256=Z.extend({_doReset:function(){this._hash=new W.init(k.slice(0))},_doProcessBlock:function(H,P){for(var j=this._hash.words,V=j[0],q=j[1],Y=j[2],T=j[3],F=j[4],Q=j[5],X=j[6],te=j[7],ne=0;ne<64;ne++){if(ne<16)E[ne]=0|H[P+ne];else{var me=E[ne-15],ye=E[ne-2];E[ne]=((me<<25|me>>>7)^(me<<14|me>>>18)^me>>>3)+E[ne-7]+((ye<<15|ye>>>17)^(ye<<13|ye>>>19)^ye>>>10)+E[ne-16]}var we=V&q^V&Y^q&Y,Ue=te+((F<<26|F>>>6)^(F<<21|F>>>11)^(F<<7|F>>>25))+(F&Q^~F&X)+z[ne]+E[ne];te=X,X=Q,Q=F,F=T+Ue|0,T=Y,Y=q,q=V,V=Ue+(((V<<30|V>>>2)^(V<<19|V>>>13)^(V<<10|V>>>22))+we)|0}j[0]=j[0]+V|0,j[1]=j[1]+q|0,j[2]=j[2]+Y|0,j[3]=j[3]+T|0,j[4]=j[4]+F|0,j[5]=j[5]+Q|0,j[6]=j[6]+X|0,j[7]=j[7]+te|0},_doFinalize:function(){var H=this._data,P=H.words,j=8*this._nDataBytes,V=8*H.sigBytes;return P[V>>>5]|=128<<24-V%32,P[14+(V+64>>>9<<4)]=B.floor(j/4294967296),P[15+(V+64>>>9<<4)]=j,H.sigBytes=4*P.length,this._process(),this._hash},clone:function(){var H=Z.clone.call(this);return H._hash=this._hash.clone(),H}});oe.SHA256=Z._createHelper(R),oe.HmacSHA256=Z._createHmacHelper(R)}(Math),$.SHA256)},971:function(Se,Ee,K){var $;Se.exports=($=K(585),K(401),function(B){var oe=$,ie=oe.lib,W=ie.WordArray,Z=ie.Hasher,k=oe.x64.Word,z=oe.algo,E=[],R=[],H=[];!function(){for(var V=1,q=0,Y=0;Y<24;Y++){E[V+5*q]=(Y+1)*(Y+2)/2%64;var F=(2*V+3*q)%5;V=q%5,q=F}for(V=0;V<5;V++)for(q=0;q<5;q++)R[V+5*q]=q+(2*V+3*q)%5*5;for(var Q=1,X=0;X<24;X++){for(var te=0,ne=0,me=0;me<7;me++){if(1&Q){var ve=(1<<me)-1;ve<32?ne^=1<<ve:te^=1<<ve-32}128&Q?Q=Q<<1^113:Q<<=1}H[X]=k.create(te,ne)}}();var P=[];!function(){for(var V=0;V<25;V++)P[V]=k.create()}();var j=z.SHA3=Z.extend({cfg:Z.cfg.extend({outputLength:512}),_doReset:function(){for(var V=this._state=[],q=0;q<25;q++)V[q]=new k.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(V,q){for(var Y=this._state,T=this.blockSize/2,F=0;F<T;F++){var Q=V[q+2*F],X=V[q+2*F+1];Q=16711935&(Q<<8|Q>>>24)|4278255360&(Q<<24|Q>>>8),(te=Y[F]).high^=X=16711935&(X<<8|X>>>24)|4278255360&(X<<24|X>>>8),te.low^=Q}for(var ne=0;ne<24;ne++){for(var me=0;me<5;me++){for(var ve=0,ye=0,ge=0;ge<5;ge++)ve^=(te=Y[me+5*ge]).high,ye^=te.low;var le=P[me];le.high=ve,le.low=ye}for(me=0;me<5;me++){var we=P[(me+4)%5],Me=P[(me+1)%5],_e=Me.high,Ue=Me.low;for(ve=we.high^(_e<<1|Ue>>>31),ye=we.low^(Ue<<1|_e>>>31),ge=0;ge<5;ge++)(te=Y[me+5*ge]).high^=ve,te.low^=ye}for(var Ce=1;Ce<25;Ce++){var tt=(te=Y[Ce]).high,it=te.low,de=E[Ce];de<32?(ve=tt<<de|it>>>32-de,ye=it<<de|tt>>>32-de):(ve=it<<de-32|tt>>>64-de,ye=tt<<de-32|it>>>64-de);var pe=P[R[Ce]];pe.high=ve,pe.low=ye}var re=P[0],he=Y[0];for(re.high=he.high,re.low=he.low,me=0;me<5;me++)for(ge=0;ge<5;ge++){var St=P[Ce=me+5*ge],Ye=P[(me+1)%5+5*ge],ot=P[(me+2)%5+5*ge];(te=Y[Ce]).high=St.high^~Ye.high&ot.high,te.low=St.low^~Ye.low&ot.low}var te,st=H[ne];(te=Y[0]).high^=st.high,te.low^=st.low}},_doFinalize:function(){var V=this._data,q=V.words,T=8*V.sigBytes,F=32*this.blockSize;q[T>>>5]|=1<<24-T%32,q[(B.ceil((T+1)/F)*F>>>5)-1]|=128,V.sigBytes=4*q.length,this._process();for(var Q=this._state,X=this.cfg.outputLength/8,te=X/8,ne=[],me=0;me<te;me++){var ve=Q[me],ye=ve.high,ge=ve.low;ye=16711935&(ye<<8|ye>>>24)|4278255360&(ye<<24|ye>>>8),ne.push(ge=16711935&(ge<<8|ge>>>24)|4278255360&(ge<<24|ge>>>8)),ne.push(ye)}return new W.init(ne,X)},clone:function(){for(var V=Z.clone.call(this),q=V._state=this._state.slice(0),Y=0;Y<25;Y++)q[Y]=q[Y].clone();return V}});oe.SHA3=Z._createHelper(j),oe.HmacSHA3=Z._createHmacHelper(j)}(Math),$.SHA3)},787:function(Se,Ee,K){var B,oe,ie,W,Z,se,k,$;Se.exports=($=K(585),K(401),K(351),ie=(oe=(B=$).x64).Word,W=oe.WordArray,k=(Z=B.algo).SHA384=(se=Z.SHA512).extend({_doReset:function(){this._hash=new W.init([new ie.init(3418070365,3238371032),new ie.init(1654270250,914150663),new ie.init(2438529370,812702999),new ie.init(355462360,4144912697),new ie.init(1731405415,4290775857),new ie.init(2394180231,1750603025),new ie.init(3675008525,1694076839),new ie.init(1203062813,3204075428)])},_doFinalize:function(){var z=se._doFinalize.call(this);return z.sigBytes-=16,z}}),B.SHA384=se._createHelper(k),B.HmacSHA384=se._createHmacHelper(k),$.SHA384)},351:function(Se,Ee,K){var $;Se.exports=($=K(585),K(401),function(){var B=$,ie=B.lib.Hasher,W=B.x64,Z=W.Word,se=W.WordArray,k=B.algo;function z(){return Z.create.apply(Z,arguments)}var E=[z(1116352408,3609767458),z(1899447441,602891725),z(3049323471,3964484399),z(3921009573,2173295548),z(961987163,4081628472),z(1508970993,3053834265),z(2453635748,2937671579),z(2870763221,3664609560),z(3624381080,2734883394),z(310598401,1164996542),z(607225278,1323610764),z(1426881987,3590304994),z(1925078388,4068182383),z(2162078206,991336113),z(2614888103,633803317),z(3248222580,3479774868),z(3835390401,2666613458),z(4022224774,944711139),z(264347078,2341262773),z(604807628,2007800933),z(770255983,1495990901),z(1249150122,1856431235),z(1555081692,3175218132),z(1996064986,2198950837),z(2554220882,3999719339),z(2821834349,766784016),z(2952996808,2566594879),z(3210313671,3203337956),z(3336571891,1034457026),z(3584528711,2466948901),z(113926993,3758326383),z(338241895,168717936),z(666307205,1188179964),z(773529912,1546045734),z(1294757372,1522805485),z(1396182291,2643833823),z(1695183700,2343527390),z(1986661051,1014477480),z(2177026350,1206759142),z(2456956037,344077627),z(2730485921,1290863460),z(2820302411,3158454273),z(3259730800,3505952657),z(3345764771,106217008),z(3516065817,3606008344),z(3600352804,1432725776),z(4094571909,1467031594),z(275423344,851169720),z(430227734,3100823752),z(506948616,1363258195),z(659060556,3750685593),z(883997877,3785050280),z(958139571,3318307427),z(1322822218,3812723403),z(1537002063,2003034995),z(1747873779,3602036899),z(1955562222,1575990012),z(2024104815,1125592928),z(2227730452,2716904306),z(2361852424,442776044),z(2428436474,593698344),z(2756734187,3733110249),z(3204031479,2999351573),z(3329325298,3815920427),z(3391569614,3928383900),z(3515267271,566280711),z(3940187606,3454069534),z(4118630271,4000239992),z(116418474,1914138554),z(174292421,2731055270),z(289380356,3203993006),z(460393269,320620315),z(685471733,587496836),z(852142971,1086792851),z(1017036298,365543100),z(1126000580,2618297676),z(1288033470,3409855158),z(1501505948,4234509866),z(1607167915,987167468),z(1816402316,1246189591)],R=[];!function(){for(var P=0;P<80;P++)R[P]=z()}();var H=k.SHA512=ie.extend({_doReset:function(){this._hash=new se.init([new Z.init(1779033703,4089235720),new Z.init(3144134277,2227873595),new Z.init(1013904242,4271175723),new Z.init(2773480762,1595750129),new Z.init(1359893119,2917565137),new Z.init(2600822924,725511199),new Z.init(528734635,4215389547),new Z.init(1541459225,327033209)])},_doProcessBlock:function(P,j){for(var V=this._hash.words,q=V[0],Y=V[1],T=V[2],F=V[3],Q=V[4],X=V[5],te=V[6],ne=V[7],me=q.high,ve=q.low,ye=Y.high,ge=Y.low,le=T.high,we=T.low,Me=F.high,_e=F.low,Ue=Q.high,Ce=Q.low,tt=X.high,it=X.low,de=te.high,pe=te.low,re=ne.high,he=ne.low,St=me,Ye=ve,ot=ye,st=ge,He=le,hn=we,qr=Me,fn=_e,en=Ue,Lt=Ce,Wi=tt,Yr=it,gi=de,Hn=pe,Co=re,Cr=he,nt=0;nt<80;nt++){var Ht,di,pn=R[nt];if(nt<16)di=pn.high=0|P[j+2*nt],Ht=pn.low=0|P[j+2*nt+1];else{var Yt=R[nt-15],Wt=Yt.high,sr=Yt.low,Er=(sr>>>1|Wt<<31)^(sr>>>8|Wt<<24)^(sr>>>7|Wt<<25),Gt=R[nt-2],ar=Gt.high,lr=Gt.low,cs=(lr>>>19|ar<<13)^(lr<<3|ar>>>29)^(lr>>>6|ar<<26),Eo=R[nt-7],la=R[nt-16],jn=la.low;pn.high=di=(di=(di=((Wt>>>1|sr<<31)^(Wt>>>8|sr<<24)^Wt>>>7)+Eo.high+((Ht=Er+Eo.low)>>>0<Er>>>0?1:0))+((ar>>>19|lr<<13)^(ar<<3|lr>>>29)^ar>>>6)+((Ht+=cs)>>>0<cs>>>0?1:0))+la.high+((Ht+=jn)>>>0<jn>>>0?1:0),pn.low=Ht}var wi,Fl=en&Wi^~en&gi,ca=Lt&Yr^~Lt&Hn,Il=St&ot^St&He^ot&He,us=(Ye>>>28|St<<4)^(Ye<<30|St>>>2)^(Ye<<25|St>>>7),fs=E[nt],ps=fs.low,tn=Co+((en>>>14|Lt<<18)^(en>>>18|Lt<<14)^(en<<23|Lt>>>9))+((wi=Cr+((Lt>>>14|en<<18)^(Lt>>>18|en<<14)^(Lt<<23|en>>>9)))>>>0<Cr>>>0?1:0),ms=us+(Ye&st^Ye&hn^st&hn);Co=gi,Cr=Hn,gi=Wi,Hn=Yr,Wi=en,Yr=Lt,en=qr+(tn=(tn=(tn=tn+Fl+((wi+=ca)>>>0<ca>>>0?1:0))+fs.high+((wi+=ps)>>>0<ps>>>0?1:0))+di+((wi+=Ht)>>>0<Ht>>>0?1:0))+((Lt=fn+wi|0)>>>0<fn>>>0?1:0)|0,qr=He,fn=hn,He=ot,hn=st,ot=St,st=Ye,St=tn+(((St>>>28|Ye<<4)^(St<<30|Ye>>>2)^(St<<25|Ye>>>7))+Il+(ms>>>0<us>>>0?1:0))+((Ye=wi+ms|0)>>>0<wi>>>0?1:0)|0}ve=q.low=ve+Ye,q.high=me+St+(ve>>>0<Ye>>>0?1:0),ge=Y.low=ge+st,Y.high=ye+ot+(ge>>>0<st>>>0?1:0),we=T.low=we+hn,T.high=le+He+(we>>>0<hn>>>0?1:0),_e=F.low=_e+fn,F.high=Me+qr+(_e>>>0<fn>>>0?1:0),Ce=Q.low=Ce+Lt,Q.high=Ue+en+(Ce>>>0<Lt>>>0?1:0),it=X.low=it+Yr,X.high=tt+Wi+(it>>>0<Yr>>>0?1:0),pe=te.low=pe+Hn,te.high=de+gi+(pe>>>0<Hn>>>0?1:0),he=ne.low=he+Cr,ne.high=re+Co+(he>>>0<Cr>>>0?1:0)},_doFinalize:function(){var P=this._data,j=P.words,V=8*this._nDataBytes,q=8*P.sigBytes;return j[q>>>5]|=128<<24-q%32,j[30+(q+128>>>10<<5)]=Math.floor(V/4294967296),j[31+(q+128>>>10<<5)]=V,P.sigBytes=4*j.length,this._process(),this._hash.toX32()},clone:function(){var P=ie.clone.call(this);return P._hash=this._hash.clone(),P},blockSize:32});B.SHA512=ie._createHelper(H),B.HmacSHA512=ie._createHmacHelper(H)}(),$.SHA512)},243:function(Se,Ee,K){var $;Se.exports=($=K(585),K(319),K(493),K(865),K(57),function(){var B=$,oe=B.lib,ie=oe.WordArray,W=oe.BlockCipher,Z=B.algo,se=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],k=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],z=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],E=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],R=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],H=Z.DES=W.extend({_doReset:function(){for(var Y=this._key.words,T=[],F=0;F<56;F++){var Q=se[F]-1;T[F]=Y[Q>>>5]>>>31-Q%32&1}for(var X=this._subKeys=[],te=0;te<16;te++){var ne=X[te]=[],me=z[te];for(F=0;F<24;F++)ne[F/6|0]|=T[(k[F]-1+me)%28]<<31-F%6,ne[4+(F/6|0)]|=T[28+(k[F+24]-1+me)%28]<<31-F%6;for(ne[0]=ne[0]<<1|ne[0]>>>31,F=1;F<7;F++)ne[F]=ne[F]>>>4*(F-1)+3;ne[7]=ne[7]<<5|ne[7]>>>27}var ve=this._invSubKeys=[];for(F=0;F<16;F++)ve[F]=X[15-F]},encryptBlock:function(q,Y){this._doCryptBlock(q,Y,this._subKeys)},decryptBlock:function(q,Y){this._doCryptBlock(q,Y,this._invSubKeys)},_doCryptBlock:function(q,Y,T){this._lBlock=q[Y],this._rBlock=q[Y+1],P.call(this,4,252645135),P.call(this,16,65535),j.call(this,2,858993459),j.call(this,8,16711935),P.call(this,1,1431655765);for(var F=0;F<16;F++){for(var Q=T[F],X=this._lBlock,te=this._rBlock,ne=0,me=0;me<8;me++)ne|=E[me][((te^Q[me])&R[me])>>>0];this._lBlock=te,this._rBlock=X^ne}var ve=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ve,P.call(this,1,1431655765),j.call(this,8,16711935),j.call(this,2,858993459),P.call(this,16,65535),P.call(this,4,252645135),q[Y]=this._lBlock,q[Y+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function P(q,Y){var T=(this._lBlock>>>q^this._rBlock)&Y;this._rBlock^=T,this._lBlock^=T<<q}function j(q,Y){var T=(this._rBlock>>>q^this._lBlock)&Y;this._lBlock^=T,this._rBlock^=T<<q}B.DES=W._createHelper(H);var V=Z.TripleDES=W.extend({_doReset:function(){var Y=this._key.words;if(2!==Y.length&&4!==Y.length&&Y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var T=Y.slice(0,2),F=Y.length<4?Y.slice(0,2):Y.slice(2,4),Q=Y.length<6?Y.slice(0,2):Y.slice(4,6);this._des1=H.createEncryptor(ie.create(T)),this._des2=H.createEncryptor(ie.create(F)),this._des3=H.createEncryptor(ie.create(Q))},encryptBlock:function(q,Y){this._des1.encryptBlock(q,Y),this._des2.decryptBlock(q,Y),this._des3.encryptBlock(q,Y)},decryptBlock:function(q,Y){this._des3.decryptBlock(q,Y),this._des2.encryptBlock(q,Y),this._des1.decryptBlock(q,Y)},keySize:6,ivSize:2,blockSize:2});B.TripleDES=W._createHelper(V)}(),$.TripleDES)},401:function(Se,Ee,K){var ie,W,Z,se,$;Se.exports=($=K(585),W=(ie=$.lib).Base,Z=ie.WordArray,(se=$.x64={}).Word=W.extend({init:function(E,R){this.high=E,this.low=R}}),se.WordArray=W.extend({init:function(E,R){E=this.words=E||[],this.sigBytes=null!=R?R:8*E.length},toX32:function(){for(var E=this.words,R=E.length,H=[],P=0;P<R;P++){var j=E[P];H.push(j.high),H.push(j.low)}return Z.create(H,this.sigBytes)},clone:function(){for(var E=W.clone.call(this),R=E.words=this.words.slice(0),H=R.length,P=0;P<H;P++)R[P]=R[P].clone();return E}}),$)},226:function(Se){Se.exports=function(){"use strict";function Ee(h,m,y){if("function"==typeof h?h===m:h.has(m))return arguments.length<3?m:y;throw new TypeError("Private element is not present on this object")}function $(h,m){return h.get(Ee(h,m))}function B(h,m,y){(function K(h,m){if(m.has(h))throw new TypeError("Cannot initialize the same private elements twice on an object")})(h,m),m.set(h,y)}const W={},se=h=>new Promise(m=>{if(!h)return m();const y=window.scrollX,S=window.scrollY;W.restoreFocusTimeout=setTimeout(()=>{W.previousActiveElement instanceof HTMLElement?(W.previousActiveElement.focus(),W.previousActiveElement=null):document.body&&document.body.focus(),m()},100),window.scrollTo(y,S)}),k="swal2-",E=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((h,m)=>(h[m]=k+m,h),{}),H=["success","warning","info","question","error"].reduce((h,m)=>(h[m]=k+m,h),{}),P="SweetAlert2:",j=h=>h.charAt(0).toUpperCase()+h.slice(1),V=h=>{console.warn(`${P} ${"object"==typeof h?h.join(" "):h}`)},q=h=>{console.error(`${P} ${h}`)},Y=[],F=(h,m=null)=>{(h=>{Y.includes(h)||(Y.push(h),V(h))})(`"${h}" is deprecated and will be removed in the next major release.${m?` Use "${m}" instead.`:""}`)},Q=h=>"function"==typeof h?h():h,X=h=>h&&"function"==typeof h.toPromise,te=h=>X(h)?h.toPromise():Promise.resolve(h),ne=h=>h&&Promise.resolve(h)===h,me=()=>document.body.querySelector(`.${E.container}`),ve=h=>{const m=me();return m?m.querySelector(h):null},ye=h=>ve(`.${h}`),ge=()=>ye(E.popup),le=()=>ye(E.icon),Me=()=>ye(E.title),_e=()=>ye(E["html-container"]),Ue=()=>ye(E.image),Ce=()=>ye(E["progress-steps"]),tt=()=>ye(E["validation-message"]),it=()=>ve(`.${E.actions} .${E.confirm}`),de=()=>ve(`.${E.actions} .${E.cancel}`),pe=()=>ve(`.${E.actions} .${E.deny}`),he=()=>ve(`.${E.loader}`),St=()=>ye(E.actions),Ye=()=>ye(E.footer),ot=()=>ye(E["timer-progress-bar"]),st=()=>ye(E.close),hn=()=>{const h=ge();if(!h)return[];const m=h.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(m).sort((Te,je)=>{const Rt=parseInt(Te.getAttribute("tabindex")||"0"),Kt=parseInt(je.getAttribute("tabindex")||"0");return Rt>Kt?1:Rt<Kt?-1:0}),S=h.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),J=Array.from(S).filter(Te=>"-1"!==Te.getAttribute("tabindex"));return[...new Set(y.concat(J))].filter(Te=>Gt(Te))},qr=()=>Wi(document.body,E.shown)&&!Wi(document.body,E["toast-shown"])&&!Wi(document.body,E["no-backdrop"]),fn=()=>{const h=ge();return!!h&&Wi(h,E.toast)},Lt=(h,m)=>{if(h.textContent="",m){const S=(new DOMParser).parseFromString(m,"text/html"),J=S.querySelector("head");J&&Array.from(J.childNodes).forEach(je=>{h.appendChild(je)});const Te=S.querySelector("body");Te&&Array.from(Te.childNodes).forEach(je=>{je instanceof HTMLVideoElement||je instanceof HTMLAudioElement?h.appendChild(je.cloneNode(!0)):h.appendChild(je)})}},Wi=(h,m)=>{if(!m)return!1;const y=m.split(/\s+/);for(let S=0;S<y.length;S++)if(!h.classList.contains(y[S]))return!1;return!0},gi=(h,m,y)=>{if(((h,m)=>{Array.from(h.classList).forEach(y=>{!Object.values(E).includes(y)&&!Object.values(H).includes(y)&&!Object.values(m.showClass||{}).includes(y)&&h.classList.remove(y)})})(h,m),!m.customClass)return;const S=m.customClass[y];if(S){if("string"!=typeof S&&!S.forEach)return void V(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof S}"`);nt(h,S)}},Hn=(h,m)=>{if(!m)return null;switch(m){case"select":case"textarea":case"file":return h.querySelector(`.${E.popup} > .${E[m]}`);case"checkbox":return h.querySelector(`.${E.popup} > .${E.checkbox} input`);case"radio":return h.querySelector(`.${E.popup} > .${E.radio} input:checked`)||h.querySelector(`.${E.popup} > .${E.radio} input:first-child`);case"range":return h.querySelector(`.${E.popup} > .${E.range} input`);default:return h.querySelector(`.${E.popup} > .${E.input}`)}},Co=h=>{if(h.focus(),"file"!==h.type){const m=h.value;h.value="",h.value=m}},Cr=(h,m,y)=>{!h||!m||("string"==typeof m&&(m=m.split(/\s+/).filter(Boolean)),m.forEach(S=>{Array.isArray(h)?h.forEach(J=>{y?J.classList.add(S):J.classList.remove(S)}):y?h.classList.add(S):h.classList.remove(S)}))},nt=(h,m)=>{Cr(h,m,!0)},Ht=(h,m)=>{Cr(h,m,!1)},di=(h,m)=>{const y=Array.from(h.children);for(let S=0;S<y.length;S++){const J=y[S];if(J instanceof HTMLElement&&Wi(J,m))return J}},pn=(h,m,y)=>{y===`${parseInt(`${y}`)}`&&(y=parseInt(y)),y||0===parseInt(`${y}`)?h.style.setProperty(m,"number"==typeof y?`${y}px`:y):h.style.removeProperty(m)},Yt=(h,m="flex")=>{h&&(h.style.display=m)},Wt=h=>{h&&(h.style.display="none")},sr=(h,m="block")=>{h&&new MutationObserver(()=>{Er(h,h.innerHTML,m)}).observe(h,{childList:!0,subtree:!0})},sa=(h,m,y,S)=>{const J=h.querySelector(m);J&&J.style.setProperty(y,S)},Er=(h,m,y="flex")=>{m?Yt(h,y):Wt(h)},Gt=h=>!(!h||!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)),lr=h=>h.scrollHeight>h.clientHeight,cs=h=>{const m=window.getComputedStyle(h),y=parseFloat(m.getPropertyValue("animation-duration")||"0"),S=parseFloat(m.getPropertyValue("transition-duration")||"0");return y>0||S>0},Eo=(h,m=!1)=>{const y=ot();y&&Gt(y)&&(m&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${h/1e3}s linear`,y.style.width="0%"},10))},la=`\n <div aria-labelledby="${E.title}" aria-describedby="${E["html-container"]}" class="${E.popup}" tabindex="-1">\n   <button type="button" class="${E.close}"></button>\n   <ul class="${E["progress-steps"]}"></ul>\n   <div class="${E.icon}"></div>\n   <img class="${E.image}" />\n   <h2 class="${E.title}" id="${E.title}"></h2>\n   <div class="${E["html-container"]}" id="${E["html-container"]}"></div>\n   <input class="${E.input}" id="${E.input}" />\n   <input type="file" class="${E.file}" />\n   <div class="${E.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${E.select}" id="${E.select}"></select>\n   <div class="${E.radio}"></div>\n   <label class="${E.checkbox}">\n     <input type="checkbox" id="${E.checkbox}" />\n     <span class="${E.label}"></span>\n   </label>\n   <textarea class="${E.textarea}" id="${E.textarea}"></textarea>\n   <div class="${E["validation-message"]}" id="${E["validation-message"]}"></div>\n   <div class="${E.actions}">\n     <div class="${E.loader}"></div>\n     <button type="button" class="${E.confirm}"></button>\n     <button type="button" class="${E.deny}"></button>\n     <button type="button" class="${E.cancel}"></button>\n   </div>\n   <div class="${E.footer}"></div>\n   <div class="${E["timer-progress-bar-container"]}">\n     <div class="${E["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),jn=()=>{W.currentInstance.resetValidationMessage()},Nl=h=>{const m=(()=>{const h=me();return!!h&&(h.remove(),Ht([document.documentElement,document.body],[E["no-backdrop"],E["toast-shown"],E["has-column"]]),!0)})();if(typeof window>"u"||typeof document>"u")return void q("SweetAlert2 requires document to initialize");const y=document.createElement("div");y.className=E.container,m&&nt(y,E["no-transition"]),Lt(y,la),y.dataset.swal2Theme=h.theme;const S=(h=>"string"==typeof h?document.querySelector(h):h)(h.target);S.appendChild(y),h.topLayer&&(y.setAttribute("popover",""),y.showPopover()),(h=>{const m=ge();m.setAttribute("role",h.toast?"alert":"dialog"),m.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||m.setAttribute("aria-modal","true")})(h),(h=>{"rtl"===window.getComputedStyle(h).direction&&(nt(me(),E.rtl),W.isRTL=!0)})(S),(()=>{const h=ge(),m=di(h,E.input),y=di(h,E.file),S=h.querySelector(`.${E.range} input`),J=h.querySelector(`.${E.range} output`),Te=di(h,E.select),je=h.querySelector(`.${E.checkbox} input`),Rt=di(h,E.textarea);m.oninput=jn,y.onchange=jn,Te.onchange=jn,je.onchange=jn,Rt.oninput=jn,S.oninput=()=>{jn(),J.value=S.value},S.onchange=()=>{jn(),J.value=S.value}})()},us=(h,m)=>{h instanceof HTMLElement?m.appendChild(h):"object"==typeof h?hs(h,m):h&&Lt(m,h)},hs=(h,m)=>{h.jquery?da(m,h):Lt(m,h.toString())},da=(h,m)=>{if(h.textContent="",0 in m)for(let y=0;y in m;y++)h.appendChild(m[y].cloneNode(!0));else h.appendChild(m.cloneNode(!0))},fs=(h,m)=>{const y=St(),S=he();!y||!S||(m.showConfirmButton||m.showDenyButton||m.showCancelButton?Yt(y):Wt(y),gi(y,m,"actions"),function ua(h,m,y){const S=it(),J=pe(),Te=de();!S||!J||!Te||(tn(S,"confirm",y),tn(J,"deny",y),tn(Te,"cancel",y),function ps(h,m,y,S){S.buttonsStyling?(nt([h,m,y],E.styled),S.confirmButtonColor&&h.style.setProperty("--swal2-confirm-button-background-color",S.confirmButtonColor),S.denyButtonColor&&m.style.setProperty("--swal2-deny-button-background-color",S.denyButtonColor),S.cancelButtonColor&&y.style.setProperty("--swal2-cancel-button-background-color",S.cancelButtonColor),wi(h),wi(m),wi(y)):Ht([h,m,y],E.styled)}(S,J,Te,y),y.reverseButtons&&(y.toast?(h.insertBefore(Te,S),h.insertBefore(J,S)):(h.insertBefore(Te,m),h.insertBefore(J,m),h.insertBefore(S,m))))}(y,S,m),Lt(S,m.loaderHtml||""),gi(S,m,"loader"))};function wi(h){const m=window.getComputedStyle(h);if(m.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const y=m.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");h.style.setProperty("--swal2-action-button-focus-box-shadow",m.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${y}`))}function tn(h,m,y){const S=j(m);Er(h,y[`show${S}Button`],"inline-block"),Lt(h,y[`${m}ButtonText`]||""),h.setAttribute("aria-label",y[`${m}ButtonAriaLabel`]||""),h.className=E[m],gi(h,y,`${m}Button`)}const ha=(h,m)=>{const y=me();y&&(function Ld(h,m){"string"==typeof m?h.style.background=m:m||nt([document.documentElement,document.body],E["no-backdrop"])}(y,m.backdrop),function Li(h,m){m&&(m in E?nt(h,E[m]):(V('The "position" parameter is not valid, defaulting to "center"'),nt(h,E.center)))}(y,m.position),function op(h,m){m&&nt(h,E[`grow-${m}`])}(y,m.grow),gi(y,m,"container"))};var Vt={innerParams:new WeakMap,domCache:new WeakMap};const sp=["input","file","range","select","radio","checkbox","textarea"],Nd=h=>{if(!h.input)return;if(!ai[h.input])return void q(`Unexpected type of input! Expected ${Object.keys(ai).join(" | ")}, got "${h.input}"`);const m=Kr(h.input);if(!m)return;const y=ai[h.input](m,h);Yt(m),h.inputAutoFocus&&setTimeout(()=>{Co(y)})},cp=(h,m)=>{const y=ge();if(!y)return;const S=Hn(y,h);if(S){(h=>{for(let m=0;m<h.attributes.length;m++){const y=h.attributes[m].name;["id","type","value","style"].includes(y)||h.removeAttribute(y)}})(S);for(const J in m)S.setAttribute(J,m[J])}},cr=h=>{if(!h.input)return;const m=Kr(h.input);m&&gi(m,h,"input")},Bl=(h,m)=>{!h.placeholder&&m.inputPlaceholder&&(h.placeholder=m.inputPlaceholder)},Zt=(h,m,y)=>{if(y.inputLabel){const S=document.createElement("label"),J=E["input-label"];S.setAttribute("for",h.id),S.className=J,"object"==typeof y.customClass&&nt(S,y.customClass.inputLabel),S.innerText=y.inputLabel,m.insertAdjacentElement("beforebegin",S)}},Kr=h=>{const m=ge();if(m)return di(m,E[h]||E.input)},Gi=(h,m)=>{["string","number"].includes(typeof m)?h.value=`${m}`:ne(m)||V(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof m}"`)},ai={};ai.text=ai.email=ai.password=ai.number=ai.tel=ai.url=ai.search=ai.date=ai["datetime-local"]=ai.time=ai.week=ai.month=(h,m)=>(Gi(h,m.inputValue),Zt(h,h,m),Bl(h,m),h.type=m.input,h),ai.file=(h,m)=>(Zt(h,h,m),Bl(h,m),h),ai.range=(h,m)=>{const y=h.querySelector("input"),S=h.querySelector("output");return Gi(y,m.inputValue),y.type=m.input,Gi(S,m.inputValue),Zt(y,h,m),h},ai.select=(h,m)=>{if(h.textContent="",m.inputPlaceholder){const y=document.createElement("option");Lt(y,m.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,h.appendChild(y)}return Zt(h,h,m),h},ai.radio=h=>(h.textContent="",h),ai.checkbox=(h,m)=>{const y=Hn(ge(),"checkbox");y.value="1",y.checked=Boolean(m.inputValue);const S=h.querySelector("span");return Lt(S,m.inputPlaceholder||m.inputLabel),y},ai.textarea=(h,m)=>{Gi(h,m.inputValue),Bl(h,m),Zt(h,h,m);return setTimeout(()=>{if("MutationObserver"in window){const S=parseInt(window.getComputedStyle(ge()).width);new MutationObserver(()=>{if(!document.body.contains(h))return;const Te=h.offsetWidth+(S=>parseInt(window.getComputedStyle(S).marginLeft)+parseInt(window.getComputedStyle(S).marginRight))(h);Te>S?ge().style.width=`${Te}px`:pn(ge(),"width",m.width)}).observe(h,{attributes:!0,attributeFilter:["style"]})}}),h};const dp=(h,m)=>{const y=_e();y&&(sr(y),gi(y,m,"htmlContainer"),m.html?(us(m.html,y),Yt(y,"block")):m.text?(y.textContent=m.text,Yt(y,"block")):Wt(y),((h,m)=>{const y=ge();if(!y)return;const S=Vt.innerParams.get(h),J=!S||m.input!==S.input;sp.forEach(Te=>{const je=di(y,E[Te]);je&&(cp(Te,m.inputAttributes),je.className=E[Te],J&&Wt(je))}),m.input&&(J&&Nd(m),cr(m))})(h,m))},zl=(h,m)=>{for(const[y,S]of Object.entries(H))m.icon!==y&&Ht(h,S);nt(h,m.icon&&H[m.icon]),hp(h,m),Mo(),gi(h,m,"icon")},Mo=()=>{const h=ge();if(!h)return;const m=window.getComputedStyle(h).getPropertyValue("background-color"),y=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let S=0;S<y.length;S++)y[S].style.backgroundColor=m},Hl=(h,m)=>{if(!m.icon&&!m.iconHtml)return;let y=h.innerHTML,S="";m.iconHtml?S=zd(m.iconHtml):"success"===m.icon?(S=(h=>`\n  ${h.animation?'<div class="swal2-success-circular-line-left"></div>':""}\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div>\n  ${h.animation?'<div class="swal2-success-fix"></div>':""}\n  ${h.animation?'<div class="swal2-success-circular-line-right"></div>':""}\n`)(m),y=y.replace(/ style=".*?"/g,"")):"error"===m.icon?S='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':m.icon&&(S=zd({question:"?",warning:"!",info:"i"}[m.icon])),y.trim()!==S.trim()&&Lt(h,S)},hp=(h,m)=>{if(m.iconColor){h.style.color=m.iconColor,h.style.borderColor=m.iconColor;for(const y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])sa(h,y,"background-color",m.iconColor);sa(h,".swal2-success-ring","border-color",m.iconColor)}},zd=h=>`<div class="${E["icon-content"]}">${h}</div>`;let jl=!1,Ul=0,Hd=0,jd=0,ei=0;const Do=h=>{const m=ge();if(h.target===m||le().contains(h.target)){jl=!0;const y=Nt(h);Ul=y.clientX,Hd=y.clientY,jd=parseInt(m.style.insetInlineStart)||0,ei=parseInt(m.style.insetBlockStart)||0,nt(m,"swal2-dragging")}},At=h=>{const m=ge();if(jl){let{clientX:y,clientY:S}=Nt(h);const J=y-Ul;m.style.insetInlineStart=`${jd+(W.isRTL?-J:J)}px`,m.style.insetBlockStart=`${ei+(S-Hd)}px`}},So=()=>{const h=ge();jl=!1,Ht(h,"swal2-dragging")},Nt=h=>{let m=0,y=0;return h.type.startsWith("mouse")?(m=h.clientX,y=h.clientY):h.type.startsWith("touch")&&(m=h.touches[0].clientX,y=h.touches[0].clientY),{clientX:m,clientY:y}},$l=(h,m)=>{const y=me(),S=ge();if(y&&S){if(m.toast){pn(y,"width",m.width),S.style.width="100%";const J=he();J&&S.insertBefore(J,le())}else pn(S,"width",m.width);pn(S,"padding",m.padding),m.color&&(S.style.color=m.color),m.background&&(S.style.background=m.background),Wt(tt()),pp(S,m),m.draggable&&!m.toast?(nt(S,E.draggable),(h=>{h.addEventListener("mousedown",Do),document.body.addEventListener("mousemove",At),h.addEventListener("mouseup",So),h.addEventListener("touchstart",Do),document.body.addEventListener("touchmove",At),h.addEventListener("touchend",So)})(S)):(Ht(S,E.draggable),(h=>{h.removeEventListener("mousedown",Do),document.body.removeEventListener("mousemove",At),h.removeEventListener("mouseup",So),h.removeEventListener("touchstart",Do),document.body.removeEventListener("touchmove",At),h.removeEventListener("touchend",So)})(S))}},pp=(h,m)=>{const y=m.showClass||{};h.className=`${E.popup} ${Gt(h)?y.popup:""}`,m.toast?(nt([document.documentElement,document.body],E["toast-shown"]),nt(h,E.toast)):nt(h,E.modal),gi(h,m,"popup"),"string"==typeof m.customClass&&nt(h,m.customClass),m.icon&&nt(h,E[`icon-${m.icon}`])},Ke=h=>{const m=document.createElement("li");return nt(m,E["progress-step"]),Lt(m,h),m},Wl=h=>{const m=document.createElement("li");return nt(m,E["progress-step-line"]),h.progressStepsDistance&&pn(m,"width",h.progressStepsDistance),m},mp=(h,m)=>{$l(0,m),ha(0,m),((h,m)=>{const y=Ce();if(!y)return;const{progressSteps:S,currentProgressStep:J}=m;S&&0!==S.length&&void 0!==J?(Yt(y),y.textContent="",J>=S.length&&V("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),S.forEach((Te,je)=>{const Rt=Ke(Te);if(y.appendChild(Rt),je===J&&nt(Rt,E["active-progress-step"]),je!==S.length-1){const Kt=Wl(m);y.appendChild(Kt)}})):Wt(y)})(0,m),((h,m)=>{const y=Vt.innerParams.get(h),S=le();if(S){if(y&&m.icon===y.icon)return Hl(S,m),void zl(S,m);if(m.icon||m.iconHtml)return m.icon&&-1===Object.keys(H).indexOf(m.icon)?(q(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${m.icon}"`),void Wt(S)):(Yt(S),Hl(S,m),zl(S,m),nt(S,m.showClass&&m.showClass.icon),void window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Mo));Wt(S)}})(h,m),((h,m)=>{const y=Ue();if(y){if(!m.imageUrl)return void Wt(y);Yt(y,""),y.setAttribute("src",m.imageUrl),y.setAttribute("alt",m.imageAlt||""),pn(y,"width",m.imageWidth),pn(y,"height",m.imageHeight),y.className=E.image,gi(y,m,"image")}})(0,m),((h,m)=>{const y=Me();y&&(sr(y),Er(y,Boolean(m.title||m.titleText),"block"),m.title&&us(m.title,y),m.titleText&&(y.innerText=m.titleText),gi(y,m,"title"))})(0,m),((h,m)=>{const y=st();y&&(Lt(y,m.closeButtonHtml||""),gi(y,m,"closeButton"),Er(y,m.showCloseButton),y.setAttribute("aria-label",m.closeButtonAriaLabel||""))})(0,m),dp(h,m),fs(0,m),((h,m)=>{const y=Ye();y&&(sr(y),Er(y,Boolean(m.footer),"block"),m.footer&&us(m.footer,y),gi(y,m,"footer"))})(0,m);const y=ge();"function"==typeof m.didRender&&y&&m.didRender(y),W.eventEmitter.emit("didRender",y)},ae=()=>{var h;return null===(h=it())||void 0===h?void 0:h.click()},wt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),$d=h=>{h.keydownTarget&&h.keydownHandlerAdded&&(h.keydownTarget.removeEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!1)},ql=(h,m)=>{var y;const S=hn();if(S.length)return-2===(h+=m)&&(h=S.length-1),h===S.length?h=0:-1===h&&(h=S.length-1),void S[h].focus();null===(y=ge())||void 0===y||y.focus()},gs=["ArrowRight","ArrowDown"],nn=["ArrowLeft","ArrowUp"],Sv=(h,m,y)=>{h&&(m.isComposing||229===m.keyCode||(h.stopKeydownPropagation&&m.stopPropagation(),"Enter"===m.key?gp(m,h):"Tab"===m.key?Tv(m):[...gs,...nn].includes(m.key)?Mr(m.key):"Escape"===m.key&&kv(m,h,y)))},gp=(h,m)=>{if(!Q(m.allowEnterKey))return;const y=Hn(ge(),m.input);if(h.target&&y&&h.target instanceof HTMLElement&&h.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(m.input))return;ae(),h.preventDefault()}},Tv=h=>{const m=h.target,y=hn();let S=-1;for(let J=0;J<y.length;J++)if(m===y[J]){S=J;break}ql(S,h.shiftKey?-1:1),h.stopPropagation(),h.preventDefault()},Mr=h=>{const m=St(),y=it(),S=pe(),J=de();if(!(m&&y&&S&&J))return;if(document.activeElement instanceof HTMLElement&&![y,S,J].includes(document.activeElement))return;const je=gs.includes(h)?"nextElementSibling":"previousElementSibling";let Rt=document.activeElement;if(Rt){for(let Kt=0;Kt<m.children.length;Kt++){if(Rt=Rt[je],!Rt)return;if(Rt instanceof HTMLButtonElement&&Gt(Rt))break}Rt instanceof HTMLButtonElement&&Rt.focus()}},kv=(h,m,y)=>{h.preventDefault(),Q(m.allowEscapeKey)&&y(wt.esc)};var bs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const bp=()=>{Array.from(document.body.children).forEach(m=>{m.hasAttribute("data-previous-aria-hidden")?(m.setAttribute("aria-hidden",m.getAttribute("data-previous-aria-hidden")||""),m.removeAttribute("data-previous-aria-hidden")):m.removeAttribute("aria-hidden")})},Wd=typeof window<"u"&&!!window.GestureEvent,vp=()=>{const h=me();if(!h)return;let m;h.ontouchstart=y=>{m=Pv(y)},h.ontouchmove=y=>{m&&(y.preventDefault(),y.stopPropagation())}},Pv=h=>{const m=h.target,y=me(),S=_e();return!(!y||!S||mn(h)||Ot(h)||m!==y&&(lr(y)||!(m instanceof HTMLElement)||((h,m)=>{let y=h;for(;y&&y!==m;){if(lr(y))return!0;y=y.parentElement}return!1})(m,S)||"INPUT"===m.tagName||"TEXTAREA"===m.tagName||lr(S)&&S.contains(m)))},mn=h=>h.touches&&h.touches.length&&"stylus"===h.touches[0].touchType,Ot=h=>h.touches&&h.touches.length>1,Rv=()=>{if(Wi(document.body,E.iosfix)){const h=parseInt(document.body.style.top,10);Ht(document.body,E.iosfix),document.body.style.top="",document.body.scrollTop=-1*h}};let vs=null;const xe=h=>{null===vs&&(document.body.scrollHeight>window.innerHeight||"scroll"===h)&&(vs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${vs+(()=>{const h=document.createElement("div");h.className=E["scrollbar-measure"],document.body.appendChild(h);const m=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),m})()}px`)},Iv=()=>{null!==vs&&(document.body.style.paddingRight=`${vs}px`,vs=null)};function mt(h,m,y,S){fn()?Kd(h,S):(se(y).then(()=>Kd(h,S)),$d(W)),Wd?(m.setAttribute("style","display:none !important"),m.removeAttribute("class"),m.innerHTML=""):m.remove(),qr()&&(Iv(),Rv(),bp()),function ga(){Ht([document.documentElement,document.body],[E.shown,E["height-auto"],E["no-backdrop"],E["toast-shown"]])}()}function Dr(h){h=ba(h);const m=bs.swalPromiseResolve.get(this),y=Gd(this);this.isAwaitingPromise?h.isDismissed||(To(this),m(h)):y&&m(h)}const Gd=h=>{const m=ge();if(!m)return!1;const y=Vt.innerParams.get(h);if(!y||Wi(m,y.hideClass.popup))return!1;Ht(m,y.showClass.popup),nt(m,y.hideClass.popup);const S=me();return Ht(S,y.showClass.backdrop),nt(S,y.hideClass.backdrop),Yl(h,m,y),!0};function qd(h){const m=bs.swalPromiseReject.get(this);To(this),m&&m(h)}const To=h=>{h.isAwaitingPromise&&(delete h.isAwaitingPromise,Vt.innerParams.get(h)||h._destroy())},ba=h=>typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h),Yl=(h,m,y)=>{var S;const J=me(),Te=cs(m);"function"==typeof y.willClose&&y.willClose(m),null===(S=W.eventEmitter)||void 0===S||S.emit("willClose",m),Te?Yd(h,m,J,y.returnFocus,y.didClose):mt(h,J,y.returnFocus,y.didClose)},Yd=(h,m,y,S,J)=>{W.swalCloseEventFinishedCallback=mt.bind(null,h,y,S,J);const Te=function(je){var Rt;je.target===m&&(null===(Rt=W.swalCloseEventFinishedCallback)||void 0===Rt||Rt.call(W),delete W.swalCloseEventFinishedCallback,m.removeEventListener("animationend",Te),m.removeEventListener("transitionend",Te))};m.addEventListener("animationend",Te),m.addEventListener("transitionend",Te)},Kd=(h,m)=>{setTimeout(()=>{var y;"function"==typeof m&&m.bind(h.params)(),null===(y=W.eventEmitter)||void 0===y||y.emit("didClose"),h._destroy&&h._destroy()})},Ve=h=>{let m=ge();if(m||new Ds,m=ge(),!m)return;const y=he();fn()?Wt(le()):Kl(m,h),Yt(y),m.setAttribute("data-loading","true"),m.setAttribute("aria-busy","true"),m.focus()},Kl=(h,m)=>{const y=St(),S=he();!y||!S||(!m&&Gt(it())&&(m=it()),Yt(y),m&&(Wt(m),S.setAttribute("data-button-to-replace",m.className),y.insertBefore(S,m)),nt([h,y],E.loading))},Xd=h=>h.checked?1:0,Lv=h=>h.checked?h.value:null,jt=h=>h.files&&h.files.length?null!==h.getAttribute("multiple")?h.files:h.files[0]:null,Nv=(h,m)=>{const y=ge();if(!y)return;const S=J=>{"select"===m.input?function Vv(h,m,y){const S=di(h,E.select);if(!S)return;const J=(Te,je,Rt)=>{const Kt=document.createElement("option");Kt.value=Rt,Lt(Kt,je),Kt.selected=ys(Rt,y.inputValue),Te.appendChild(Kt)};m.forEach(Te=>{const je=Te[0],Rt=Te[1];if(Array.isArray(Rt)){const Kt=document.createElement("optgroup");Kt.label=je,Kt.disabled=!1,S.appendChild(Kt),Rt.forEach(Io=>J(Kt,Io[1],Io[0]))}else J(S,Rt,je)}),S.focus()}(y,ko(J),m):"radio"===m.input&&function _s(h,m,y){const S=di(h,E.radio);if(!S)return;m.forEach(Te=>{const je=Te[0],Rt=Te[1],Kt=document.createElement("input"),Io=document.createElement("label");Kt.type="radio",Kt.name=E.radio,Kt.value=je,ys(je,y.inputValue)&&(Kt.checked=!0);const ka=document.createElement("span");Lt(ka,Rt),ka.className=E.label,Io.appendChild(Kt),Io.appendChild(ka),S.appendChild(Io)});const J=S.querySelectorAll("input");J.length&&J[0].focus()}(y,ko(J),m)};X(m.inputOptions)||ne(m.inputOptions)?(Ve(it()),te(m.inputOptions).then(J=>{h.hideLoading(),S(J)})):"object"==typeof m.inputOptions?S(m.inputOptions):q("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof m.inputOptions)},Bv=(h,m)=>{const y=h.getInput();y&&(Wt(y),te(m.inputValue).then(S=>{y.value="number"===m.input?`${parseFloat(S)||0}`:`${S}`,Yt(y),y.focus(),h.hideLoading()}).catch(S=>{q(`Error in inputValue promise: ${S}`),y.value="",Yt(y),y.focus(),h.hideLoading()}))};const ko=h=>{const m=[];return h instanceof Map?h.forEach((y,S)=>{let J=y;"object"==typeof J&&(J=ko(J)),m.push([S,J])}):Object.keys(h).forEach(y=>{let S=h[y];"object"==typeof S&&(S=ko(S)),m.push([y,S])}),m},ys=(h,m)=>!!m&&m.toString()===h.toString(),Xl=(h,m)=>{const y=Vt.innerParams.get(h);if(!y.input)return void q(`The "input" parameter is needed to be set when using returnInputValueOn${j(m)}`);const S=h.getInput(),J=((h,m)=>{const y=h.getInput();if(!y)return null;switch(m.input){case"checkbox":return Xd(y);case"radio":return Lv(y);case"file":return jt(y);default:return m.inputAutoTrim?y.value.trim():y.value}})(h,y);y.inputValidator?xs(h,J,m):S&&!S.checkValidity()?(h.enableButtons(),h.showValidationMessage(y.validationMessage||S.validationMessage)):"deny"===m?Sr(h,J):va(h,J)},xs=(h,m,y)=>{const S=Vt.innerParams.get(h);h.disableInput(),Promise.resolve().then(()=>te(S.inputValidator(m,S.validationMessage))).then(Te=>{h.enableButtons(),h.enableInput(),Te?h.showValidationMessage(Te):"deny"===y?Sr(h,m):va(h,m)})},Sr=(h,m)=>{const y=Vt.innerParams.get(h||void 0);y.showLoaderOnDeny&&Ve(pe()),y.preDeny?(h.isAwaitingPromise=!0,Promise.resolve().then(()=>te(y.preDeny(m,y.validationMessage))).then(J=>{!1===J?(h.hideLoading(),To(h)):h.close({isDenied:!0,value:typeof J>"u"?m:J})}).catch(J=>G(h||void 0,J))):h.close({isDenied:!0,value:m})},Zd=(h,m)=>{h.close({isConfirmed:!0,value:m})},G=(h,m)=>{h.rejectPromise(m)},va=(h,m)=>{const y=Vt.innerParams.get(h||void 0);y.showLoaderOnConfirm&&Ve(),y.preConfirm?(h.resetValidationMessage(),h.isAwaitingPromise=!0,Promise.resolve().then(()=>te(y.preConfirm(m,y.validationMessage))).then(J=>{Gt(tt())||!1===J?(h.hideLoading(),To(h)):Zd(h,typeof J>"u"?m:J)}).catch(J=>G(h||void 0,J))):Zd(h,m)};function Ze(){const h=Vt.innerParams.get(this);if(!h)return;const m=Vt.domCache.get(this);Wt(m.loader),fn()?h.icon&&Yt(le()):_a(m),Ht([m.popup,m.actions],E.loading),m.popup.removeAttribute("aria-busy"),m.popup.removeAttribute("data-loading"),m.confirmButton.disabled=!1,m.denyButton.disabled=!1,m.cancelButton.disabled=!1}const _a=h=>{const m=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));m.length?Yt(m[0],"inline-block"):!Gt(it())&&!Gt(pe())&&!Gt(de())&&Wt(h.actions)};function ya(){const h=Vt.innerParams.get(this),m=Vt.domCache.get(this);return m?Hn(m.popup,h.input):null}function Ao(h,m,y){const S=Vt.domCache.get(h);m.forEach(J=>{S[J].disabled=y})}function Qd(h,m){const y=ge();if(y&&h)if("radio"===h.type){const S=y.querySelectorAll(`[name="${E.radio}"]`);for(let J=0;J<S.length;J++)S[J].disabled=m}else h.disabled=m}function Jd(){Ao(this,["confirmButton","denyButton","cancelButton"],!1)}function eu(){Ao(this,["confirmButton","denyButton","cancelButton"],!0)}function Un(){Qd(this.getInput(),!1)}function En(){Qd(this.getInput(),!0)}function bn(h){const m=Vt.domCache.get(this),y=Vt.innerParams.get(this);Lt(m.validationMessage,h),m.validationMessage.className=E["validation-message"],y.customClass&&y.customClass.validationMessage&&nt(m.validationMessage,y.customClass.validationMessage),Yt(m.validationMessage);const S=this.getInput();S&&(S.setAttribute("aria-invalid","true"),S.setAttribute("aria-describedby",E["validation-message"]),Co(S),nt(S,E.inputerror))}function $n(){const h=Vt.domCache.get(this);h.validationMessage&&Wt(h.validationMessage);const m=this.getInput();m&&(m.removeAttribute("aria-invalid"),m.removeAttribute("aria-describedby"),Ht(m,E.inputerror))}const vt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},xa=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Zl={allowEnterKey:void 0},Ql=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Jl=h=>Object.prototype.hasOwnProperty.call(vt,h),Wn=h=>-1!==xa.indexOf(h),Oo=h=>Zl[h],Cp=h=>{Jl(h)||V(`Unknown parameter "${h}"`)},Qe=h=>{Ql.includes(h)&&V(`The parameter "${h}" is incompatible with toasts`)},Ep=h=>{const m=Oo(h);m&&F(h,m)},tu=h=>{!1===h.backdrop&&h.allowOutsideClick&&V('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),h.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(h.theme)&&V(`Invalid theme "${h.theme}"`);for(const m in h)Cp(m),h.toast&&Qe(m),Ep(m)};function iu(h){const m=me(),y=ge(),S=Vt.innerParams.get(this);if(!y||Wi(y,S.hideClass.popup))return void V("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const J=_t(h),Te=Object.assign({},S,J);tu(Te),m.dataset.swal2Theme=Te.theme,mp(this,Te),Vt.innerParams.set(this,Te),Object.defineProperties(this,{params:{value:Object.assign({},this.params,h),writable:!1,enumerable:!0}})}const _t=h=>{const m={};return Object.keys(h).forEach(y=>{Wn(y)?m[y]=h[y]:V(`Invalid parameter to update: ${y}`)}),m};function nu(){const h=Vt.domCache.get(this),m=Vt.innerParams.get(this);m?(h.popup&&W.swalCloseEventFinishedCallback&&(W.swalCloseEventFinishedCallback(),delete W.swalCloseEventFinishedCallback),"function"==typeof m.didDestroy&&m.didDestroy(),W.eventEmitter.emit("didDestroy"),ru(this)):Be(this)}const ru=h=>{Be(h),delete h.params,delete W.keydownHandler,delete W.keydownTarget,delete W.currentInstance},Be=h=>{h.isAwaitingPromise?(Ai(Vt,h),h.isAwaitingPromise=!0):(Ai(bs,h),Ai(Vt,h),delete h.isAwaitingPromise,delete h.disableButtons,delete h.enableButtons,delete h.getInput,delete h.disableInput,delete h.enableInput,delete h.hideLoading,delete h.disableLoading,delete h.showValidationMessage,delete h.resetValidationMessage,delete h.close,delete h.closePopup,delete h.closeModal,delete h.closeToast,delete h.rejectPromise,delete h.update,delete h._destroy)},Ai=(h,m)=>{for(const y in h)h[y].delete(m)};var Pt=Object.freeze({__proto__:null,_destroy:nu,close:Dr,closeModal:Dr,closePopup:Dr,closeToast:Dr,disableButtons:eu,disableInput:En,disableLoading:Ze,enableButtons:Jd,enableInput:Un,getInput:ya,handleAwaitingPromise:To,hideLoading:Ze,rejectPromise:qd,resetValidationMessage:$n,showValidationMessage:bn,update:iu});const qi=(h,m,y)=>{m.popup.onclick=()=>{h&&(Po(h)||h.timer||h.input)||y(wt.close)}},Po=h=>!!(h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton);let Pi=!1;const ou=h=>{h.popup.onmousedown=()=>{h.container.onmouseup=function(m){h.container.onmouseup=()=>{},m.target===h.container&&(Pi=!0)}}},su=h=>{h.container.onmousedown=m=>{m.target===h.container&&m.preventDefault(),h.popup.onmouseup=function(y){h.popup.onmouseup=()=>{},(y.target===h.popup||y.target instanceof HTMLElement&&h.popup.contains(y.target))&&(Pi=!0)}}},wa=(h,m,y)=>{m.container.onclick=S=>{Pi?Pi=!1:S.target===m.container&&Q(h.allowOutsideClick)&&y(wt.backdrop)}},Pe=h=>h instanceof Element||(h=>"object"==typeof h&&h.jquery)(h);const Ci=()=>{if(W.timeout)return(()=>{const h=ot();if(!h)return;const m=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";const y=parseInt(window.getComputedStyle(h).width);h.style.width=m/y*100+"%"})(),W.timeout.stop()},Zr=()=>{if(W.timeout){const h=W.timeout.start();return Eo(h),h}};let ut=!1;const ws={};const au=h=>{for(let m=h.target;m&&m!==document;m=m.parentNode)for(const y in ws){const S=m.getAttribute(y);if(S)return void ws[y].fire({template:S})}};W.eventEmitter=new class Ro{constructor(){this.events={}}_getHandlersByEventName(m){return typeof this.events[m]>"u"&&(this.events[m]=[]),this.events[m]}on(m,y){const S=this._getHandlersByEventName(m);S.includes(y)||S.push(y)}once(m,y){const S=(...J)=>{this.removeListener(m,S),y.apply(this,J)};this.on(m,S)}emit(m,...y){this._getHandlersByEventName(m).forEach(S=>{try{S.apply(this,y)}catch(J){console.error(J)}})}removeListener(m,y){const S=this._getHandlersByEventName(m),J=S.indexOf(y);J>-1&&S.splice(J,1)}removeAllListeners(m){void 0!==this.events[m]&&(this.events[m].length=0)}reset(){this.events={}}};var Gn=Object.freeze({__proto__:null,argsToParams:h=>{const m={};return"object"!=typeof h[0]||Pe(h[0])?["title","html","icon"].forEach((y,S)=>{const J=h[S];"string"==typeof J||Pe(J)?m[y]=J:void 0!==J&&q(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof J}`)}):Object.assign(m,h[0]),m},bindClickHandler:function Cs(h="data-swal-template"){ws[h]=this,ut||(document.body.addEventListener("click",au),ut=!0)},clickCancel:()=>{var h;return null===(h=de())||void 0===h?void 0:h.click()},clickConfirm:ae,clickDeny:()=>{var h;return null===(h=pe())||void 0===h?void 0:h.click()},enableLoading:Ve,fire:function Qt(...h){return new this(...h)},getActions:St,getCancelButton:de,getCloseButton:st,getConfirmButton:it,getContainer:me,getDenyButton:pe,getFocusableElements:hn,getFooter:Ye,getHtmlContainer:_e,getIcon:le,getIconContent:()=>ye(E["icon-content"]),getImage:Ue,getInputLabel:()=>ye(E["input-label"]),getLoader:he,getPopup:ge,getProgressSteps:Ce,getTimerLeft:()=>W.timeout&&W.timeout.getTimerLeft(),getTimerProgressBar:ot,getTitle:Me,getValidationMessage:tt,increaseTimer:h=>{if(W.timeout){const m=W.timeout.increase(h);return Eo(m,!0),m}},isDeprecatedParameter:Oo,isLoading:()=>{const h=ge();return!!h&&h.hasAttribute("data-loading")},isTimerRunning:()=>!(!W.timeout||!W.timeout.isRunning()),isUpdatableParameter:Wn,isValidParameter:Jl,isVisible:()=>Gt(ge()),mixin:function Mn(h){return class m extends(this){_main(S,J){return super._main(S,Object.assign({},h,J))}}},off:(h,m)=>{h?m?W.eventEmitter.removeListener(h,m):W.eventEmitter.removeAllListeners(h):W.eventEmitter.reset()},on:(h,m)=>{W.eventEmitter.on(h,m)},once:(h,m)=>{W.eventEmitter.once(h,m)},resumeTimer:Zr,showLoading:Ve,stopTimer:Ci,toggleTimer:()=>{const h=W.timeout;return h&&(h.running?Ci():Zr())}});class Ms{constructor(m,y){this.callback=m,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(m){const y=this.running;return y&&this.stop(),this.remaining+=m,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ec=["swal-title","swal-html","swal-footer"],zv=h=>{const m={};return Array.from(h.querySelectorAll("swal-param")).forEach(S=>{ui(S,["name","value"]);const J=S.getAttribute("name"),Te=S.getAttribute("value");!J||!Te||(m[J]="boolean"==typeof vt[J]?"false"!==Te:"object"==typeof vt[J]?JSON.parse(Te):Te)}),m},tc=h=>{const m={};return Array.from(h.querySelectorAll("swal-function-param")).forEach(S=>{const J=S.getAttribute("name"),Te=S.getAttribute("value");!J||!Te||(m[J]=new Function(`return ${Te}`)())}),m},lu=h=>{const m={};return Array.from(h.querySelectorAll("swal-button")).forEach(S=>{ui(S,["type","color","aria-label"]);const J=S.getAttribute("type");!J||!["confirm","cancel","deny"].includes(J)||(m[`${J}ButtonText`]=S.innerHTML,m[`show${j(J)}Button`]=!0,S.hasAttribute("color")&&(m[`${J}ButtonColor`]=S.getAttribute("color")),S.hasAttribute("aria-label")&&(m[`${J}ButtonAriaLabel`]=S.getAttribute("aria-label")))}),m},Da=h=>{const m={},y=h.querySelector("swal-image");return y&&(ui(y,["src","width","height","alt"]),y.hasAttribute("src")&&(m.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(m.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(m.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(m.imageAlt=y.getAttribute("alt")||void 0)),m},Sa=h=>{const m={},y=h.querySelector("swal-icon");return y&&(ui(y,["type","color"]),y.hasAttribute("type")&&(m.icon=y.getAttribute("type")),y.hasAttribute("color")&&(m.iconColor=y.getAttribute("color")),m.iconHtml=y.innerHTML),m},Fo=h=>{const m={},y=h.querySelector("swal-input");y&&(ui(y,["type","label","placeholder","value"]),m.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(m.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(m.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(m.inputValue=y.getAttribute("value")));const S=Array.from(h.querySelectorAll("swal-input-option"));return S.length&&(m.inputOptions={},S.forEach(J=>{ui(J,["value"]);const Te=J.getAttribute("value");Te&&(m.inputOptions[Te]=J.innerHTML)})),m},Bi=(h,m)=>{const y={};for(const S in m){const J=m[S],Te=h.querySelector(J);Te&&(ui(Te,[]),y[J.replace(/^swal-/,"")]=Te.innerHTML.trim())}return y},Hv=h=>{const m=ec.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(h.children).forEach(y=>{const S=y.tagName.toLowerCase();m.includes(S)||V(`Unrecognized element <${S}>`)})},ui=(h,m)=>{Array.from(h.attributes).forEach(y=>{-1===m.indexOf(y.name)&&V([`Unrecognized attribute "${y.name}" on <${h.tagName.toLowerCase()}>.`,m.length?`Allowed attributes are: ${m.join(", ")}`:"To set the value, use HTML within the element."])})},ic=h=>{const m=me(),y=ge();"function"==typeof h.willOpen&&h.willOpen(y),W.eventEmitter.emit("willOpen",y);const J=window.getComputedStyle(document.body).overflowY;Mp(m,y,h),setTimeout(()=>{Ta(m,y)},10),qr()&&(Dn(m,h.scrollbarPadding,J),(()=>{const h=me();Array.from(document.body.children).forEach(y=>{y.contains(h)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})})()),!fn()&&!W.previousActiveElement&&(W.previousActiveElement=document.activeElement),"function"==typeof h.didOpen&&setTimeout(()=>h.didOpen(y)),W.eventEmitter.emit("didOpen",y)},Tr=h=>{const m=ge();if(h.target!==m)return;const y=me();m.removeEventListener("animationend",Tr),m.removeEventListener("transitionend",Tr),y.style.overflowY="auto",Ht(y,E["no-transition"])},Ta=(h,m)=>{cs(m)?(h.style.overflowY="hidden",m.addEventListener("animationend",Tr),m.addEventListener("transitionend",Tr)):h.style.overflowY="auto"},Dn=(h,m,y)=>{(()=>{if(Wd&&!Wi(document.body,E.iosfix)){const h=document.body.scrollTop;document.body.style.top=-1*h+"px",nt(document.body,E.iosfix),vp()}})(),m&&"hidden"!==y&&xe(y),setTimeout(()=>{h.scrollTop=0})},Mp=(h,m,y)=>{nt(h,y.showClass.backdrop),y.animation?(m.style.setProperty("opacity","0","important"),Yt(m,"grid"),setTimeout(()=>{nt(m,y.showClass.popup),m.style.removeProperty("opacity")},10)):Yt(m,"grid"),nt([document.documentElement,document.body],E.shown),y.heightAuto&&y.backdrop&&!y.toast&&nt([document.documentElement,document.body],E["height-auto"])};var Dp={email:(h,m)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(h)?Promise.resolve():Promise.resolve(m||"Invalid email address"),url:(h,m)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(m||"Invalid URL")};function jv(h){(function Sp(h){h.inputValidator||("email"===h.input&&(h.inputValidator=Dp.email),"url"===h.input&&(h.inputValidator=Dp.url))})(h),h.showLoaderOnConfirm&&!h.preConfirm&&V("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Tp(h){(!h.target||"string"==typeof h.target&&!document.querySelector(h.target)||"string"!=typeof h.target&&!h.target.appendChild)&&(V('Target parameter is not valid, defaulting to "body"'),h.target="body")}(h),"string"==typeof h.title&&(h.title=h.title.split("\n").join("<br />")),Nl(h)}let ur;var nc=new WeakMap;class li{constructor(...m){if(B(this,nc,void 0),typeof window>"u")return;ur=this;const y=Object.freeze(this.constructor.argsToParams(m));this.params=y,this.isAwaitingPromise=!1,function oe(h,m,y){return h.set(Ee(h,m),y),y}(nc,this,this._main(ur.params))}_main(m,y={}){if(tu(Object.assign({},y,m)),W.currentInstance){const Te=bs.swalPromiseResolve.get(W.currentInstance),{isAwaitingPromise:je}=W.currentInstance;W.currentInstance._destroy(),je||Te({isDismissed:!0}),qr()&&bp()}W.currentInstance=ur;const S=$v(m,y);jv(S),Object.freeze(S),W.timeout&&(W.timeout.stop(),delete W.timeout),clearTimeout(W.restoreFocusTimeout);const J=Wv(ur);return mp(ur,S),Vt.innerParams.set(ur,S),Uv(ur,J,S)}then(m){return $(nc,this).then(m)}finally(m){return $(nc,this).finally(m)}}const Uv=(h,m,y)=>new Promise((S,J)=>{const Te=je=>{h.close({isDismissed:!0,dismiss:je,isConfirmed:!1,isDenied:!1})};bs.swalPromiseResolve.set(h,S),bs.swalPromiseReject.set(h,J),m.confirmButton.onclick=()=>{(h=>{const m=Vt.innerParams.get(h);h.disableButtons(),m.input?Xl(h,"confirm"):va(h,!0)})(h)},m.denyButton.onclick=()=>{(h=>{const m=Vt.innerParams.get(h);h.disableButtons(),m.returnInputValueOnDeny?Xl(h,"deny"):Sr(h,!1)})(h)},m.cancelButton.onclick=()=>{((h,m)=>{h.disableButtons(),m(wt.cancel)})(h,Te)},m.closeButton.onclick=()=>{Te(wt.close)},((h,m,y)=>{h.toast?qi(h,m,y):(ou(m),su(m),wa(h,m,y))})(y,m,Te),((h,m,y)=>{$d(h),m.toast||(h.keydownHandler=S=>Sv(m,S,y),h.keydownTarget=m.keydownListenerCapture?window:ge(),h.keydownListenerCapture=m.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)})(W,y,Te),((h,m)=>{"select"===m.input||"radio"===m.input?Nv(h,m):["text","email","number","tel","textarea"].some(y=>y===m.input)&&(X(m.inputValue)||ne(m.inputValue))&&(Ve(it()),Bv(h,m))})(h,y),ic(y),Gv(W,y,Te),qv(m,y),setTimeout(()=>{m.container.scrollTop=0})}),$v=(h,m)=>{const y=(h=>{const m="string"==typeof h.template?document.querySelector(h.template):h.template;if(!m)return{};const y=m.content;return Hv(y),Object.assign(zv(y),tc(y),lu(y),Da(y),Sa(y),Fo(y),Bi(y,ec))})(h),S=Object.assign({},vt,m,y,h);return S.showClass=Object.assign({},vt.showClass,S.showClass),S.hideClass=Object.assign({},vt.hideClass,S.hideClass),!1===S.animation&&(S.showClass={backdrop:"swal2-noanimation"},S.hideClass={}),S},Wv=h=>{const m={popup:ge(),container:me(),actions:St(),confirmButton:it(),denyButton:pe(),cancelButton:de(),loader:he(),closeButton:st(),validationMessage:tt(),progressSteps:Ce()};return Vt.domCache.set(h,m),m},Gv=(h,m,y)=>{const S=ot();Wt(S),m.timer&&(h.timeout=new Ms(()=>{y("timer"),delete h.timeout},m.timer),m.timerProgressBar&&(Yt(S),gi(S,m,"timerProgressBar"),setTimeout(()=>{h.timeout&&h.timeout.running&&Eo(m.timer)})))},qv=(h,m)=>{if(!m.toast){if(!Q(m.allowEnterKey))return F("allowEnterKey"),void Xv();Yv(h)||Kv(h,m)||ql(-1,1)}},Yv=h=>{const m=Array.from(h.popup.querySelectorAll("[autofocus]"));for(const y of m)if(y instanceof HTMLElement&&Gt(y))return y.focus(),!0;return!1},Kv=(h,m)=>m.focusDeny&&Gt(h.denyButton)?(h.denyButton.focus(),!0):m.focusCancel&&Gt(h.cancelButton)?(h.cancelButton.focus(),!0):!(!m.focusConfirm||!Gt(h.confirmButton)||(h.confirmButton.focus(),0)),Xv=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};li.prototype.disableButtons=eu,li.prototype.enableButtons=Jd,li.prototype.getInput=ya,li.prototype.disableInput=En,li.prototype.enableInput=Un,li.prototype.hideLoading=Ze,li.prototype.disableLoading=Ze,li.prototype.showValidationMessage=bn,li.prototype.resetValidationMessage=$n,li.prototype.close=Dr,li.prototype.closePopup=Dr,li.prototype.closeModal=Dr,li.prototype.closeToast=Dr,li.prototype.rejectPromise=qd,li.prototype.update=iu,li.prototype._destroy=nu,Object.assign(li,Gn),Object.keys(Pt).forEach(h=>{li[h]=function(...m){return ur&&ur[h]?ur[h](...m):null}}),li.DismissReason=wt,li.version="11.26.4";const Ds=li;return Ds.default=Ds,Ds}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Ee,K){var $=Ee.createElement("style");if(Ee.getElementsByTagName("head")[0].appendChild($),$.styleSheet)$.styleSheet.disabled||($.styleSheet.cssText=K);else try{$.innerHTML=K}catch{$.innerText=K}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')},480:()=>{}},Se=>{Se(Se.s=943)}]);